!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(s,n,function(t){return e[t]}.bind(null,n));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=54)}([function(e,t){e.exports=require("react")},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var s=r(2);class n{static ReadShort(e,t){return(e.charCodeAt(t)<<8)+e.charCodeAt(t+1)}static ReadShortX(e,t){return(e.charCodeAt(t+1)<<8)+e.charCodeAt(t)}static ReadInt(e,t){return 16777216*e.charCodeAt(t)+(e.charCodeAt(t+1)<<16)+(e.charCodeAt(t+2)<<8)+e.charCodeAt(t+3)}static ReadSInt(e,t){return(e.charCodeAt(t)<<24)+(e.charCodeAt(t+1)<<16)+(e.charCodeAt(t+2)<<8)+e.charCodeAt(t+3)}static ReadIntX(e,t){return 16777216*e.charCodeAt(t+3)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+1)<<8)+e.charCodeAt(t)}static ShortToStr(e){return String.fromCharCode(e>>8&255,255&e)}static ShortToStrX(e){return String.fromCharCode(255&e,e>>8&255)}static IntToStr(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}static IntToStrX(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}static MakeToArray(e){return e&&null!=e&&"object"!=typeof e?[e]:e}static SplitArray(e){return e.split(",")}static Clone(e){return JSON.parse(JSON.stringify(e))}static EscapeHtml(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):"boolean"==typeof e||"number"==typeof e?e:void 0}static ArrayElementMove(e,t,r){e.splice(r,0,e.splice(t,1)[0])}static ObjectToStringEx(e,t){let r="";if(0!==e&&(!Object(s.a)(e)||null==e))return"(Null)";if(e instanceof Array)for(var n in e)r+="<br />"+this.gap(t)+"Item #"+n+": "+this.ObjectToStringEx(e[n],t+1);else if(e instanceof Object)for(var a in e)r+="<br />"+this.gap(t)+a+" = "+this.ObjectToStringEx(e[a],t+1);else r+=this.EscapeHtml(e);return r}static ObjectToStringEx2(e,t){let r="";if(0!==e&&(!Object(s.a)(e)||null==e))return"(Null)";if(e instanceof Array)for(var n in e)r+="\r\n"+this.gap2(t)+"Item #"+n+": "+this.ObjectToStringEx2(e[n],t+1);else if(e instanceof Object)for(var a in e)r+="\r\n"+this.gap2(t)+a+" = "+this.ObjectToStringEx2(e[a],t+1);else r+=this.EscapeHtml(e);return r}static gap(e){let t="";for(let r=0;r<4*e;r++)t+="&nbsp;";return t}static gap2(e){let t="";for(let r=0;r<4*e;r++)t+=" ";return t}static ObjectToString(e){return this.ObjectToStringEx(e,0)}static ObjectToString2(e){return this.ObjectToStringEx2(e,0)}static hex2rstr(e){if("string"!=typeof e||0===e.length)return"";let t="";const r=(""+e).match(/../g);let s;for(;s=r.shift();)t+=String.fromCharCode(Number("0x"+s));return t}static char2hex(e){return(e+256).toString(16).substr(-2).toUpperCase()}static rstr2hex(e){let t,r="";for(t=0;t<e.length;t++)r+=this.char2hex(e.charCodeAt(t));return r}static encode_utf8(e){return unescape(encodeURIComponent(e))}static decode_utf8(e){return decodeURIComponent(escape(e))}static data2blob(e){const t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return new Blob([new Uint8Array(t)])}static random(e){return Math.floor(Math.random()*e)}static trademarks(e){return e.replace(/\(R\)/g,"&reg;").replace(/\(TM\)/g,"&trade;")}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));const s=e=>null!=e&&""!==e&&!1!==e&&0!==e},function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return n}));r(44),r(45);const s=(e,t)=>{const r={Accept:"application/json","Content-Type":"application/json"};return n(t)?r["X-MPS-API-Key"]=e:r["X-RPS-API-Key"]=e,r},n=e=>null!=e&&""!==e&&!1!==e&&0!==e},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return o}));var s=r(16),n=r.n(s);r(3);const a=e=>n.a.t(e),o=(e,t)=>n.a.t(e,{translate:t})},,function(e,t,r){"use strict";var s;r.d(t,"a",(function(){return s})),function(e){e[e.VERBOSE=5]="VERBOSE",e[e.INFO=4]="INFO",e[e.DEBUG=3]="DEBUG",e[e.WARNING=2]="WARNING",e[e.ERROR=1]="ERROR"}(s||(s={}))},function(e,t,r){"use strict";var s=r(0),n=r.n(s),a=r(8);const o=r.n(a).a.div`
display: block;
position: fixed;
text-align: center;
bottom: 0;
left: 40%;
background: ${({type:e})=>i(e)};
border: ${({type:e})=>"1px solid "+i(e)};
margin: 10px;
padding: 10px;position: absolute;
color: #fff; 
font-weight:500;
z-index:1;
`,i=e=>"success"===e?"#4caf50":"warning"===e?"#ff9800":"error"===e?"#f44336":"#000000";t.a=({message:e,type:t})=>n.a.createElement(o,{type:t},e)},function(e,t){e.exports=require("styled-components")},function(e,t,r){"use strict";var s,n=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},a=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),o=[];function i(e){for(var t=-1,r=0;r<o.length;r++)if(o[r].identifier===e){t=r;break}return t}function c(e,t){for(var r={},s=[],n=0;n<e.length;n++){var a=e[n],c=t.base?a[0]+t.base:a[0],l=r[c]||0,h="".concat(c," ").concat(l);r[c]=l+1;var u=i(h),d={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(o[u].references++,o[u].updater(d)):o.push({identifier:h,updater:g(d,t),references:1}),s.push(h)}return s}function l(e){var t=document.createElement("style"),s=e.attributes||{};if(void 0===s.nonce){var n=r.nc;n&&(s.nonce=n)}if(Object.keys(s).forEach((function(e){t.setAttribute(e,s[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var h,u=(h=[],function(e,t){return h[e]=t,h.filter(Boolean).join("\n")});function d(e,t,r,s){var n=r?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(e.styleSheet)e.styleSheet.cssText=u(t,n);else{var a=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function p(e,t,r){var s=r.css,n=r.media,a=r.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var f=null,m=0;function g(e,t){var r,s,n;if(t.singleton){var a=m++;r=f||(f=l(t)),s=d.bind(null,r,a,!1),n=d.bind(null,r,a,!0)}else r=l(t),s=p.bind(null,r,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var r=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var s=0;s<r.length;s++){var n=i(r[s]);o[n].references--}for(var a=c(e,t),l=0;l<r.length;l++){var h=i(r[l]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}r=a}}}},function(e,t,r){"use strict";function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],s=!0,n=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(s=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);s=!0);}catch(e){n=!0,a=e}finally{try{s||null==i.return||i.return()}finally{if(n)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}e.exports=function(e){var t=s(e,4),r=t[1],n=t[3];if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),i="/*# ".concat(o," */"),c=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[r].concat(c).concat([i]).join("\n")}return[r].join("\n")}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,s){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(s)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(n[o]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);s&&n[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),t.push(c))}},t}},,function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var s=r(0),n=r.n(s);const a=n.a.createContext({data:{}});class o extends n.a.Component{render(){return n.a.createElement(a.Provider,{value:{data:this.props.data}},this.props.children)}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return c}));var s,n=r(1),a=r(20),o=r.n(a),i=r(2);!function(e){e[e.SOL=1]="SOL",e[e.KVM=2]="KVM",e[e.IDER=3]="IDER"}(s||(s={}));class c{constructor(e,t,r,s,n,a,o,i,c,l){this.fileReader=r,this.randomNonceChars="abcdef0123456789",this.host=s,this.port=n,this.user=a,this.pass=o,this.tls=i,this.tlsv1only=c,this.protocol=t,this.RedirectStartSol=String.fromCharCode(16,0,0,0,83,79,76,32),this.RedirectStartKvm=String.fromCharCode(16,1,0,0,75,86,77,82),this.RedirectStartIder=String.fromCharCode(16,0,0,0,73,68,69,82),this.urlvars={},this.server=l,this.amtAccumulator="",this.authUri="",this.logger=e}getWsLocation(){return this.isBrowser()&&!Object(i.a)(this.server)?`${window.location.protocol.replace("http","ws")}//\n      ${window.location.host}\n      ${window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/"))}\n      /webrelay.ashx?p=2&host=${this.host}&port=${this.port}&tls=${this.tls}${"*"===this.user?"&serverauth=1":""}${void 0===this.pass?"&serverauth=1&user="+this.user:""}&tls1only=${this.tlsv1only}`:`wss://${String(this.server)}/webrelay.ashx?p=2&host=${this.host}&port=${this.port}&tls=${this.tls}${"*"===this.user?"&serverauth=1":""}${void 0===this.pass?"&serverauth=1&user="+this.user:""}&tls1only=${this.tlsv1only}`}isBrowser(){try{const e="undefined"!=typeof window;return e&&this.logger.debug("!!!!!BROWSER!!!!!"),e}catch(e){return!1}}start(e){this.connectState=0,this.socket=new e(this.getWsLocation()),this.socket.onopen=this.onSocketConnected.bind(this),this.socket.onmessage=this.onMessage.bind(this),this.socket.onclose=this.onSocketClosed.bind(this);const t=e=>{this.onSocketData(e.target.result),0===this.fileReaderAcc.length?this.fileReaderInUse=!1:this.fileReader.readAsBinaryString(new Blob([this.fileReaderAcc.shift()]))},r=e=>{this.onSocketData(e.target.result),0===this.fileReaderAcc.length?this.fileReaderInUse=!1:this.fileReader.readAsArrayBuffer(this.fileReaderAcc.shift())};Object(i.a)(this.fileReader)&&Object(i.a)(this.fileReader.readAsBinaryString)?this.fileReader.onload=t.bind(this):Object(i.a)(this.fileReader)&&Object(i.a)(this.fileReader.readAsArrayBuffer)&&(this.fileReader.onloadend=r.bind(this)),this.logger.verbose("Connecting to websocket"),this.onStateChange(1)}onSocketConnected(){Object(i.a)(this.urlvars)&&Object(i.a)(this.urlvars.redirtrace)&&console.log("REDIR-CONNECT"),this.onStateChange(2),this.logger.verbose(`Connected to websocket server. With protocol ${this.protocol} (2 = KVM)`),this.logger.info("Start Redirect Session for protocol. "+this.protocol),this.protocol===s.SOL&&this.socketSend(this.RedirectStartSol),this.protocol===s.KVM&&this.socketSend(this.RedirectStartKvm),this.protocol===s.IDER&&this.socketSend(this.RedirectStartIder)}onMessage(e){try{if(this.inDataCount++,"object"==typeof e.data){if(this.fileReaderInUse)return void this.fileReaderAcc.push(e.data);if(null!=this.fileReader.readAsBinaryString)this.fileReaderInUse=!0,this.fileReader.readAsBinaryString(new Blob([e.data]));else if(null!=this.fileReader.readAsArrayBuffer)this.fileReaderInUse=!0,this.fileReader.readAsArrayBuffer(e.data);else{let t="";const r=new Uint8Array(e.data),s=r.byteLength;for(let e=0;e<s;e++)t+=String.fromCharCode(r[e]);this.onSocketData(t)}}else this.onSocketData(e.data)}catch(e){this.logger.error(e),this.stop(),this.onError()}}onSocketData(e){if(Object(i.a)(e)&&-1!==this.connectState){if("object"==typeof e){let t="";const r=new Uint8Array(e),s=r.byteLength;for(let e=0;e<s;e++)t+=String.fromCharCode(r[e]);e=t}else if("string"!=typeof e)return;if((this.protocol===s.KVM||this.protocol===s.IDER)&&1===this.connectState)return this.onProcessData(e);for(this.amtAccumulator+=e;this.amtAccumulator.length>=1;){let e=0;switch(this.amtAccumulator.charCodeAt(0)){case 17:if(this.logger.verbose("Start Redirection Session reply received for  "+this.protocol),this.amtAccumulator.length<4)return;switch(this.amtAccumulator.charCodeAt(1)){case 0:{if(this.logger.verbose("Session status success. Start handshake"),this.amtAccumulator.length<13)return;const t=this.amtAccumulator.charCodeAt(12);if(this.amtAccumulator.length<13+t)return;this.logger.verbose("Query for available authentication"),this.socketSend(String.fromCharCode(19,0,0,0,0,0,0,0,0)),e=13+t;break}default:this.stop()}break;case 20:{if(this.logger.verbose("Available Authentications reply received."),this.amtAccumulator.length<9)return;const t=n.a.ReadIntX(this.amtAccumulator,5);if(this.amtAccumulator.length<9+t)return;const r=this.amtAccumulator.charCodeAt(1),s=this.amtAccumulator.charCodeAt(4),a=[];for(let e=0;e<t;e++)a.push(this.amtAccumulator.charCodeAt(9+e));const o=this.amtAccumulator.substring(9,9+t);if(e=9+t,0===s)Object(i.a)(a.includes(4))?(this.logger.verbose("Good Digest Auth (With cnonce and all)"),this.socketSend(String.fromCharCode(19,0,0,0,4)+n.a.IntToStrX(this.user.length+this.authUri.length+8)+String.fromCharCode(this.user.length)+this.user+String.fromCharCode(0,0)+String.fromCharCode(this.authUri.length)+this.authUri+String.fromCharCode(0,0,0,0))):Object(i.a)(a.includes(3))?(this.logger.warn("Bad Digest Auth"),this.socketSend(String.fromCharCode(19,0,0,0,3)+n.a.IntToStrX(this.user.length+this.authUri.length+7)+String.fromCharCode(this.user.length)+this.user+String.fromCharCode(0,0)+String.fromCharCode(this.authUri.length)+this.authUri+String.fromCharCode(0,0,0))):Object(i.a)(a.includes(1))?(this.logger.verbose("Basic Auth"),this.socketSend(String.fromCharCode(19,0,0,0,1)+n.a.IntToStrX(this.user.length+this.pass.length+2)+String.fromCharCode(this.user.length)+this.user+String.fromCharCode(this.pass.length)+this.pass)):(this.logger.error("Auth Type not recognized. Stopping."),this.stop());else if(3!==s&&4!==s||1!==r)if(0===r){if(1===this.protocol){const e=1e4,t=100,r=0,s=1e4,a=100,o=0;this.socketSend(String.fromCharCode(32,0,0,0)+n.a.IntToStrX(this.amtSequence++)+n.a.ShortToStrX(e)+n.a.ShortToStrX(t)+n.a.ShortToStrX(r)+n.a.ShortToStrX(s)+n.a.ShortToStrX(a)+n.a.ShortToStrX(o)+n.a.IntToStrX(0))}2===this.protocol&&this.socketSend(String.fromCharCode(64,0,0,0,0,0,0,0)),3===this.protocol&&(this.connectState=1,this.onStateChange(3))}else this.stop();else{let e=0;const t=o.charCodeAt(e),r=o.substring(e+1,e+1+t);e+=t+1;const a=o.charCodeAt(e),i=o.substring(e+1,e+1+a);e+=a+1;let c=0,l=null;const h=this.generateRandomNonce(32),u="00000002";let d="";4===s&&(c=o.charCodeAt(e),l=o.substring(e+1,e+1+c),e+=c+1,d=`${u}:${h}:${String(l)} :`);const p=this.hex_md5(this.hex_md5(this.user+":"+r+":"+this.pass)+":"+i+":"+d+this.hex_md5("POST:"+this.authUri));let f=this.user.length+r.length+i.length+this.authUri.length+h.length+u.length+p.length+7;4===s&&(f+=parseInt(l.length)+1);let m=String.fromCharCode(19,0,0,0,s)+n.a.IntToStrX(f)+String.fromCharCode(this.user.length)+this.user+String.fromCharCode(r.length)+r+String.fromCharCode(i.length)+i+String.fromCharCode(this.authUri.length)+this.authUri+String.fromCharCode(h.length)+h+String.fromCharCode(u.length)+u+String.fromCharCode(p.length)+p;4===s&&(m+=String.fromCharCode(l.length)+l),this.socketSend(m)}break}case 33:if(this.amtAccumulator.length<23)break;this.logger.verbose("Response to settings"),e=23,this.socketSend(String.fromCharCode(39,0,0,0)+n.a.IntToStrX(this.amtSequence++)+String.fromCharCode(0,0,27,0,0,0)),1===this.protocol&&(this.amtKeepAliveTimer=setInterval(this.sendAmtKeepAlive.bind(this),2e3)),this.connectState=1,this.onStateChange(3);break;case 41:if(this.amtAccumulator.length<10)break;this.logger.verbose("Serial Settings"),e=10;break;case 42:{if(this.amtAccumulator.length<10)break;this.logger.verbose("Incoming display data");const t=10+((255&this.amtAccumulator.charCodeAt(9))<<8)+(255&this.amtAccumulator.charCodeAt(8));if(this.amtAccumulator.length<t)break;this.onProcessData(this.amtAccumulator.substring(10,t)),e=t;break}case 43:if(this.amtAccumulator.length<8)break;this.logger.verbose("Keep Alve message"),e=8;break;case 65:if(this.amtAccumulator.length<8)break;this.logger.verbose("KVM traffic. Call onStart handler. And forward rest of acc directly."),this.connectState=1,this.onStart(),this.amtAccumulator.length>8&&this.onProcessData(this.amtAccumulator.substring(8)),e=this.amtAccumulator.length;break;default:return this.logger.error(`Unknown Intel AMT command:  ${this.amtAccumulator.charCodeAt(0)}  acclen=${this.amtAccumulator.length}`),void this.stop()}if(0===e)return;this.amtAccumulator=this.amtAccumulator.substring(e)}}}hex_md5(e){return this.logger.verbose("MD5 the string"),o()(e)}socketSend(e){Object(i.a)(this.urlvars)&&Object(i.a)(this.urlvars.redirtrace)&&this.logger.verbose(`REDIR-SEND(${e.length}): ${n.a.rstr2hex(e)}`);try{if(null!=this.socket&&1===this.socket.readyState){const t=new Uint8Array(e.length);this.logger.verbose(`Redir Send( ${e.length}): ${n.a.rstr2hex(e)}`);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r);this.socket.send(t.buffer)}}catch(e){this.logger.error("Socket send error: "+String(e))}}send(e){this.logger.verbose("Send called "+e),null!=this.socket&&1===this.connectState&&(this.protocol===s.SOL?this.socketSend(String.fromCharCode(40,0,0,0)+n.a.IntToStrX(this.amtSequence++)+n.a.ShortToStrX(e.length)+e):this.socketSend(e))}sendAmtKeepAlive(){null!=this.socket&&this.socketSend(String.fromCharCode(43,0,0,0)+n.a.IntToStrX(this.amtSequence++))}generateRandomNonce(e){let t="";for(let r=0;r<e;r++)t+=this.randomNonceChars.charAt(Math.floor(Math.random()*this.randomNonceChars.length));return t}onSocketClosed(e){Object(i.a)(this.urlvars)&&Object(i.a)(this.urlvars.redirtrace)&&console.log("REDIR-CLOSED"),this.logger.warn("Redir Socket Closed"),this.stop()}onStateChange(e){console.info("onstatechange",e),this.state!==e&&(this.state=e,this.onNewState(this.state),null!=this.onStateChanged&&this.onStateChanged(this,this.state))}stop(){this.logger.warn("Stop called on Redirector. Change state to 0 and close Socket."),this.onStateChange(0),this.connectState=-1,this.amtAccumulator="",null!=this.socket&&(this.socket.close(),this.socket=null),null!=this.amtKeepAliveTimer&&(clearInterval(this.amtKeepAliveTimer),this.amtKeepAliveTimer=null)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var s=r(3),n=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function o(e){try{c(s.next(e))}catch(e){a(e)}}function i(e){try{c(s.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}c((s=s.apply(e,t||[])).next())}))};class a{static get(e,t,r={}){return n(this,void 0,void 0,(function*(){const n=Object(s.b)(t);return yield a.fetch(e,Object.assign(Object.assign({},r),{method:"GET",headers:n}))}))}static post(e,t={},r,o,i={}){return n(this,void 0,void 0,(function*(){const n=Object(s.b)(r,o);return Object(s.a)(o)?yield a.fetch(e,Object.assign(Object.assign({},i),{method:"POST",body:t,headers:n})):yield a.fetchRPS(e,Object.assign(Object.assign({},i),{method:"POST",body:t,headers:n}))}))}static delete(e,t,r={}){return n(this,void 0,void 0,(function*(){const n=Object(s.b)(t);return yield a.fetchRPS(e,Object.assign(Object.assign({},r),{method:"DELETE",headers:n}))}))}static patch(e,t={},r,o={}){return n(this,void 0,void 0,(function*(){const n=Object(s.b)(r);return yield a.fetchRPS(e,Object.assign(Object.assign({},o),{method:"PATCH",body:t,headers:n}))}))}static fetch(e,t={}){return n(this,void 0,void 0,(function*(){return t.mode="cors",t.credentials="include",t.withCredentials=!0,yield fetch(e,t).then(e=>n(this,void 0,void 0,(function*(){return yield e.json()})))}))}static fetchRPS(e,t={}){return n(this,void 0,void 0,(function*(){return yield fetch(e,t).then(e=>n(this,void 0,void 0,(function*(){return{status:e.status,data:204===e.status?null:yield e.json()}})))}))}}},function(e,t){e.exports=require("i18next")},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));var s=r(3),n=r(15),a=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function o(e){try{c(s.next(e))}catch(e){a(e)}}function i(e){try{c(s.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}c((s=s.apply(e,t||[])).next())}))};const o=(e,t,r,o,i)=>a(void 0,void 0,void 0,(function*(){const a=JSON.stringify({apikey:"xxxxx",method:"PowerAction",payload:Object(s.a)(i)?{guid:e,action:t,useSOL:i}:{guid:e,action:t}}),c=null!=r?r:"";return yield n.a.post(`https://${c}/amt`,a,o,!0)})),i=(e,t,r)=>a(void 0,void 0,void 0,(function*(){const s=JSON.stringify({apikey:"xxxxx",method:"PowerState",payload:{guid:e}}),a=null!=t?t:"";return yield n.a.post(`https://${a}/amt`,s,r,!0)}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return n}));const s=[{value:"2",label:"Power Up"},{value:"101",label:"Reset To BIOS"},{value:"4",label:"Sleep"},{value:"5",label:"Power Cycle"},{value:"7",label:"Hibernate"},{value:"8",label:"Power Down"},{value:"10",label:"Reset"},{value:"12",label:"Soft-Off"},{value:"14",label:"Soft Reset"},{value:"100",label:"Power Up To BIOS"},{value:"400",label:"Reset To PXE"},{value:"401",label:"Power Up To PXE"}],n=e=>2===e?"Power Up":8===e?"Power Off":5===e?"Power Cycle":10===e?"Reset":12===e?"Soft Off":14===e?"Soft Reset":4===e?"Sleep":7===e?"Hibernate":100===e?"Power Up To BIOS":101===e?"Reset To BIOS":null},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var s=r(6);class n{constructor(e){this.minLevel=e}log(e,t){switch(e){case s.a.VERBOSE:this.verbose(t);break;case s.a.INFO:this.info(t);break;case s.a.DEBUG:this.debug(t);break;case s.a.WARNING:this.warn(t);break;case s.a.ERROR:this.error(t)}}debug(e){this.minLevel>=s.a.DEBUG&&console.debug(e)}info(e){this.minLevel>=s.a.INFO&&console.info(e)}error(e){this.minLevel>=s.a.ERROR&&console.error(e)}warn(e){this.minLevel>=s.a.WARNING&&console.warn(e)}verbose(e){this.minLevel>=s.a.VERBOSE&&console.log(e)}}},function(e,t){e.exports=require("md5")},function(e,t,r){"use strict";var s=r(10),n=r.n(s),a=r(11),o=r.n(a)()(n.a);o.push([e.i,".label-text{margin-left:8px}.grey-label{opacity:.5}","",{version:3,sources:["webpack://./src/reactjs/components/shared/amtfeatures.scss"],names:[],mappings:"AAMC,YACI,eAHS,CAMb,YACI,UANM",sourcesContent:["/*********************************************************************\r\n * Copyright (c) Intel Corporation 2020\r\n * SPDX-License-Identifier: Apache-2.0\r\n **********************************************************************/\r\n $marginLeft: 8px;\r\n $opacity: 0.5;\r\n .label-text {\r\n     margin-left: $marginLeft;\r\n }\r\n\r\n .grey-label {\r\n     opacity: $opacity;\r\n }"],sourceRoot:""}]),t.a=o},,,,,,,,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var s=r(0),n=r.n(s);const a=e=>n.a.createElement("select",{onClick:e.onChange,name:"PowerOptions"},n.a.createElement("option",{value:"",selected:!e.isSelected},"Choose"),e.availableOptions.map(({value:e,label:t})=>n.a.createElement("option",{key:e,value:e},t)))},function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var s=r(0),n=r.n(s),a=r(17),o=r(13),i=r(3);class c extends n.a.Component{constructor(e){super(e),this.getAmtPowerState=()=>{Object(a.a)(this.props.deviceId,this.props.server,this.context.data.mpsKey).then(e=>{this.props.updateParent(),Object(i.a)(e.powerstate)?this.setState({powerState:e.powerstate}):this.setState({powerState:100}),2===e.powerstate?this.props.handlePowerStatus("poweron"):100!==this.state.powerState?this.props.handlePowerStatus("sleep"):this.props.handlePowerStatus("failed")}).catch(e=>{console.info("error",e)})},this.renderPowerState=e=>{switch(e){case 1:case 10:case 11:case 14:case 17:return n.a.createElement("span",{style:{color:"red"}},"Other");case 2:return n.a.createElement("span",{style:{color:"green"}},"Power on");case 3:case 4:return n.a.createElement("span",{style:{color:"red"}},"deep sleep");case 5:case 6:case 8:case 9:case 12:case 13:case 15:case 16:return n.a.createElement("span",{style:{color:"red"}},"Power Off");case 7:return n.a.createElement("span",{style:{color:"red"}},"Hibernate");default:return n.a.createElement("span",{style:{color:"red"}},"Unknown")}},this.state={powerState:0}}componentDidMount(){this.getAmtPowerState(),this.timeInterval=setInterval(()=>this.getAmtPowerState(),15e3)}componentWillUnmount(){clearInterval(this.timeInterval)}render(){const{powerState:e}=this.state;return this.renderPowerState(e)}}c.contextType=o.a},function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var s=r(0),n=r.n(s),a=r(15),o=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function o(e){try{c(s.next(e))}catch(e){a(e)}}function i(e){try{c(s.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}c((s=s.apply(e,t||[])).next())}))};var i=r(8),c=r.n(i),l=r(3),h=function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]])}return r};const u=c.a.div`
  display: inline-block;
  vertical-align: middle;
`,d=c.a.svg`
  fill: none;
  stroke: green;
  stroke-width: 2px;
`,p=c.a.input.attrs({type:"checkbox"})`
  border: 0;
  clip: rect(0 0 0 0);
  clippath: inset(50%);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`,f=c.a.div`
  display: inline-block;
  width: 16px;
  height: 16px;
  background-color: ${({disableCheckbox:e})=>m(e)};
  border-radius: 1px solid black;
  transition: all 150ms;

  ${p}:focus + & {
    box-shadow: 0 0 0 1px white;
  }

  ${d} {
    visibility: ${e=>Object(l.a)(e.checked)?"visible":"hidden"}
  }
`,m=e=>!0===e?"#ccc":"white",g=e=>{var{className:t,checked:r,disableCheckbox:s}=e,a=h(e,["className","checked","disableCheckbox"]);return n.a.createElement(u,{className:t},n.a.createElement(p,Object.assign({checked:r},a,{disabled:s})),n.a.createElement(f,{checked:r,disableCheckbox:s},n.a.createElement(d,{viewBox:"0 0 24 24"},n.a.createElement("polyline",{points:"20 6 9 17 4 12"}))))};var S=r(7),b=r(4),v=r(9),y=r.n(v),C=r(21),A={insert:"head",singleton:!1},w=(y()(C.a,A),C.a.locals,r(13));class O extends s.Component{constructor(e){super(e),this.fetchAmtFeatures=()=>{const e=null!=this.props.server?this.props.server:"";((e,t,r)=>o(void 0,void 0,void 0,(function*(){const s=JSON.stringify({apikey:"xxxxx",method:"GetAMTFeatures",payload:{guid:e}});return yield a.a.post(`https://${t}/amt`,s,r,!0)})))(this.props.deviceId,e,this.context.data.mpsKey).then(e=>{200===e.statuscode?this.setState({userConsent:e.payload.userConsent,useKVM:e.payload.KVM,useSOL:e.payload.SOL,useIDER:e.payload.IDER,redirection:e.payload.redirection},()=>this.updateCheckboxStatus()):this.props.handleFeatureStatus("failed")}).catch(()=>console.info("error"))},this.updateCheckboxStatus=()=>{const{feature:e}=this.props,{useKVM:t,useSOL:r,useIDER:s,redirection:n}=this.state;n&&(e===Object(b.b)("amtFeatures.features.kvm")&&t||e===Object(b.b)("amtFeatures.features.sol")&&r||"IDER"===e&&s)?(this.setState({checked:!0}),this.props.handleFeatureStatus("enabled")):this.props.handleFeatureStatus("notEnabled")},this.setAmtFeature=()=>{const{deviceId:e,feature:t,server:r,handleFeatureStatus:s}=this.props,{useKVM:n,useIDER:i,useSOL:c,checked:l}=this.state,h=l?Object(b.b)("amtFeatures.enabled"):Object(b.b)("amtFeatures.disabled"),u=null!=r?r:"";s("enabled");const d={feature:t,featureText:h};((e,t,r,s,n,i,c)=>o(void 0,void 0,void 0,(function*(){const o=JSON.stringify({apikey:"xxxxx",method:"SetAMTFeatures",payload:{guid:e,userConsent:t,enableKVM:r,enableSOL:s,enableIDER:n}});return yield a.a.post(`https://${i}/amt`,o,c,!0)})))(e,"none",n,c,i,u,this.context.data.mpsKey).then(e=>{200===e.statuscode?this.setState({showMessage:!0,message:Object(b.a)("amtFeatures.messages.featureSuccess",d),type:Object(b.b)("amtFeatures.messageTypes.success")}):this.setState({showMessage:!0,checked:!l,message:Object(b.a)("amtFeatures.messages.updateFailed",d),type:Object(b.b)("amtFeatures.messageTypes.error")}),setTimeout(()=>{this.setState({showMessage:!1}),this.state.checked||this.props.handleFeatureStatus("notEnabled")},4e3)}).catch(e=>console.info("error",e))},this.handleCheckboxChange=e=>{switch(this.props.feature){case"KVM":this.setState({checked:e.target.checked,useKVM:e.target.checked},()=>this.setAmtFeature());break;case"SOL":this.setState({checked:e.target.checked,useSOL:e.target.checked},()=>this.setAmtFeature());break;case"IDER":this.setState({checked:e.target.checked,useIDER:e.target.checked},()=>this.setAmtFeature());break;default:this.setState({checked:e.target.checked})}},this.state={checked:!1,userConsent:"",useKVM:!1,useSOL:!1,useIDER:!1,redirection:!1,showMessage:!1,message:"",type:""}}componentDidMount(){this.fetchAmtFeatures()}render(){const{feature:e}=this.props,{showMessage:t,message:r,type:n}=this.state;return s.createElement(s.Fragment,null,t&&s.createElement(S.a,{message:r,type:n}),s.createElement("label",null,s.createElement(g,{checked:this.state.checked,onChange:this.handleCheckboxChange,className:"checkbox-class",disableCheckbox:2===this.props.getConnectState()}),s.createElement("span",{className:"label-text "+(2===this.props.getConnectState()?"grey-label":"")},e," ",Object(b.b)("amtFeatures.enabled"))))}}O.contextType=w.a},,,,,,function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));class s{constructor(){this.terminalEmulation=1,this.fxEmulation=0,this.fxLineBreak=0,this.AsciiToUnicode=[199,252,233,226,228,224,229,231,234,235,232,239,238,236,196,197,201,230,198,244,246,242,251,249,255,214,220,162,163,165,8359,402,225,237,243,250,241,209,170,218,191,8976,172,189,188,161,171,187,9619,9618,9617,9474,9508,9569,9570,9558,9557,9571,9553,9559,9565,9564,9563,9488,9492,9524,9516,9500,9472,9532,9566,9567,9562,9556,9577,9574,9568,9552,9580,9575,9576,9572,9573,9576,9560,9554,9555,9579,9578,9496,9484,9608,9604,9611,9616,9600,945,223,915,960,931,963,181,964,966,952,8486,948,8734,248,949,8719,8801,177,8805,8806,8992,8993,247,8776,176,8226,183,8730,8319,178,8718,160],this.AsciiToUnicodeIntel=[199,252,233,226,228,224,229,231,234,235,232,239,238,236,196,197,201,230,198,244,246,242,251,249,255,214,220,162,163,165,8359,402,225,237,243,250,241,209,170,218,191,8976,172,189,188,161,174,187,9619,9618,9617,9474,9508,9569,9570,9558,9557,9571,9553,9559,9565,9564,9563,9488,9492,9524,9516,9500,9472,9532,9566,9567,9562,9556,9577,9574,9568,9552,9580,9575,9576,9572,9573,9576,9560,9554,9555,9579,9578,9496,9484,9608,9604,9611,9616,9600,945,223,915,960,931,963,181,964,966,952,8486,948,8734,248,949,8719,8801,177,8805,8806,8992,8993,247,8776,176,8226,183,8730,8319,178,8718,160],this.StateChange=e=>{},this.TermSendKeys=e=>this.onSend(e)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));class s{constructor(e){this.processData=e=>{null!=this.terminal.capture&&(this.terminal.capture+=e);let t="";for(let r=0;r<e.length;r++){const s=e.charCodeAt(r);"J"===e[r]?this.clearTerminal():t+=0!=(128&s)?String.fromCharCode(this.terminal.AsciiToUnicode[127&s]):""+e[r]}this.processDataToXterm(t)},this.terminal=e}}},,function(e,t){e.exports=require("dot-object")},function(e,t){e.exports=require("camelcase")},,,,,,function(e,t,r){"use strict";var s=r(10),n=r.n(s),a=r(11),o=r.n(a)()(n.a);o.push([e.i,".sol-header{display:flex}.power-options{display:block;position:absolute;right:1%}","",{version:3,sources:["webpack://./src/reactjs/components/SerialOverLAN/sol.scss"],names:[],mappings:"AAIA,YACI,YAAA,CAEJ,eACC,aAAA,CACA,iBAAA,CACA,QAAA",sourcesContent:["/*********************************************************************\r\n* Copyright (c) Intel Corporation 2019\r\n* SPDX-License-Identifier: Apache-2.0\r\n**********************************************************************/\r\n.sol-header {\r\n    display: flex;\r\n}\r\n.power-options {\r\n\tdisplay: block;\r\n\tposition: absolute;\r\n\tright: 1%;\r\n}\r\n"],sourceRoot:""}]),t.a=o},function(e,t){e.exports=require("xterm")},,function(e,t,r){"use strict";r.r(t),r.d(t,"Sol",(function(){return L}));var s=r(0),n=r.n(s),a=r(41),o=r(8),i=r.n(o),c=r(14),l=r(19),h=r(6),u=r(42),d=r(33),p=r(52),f=r(3);const m=i.a.div`
   display:block;
   text-align:center;
`,g=i.a.div`
   display:inline-block;
`;class S extends n.a.Component{componentDidMount(){var e;const t=null!==(e=document.getElementById("xterm"))&&void 0!==e?e:"",{xterm:r,handleKeyPress:s}=this.props;Object(f.a)(t)&&(r.open(t),r.onData(e=>s(e)),r.attachCustomKeyEventHandler(e=>(e.stopPropagation(),e.preventDefault(),Object(f.a)(e.ctrlKey)&&Object(f.a)(e.shiftKey)&&67===e.keyCode?navigator.clipboard.writeText(r.getSelection()):Object(f.a)(e.ctrlKey)&&Object(f.a)(e.shiftKey)&&86===e.keyCode?navigator.clipboard.readText().then(e=>s(e)):"Space"===e.code?s(e.key):void 0)))}render(){return n.a.createElement(m,null,n.a.createElement(g,{id:"xterm"}))}}var b=S,v=r(18),y=(r(60),r(9)),C=r.n(y),A=r(51),w={insert:"head",singleton:!1},O=(C()(A.a,w),A.a.locals,r(17)),x=r(7),k=r(35),E=r(34),R=r(4),j=r(13),I=function(e,t,r,s){return new(r||(r=Promise))((function(n,a){function o(e){try{c(s.next(e))}catch(e){a(e)}}function i(e){try{c(s.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}c((s=s.apply(e,t||[])).next())}))};const T=i.a.div`
display : inline-block;
padding : 0px 5px;
`,P=i.a.div`
background-color: darkgray;
padding: 5px;
font-size: 13px;
text-align: center;
`,D=i.a.label`
font-size : 15px;
margin-left: 30px;
`;class L extends n.a.Component{constructor(e){super(e),this.init=()=>{const e=null!=this.props.mpsServer?this.props.mpsServer:"",t=null!=this.props.deviceId?this.props.deviceId:"";this.terminal=new a.a,this.redirector=new c.a(this.logger,c.b.SOL,new FileReader,t,16994,"","",0,0,e+"/relay"),this.dataProcessor=new u.a(this.terminal),this.terminal.onSend=this.redirector.send.bind(this.redirector),this.redirector.onNewState=this.terminal.StateChange.bind(this.terminal),this.redirector.onStateChanged=this.onTerminalStateChange.bind(this),this.redirector.onProcessData=this.dataProcessor.processData.bind(this.dataProcessor),this.dataProcessor.processDataToXterm=this.handleWriteToXterm.bind(this),this.dataProcessor.clearTerminal=this.handleClearTerminal.bind(this),this.term=new p.Terminal({cursorStyle:"block",fontWeight:"bold",rows:30,cols:100})},this.cleanUp=()=>{this.terminal=null,this.redirector=null,this.dataProcessor=null,this.term=null},this.handleWriteToXterm=e=>this.term.write(e),this.handleClearTerminal=()=>this.term.reset(),this.handleKeyPress=e=>this.terminal.TermSendKeys(e),this.handleKeyDownPress=e=>this.terminal.handleKeyDownEvents(e),this.startSOL=()=>{void 0!==this.redirector&&this.redirector.start(WebSocket)},this.stopSOL=()=>{void 0!==this.redirector&&this.redirector.stop(),this.handleClearTerminal(),this.cleanUp(),this.init()},this.handleSOLConnect=e=>{e.persist(),0===this.state.SOLstate?this.startSOL():this.stopSOL()},this.onTerminalStateChange=(e,t)=>this.setState({SOLstate:t}),this.handlePowerOptions=e=>I(this,void 0,void 0,(function*(){if(0===e.detail){const{mpsKey:t}=this.context.data,r=Object(v.b)(parseInt(e.target.value));3!==this.state.SOLstate||"8"!==e.target.value&&"5"!==e.target.value?Object(O.b)(this.props.deviceId,e.target.value,this.props.mpsServer,t,!0).then(e=>{const t=e.Body;void 0!==t&&"SUCCESS"===t.ReturnValueStr?this.setState({showSuccess:!0,type:"success",message:r+" success",isSelected:!this.state.isSelected}):this.setState({showSuccess:!0,type:"error",message:void 0!==t&&0!==t.ReturnValue?`${r} ${String(t.ReturnValueStr)}`:e.errorDescription||"Sorry! there was some technical difficulties",isSelected:!this.state.isSelected}),setTimeout(()=>this.setState({showSuccess:!1,isSelected:!this.state.isSelected}),4e3)}).catch(e=>{console.log(e),this.setState({showSuccess:!0,type:"error",message:Object(f.a)(e.ajaxError.response)&&String(e.ajaxError.response.error)||"Power Action Failed",isSelected:!this.state.isSelected}),setTimeout(()=>this.setState({showSuccess:!1,isSelected:!this.state.isSelected}),4e3)}):this.setState({showSuccess:!0,type:"warning",message:r+" not allowed while termina1 is connected",isSelected:!this.state.isSelected})}})),this.handleFeatureStatus=e=>{this.setState({solNotEnabled:e})},this.handlePowerStatus=e=>{this.setState({deviceOnSleep:e})},this.updatePowerStatus=()=>{this.setState({isPowerStateLoaded:!0})},this.getSOLState=()=>3===this.state.SOLstate?2:0,this.logger=new l.a(h.a.ERROR),this.state={isConnected:!1,SOLstate:0,powerState:0,showSuccess:!1,message:"",isSelected:!0,type:"",solNotEnabled:"",deviceOnSleep:"",isPowerStateLoaded:!1}}componentDidMount(){this.init()}render(){const{SOLstate:e,showSuccess:t,message:r,type:s,deviceOnSleep:a,solNotEnabled:o,isPowerStateLoaded:i}=this.state;return n.a.createElement(n.a.Fragment,null,"failed"===o&&"poweron"===a?n.a.createElement(x.a,{message:Object(R.b)("amtFeatures.messages.failedSolFetch"),type:"error"}):"","failed"===o&&"sleep"===a?n.a.createElement(x.a,{message:Object(R.b)("amtFeatures.messages.failedSolFetchAndNotPoweredUp"),type:"warning"}):"","failed"===o&&"failed"===a?n.a.createElement(x.a,{message:Object(R.b)("amtFeatures.messages.failedSolFetchAndFailedPowerFetch"),type:"error"}):"","notEnabled"===o&&"sleep"===a?n.a.createElement(x.a,{message:Object(R.b)("amtFeatures.messages.solNotEnabledAndNotPoweredUp"),type:"warning"}):"","notEnabled"===o&&"failed"===a?n.a.createElement(x.a,{message:Object(R.b)("amtFeatures.messages.solNotEnabledAndFailedPowerFetch"),type:"warning"}):"","enabled"===o&&"sleep"===a?n.a.createElement(x.a,{message:Object(R.b)("amtFeatures.messages.notPoweredUp"),type:"warning"}):"","enabled"===o&&"failed"===a?n.a.createElement(x.a,{message:Object(R.b)("amtFeatures.messages.failedPowerFetch"),type:"error"}):"","notEnabled"===o&&"poweron"===a?n.a.createElement(x.a,{message:Object(R.b)("amtFeatures.messages.solNotEnabled"),type:"warning"}):"",t&&n.a.createElement(x.a,{message:r,type:s}),n.a.createElement(P,null,n.a.createElement(T,null,n.a.createElement(D,null,i&&n.a.createElement(k.a,{deviceId:this.props.deviceId,server:this.props.mpsServer,feature:"SOL",handleFeatureStatus:this.handleFeatureStatus,getConnectState:this.getSOLState}))),n.a.createElement(T,null,n.a.createElement("button",{onClick:this.handleSOLConnect},3===e?"Disconnect":"Connect")),n.a.createElement(T,null,n.a.createElement(D,null,"Power Status :"),n.a.createElement(E.a,{deviceId:this.props.deviceId,server:this.props.mpsServer,handlePowerStatus:this.handlePowerStatus,updateParent:this.updatePowerStatus})),n.a.createElement(T,null,n.a.createElement(D,null,"Power Actions:"," "),n.a.createElement(d.a,{availableOptions:v.a,onChange:this.handlePowerOptions,isSelected:this.state.isSelected}))),3===e&&this.term&&n.a.createElement(b,{handleKeyPress:this.handleKeyPress,handleKeyDownPress:this.handleKeyDownPress,xterm:this.term}))}}L.contextType=j.a},,,,,,function(e,t){e.exports=require("xterm/css/xterm.css")}]));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVhY3RcIiIsIndlYnBhY2s6Ly8vLi9zcmMvY29yZS9Db252ZXJ0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvVXRpbGl0aWVzL1V0aWxpdHlNZXRob2RzLnRzIiwid2VicGFjazovLy8uL3NyYy9yZWFjdGpzL2NvbXBvbmVudHMvc2hhcmVkL1V0aWxpdGllcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVhY3Rqcy9jb21wb25lbnRzL3NoYXJlZC9NZXRob2RzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0lMb2dnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlYWN0anMvY29tcG9uZW50cy9zaGFyZWQvU25hY2tCYXIudHN4Iiwid2VicGFjazovLy9leHRlcm5hbCBcInN0eWxlZC1jb21wb25lbnRzXCIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlYWN0anMvY29tcG9uZW50cy9zaGFyZWQvY29udGV4dC9CYXNpY0NvbnRleHRQcm92aWRlci50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvQU1UUmVkaXJlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVhY3Rqcy9jb21wb25lbnRzL3NlcnZpY2VzL0h0dHBDbGllbnQudHMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiaTE4bmV4dFwiIiwid2VicGFjazovLy8uL3NyYy9yZWFjdGpzL2NvbXBvbmVudHMvc2VydmljZXMvUG93ZXJBY3Rpb25TZXJ2aWNlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVhY3Rqcy9jb21wb25lbnRzL3NoYXJlZC9Qb3dlckFjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvcmUvQ29uc29sZUxvZ2dlci50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtZDVcIiIsIndlYnBhY2s6Ly8vLi9zcmMvcmVhY3Rqcy9jb21wb25lbnRzL3NoYXJlZC9hbXRmZWF0dXJlcy5zY3NzIiwid2VicGFjazovLy8uL3NyYy9yZWFjdGpzL2NvbXBvbmVudHMvc2hhcmVkL1Bvd2VyT3B0aW9ucy50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlYWN0anMvY29tcG9uZW50cy9zaGFyZWQvUG93ZXJTdGF0ZS50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlYWN0anMvY29tcG9uZW50cy9zaGFyZWQvQ2hlY2tib3gudHN4Iiwid2VicGFjazovLy8uL3NyYy9yZWFjdGpzL2NvbXBvbmVudHMvc2hhcmVkL2FtdGZlYXR1cmVzLnNjc3M/NWEzNSIsIndlYnBhY2s6Ly8vLi9zcmMvcmVhY3Rqcy9jb21wb25lbnRzL3NoYXJlZC9BbXRGZWF0dXJlcy50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlYWN0anMvY29tcG9uZW50cy9zZXJ2aWNlcy9BbXRGZWF0dXJlc1NlcnZpY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL0FNVFRlcm1pbmFsLnRzIiwid2VicGFjazovLy8uL3NyYy9jb3JlL1Rlcm1pbmFsRGF0YVByb2Nlc3Nvci50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkb3Qtb2JqZWN0XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiY2FtZWxjYXNlXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlYWN0anMvY29tcG9uZW50cy9TZXJpYWxPdmVyTEFOL3NvbC5zY3NzIiwid2VicGFjazovLy9leHRlcm5hbCBcInh0ZXJtXCIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JlYWN0anMvY29tcG9uZW50cy9TZXJpYWxPdmVyTEFOL1Rlcm1pbmFsLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvcmVhY3Rqcy9jb21wb25lbnRzL1NlcmlhbE92ZXJMQU4vc29sLnNjc3M/OWI5MiIsIndlYnBhY2s6Ly8vLi9zcmMvcmVhY3Rqcy9jb21wb25lbnRzL1NlcmlhbE92ZXJMQU4vU29sLnRzeCIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ4dGVybS9jc3MveHRlcm0uY3NzXCIiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJyZXF1aXJlIiwiVHlwZUNvbnZlcnRlciIsInYiLCJjaGFyQ29kZUF0IiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwic3BsaXQiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJ4IiwicmVwbGFjZSIsImFyciIsImZyb20iLCJ0byIsInNwbGljZSIsIkFycmF5IiwidGhpcyIsImdhcCIsIk9iamVjdFRvU3RyaW5nRXgiLCJqIiwiRXNjYXBlSHRtbCIsImdhcDIiLCJPYmplY3RUb1N0cmluZ0V4MiIsImxlbmd0aCIsIm1hdGNoIiwic2hpZnQiLCJOdW1iZXIiLCJ0b1N0cmluZyIsInN1YnN0ciIsInRvVXBwZXJDYXNlIiwiaW5wdXQiLCJjaGFyMmhleCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZXNjYXBlIiwiZGF0YSIsImJ5dGVzIiwiQmxvYiIsIlVpbnQ4QXJyYXkiLCJtYXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJpc1RydXRoeSIsInByZXBhcmVIZWFkZXJzIiwiYXBpS2V5IiwiaXNNcHNDb250cm9sIiwiaGVhZGVycyIsIkFjY2VwdCIsImlzRmFsc3kiLCJ0cmFuc2xhdGVUZXh0IiwidGV4dCIsInRyYW5zbGF0ZUR5bmFtaWNUZXh0IiwidHJhbnNsYXRlIiwiTG9nTGV2ZWwiLCJTdHlsZWRCYXIiLCJkaXYiLCJ0eXBlIiwiZ2V0Q29sb3JzIiwibWVzc2FnZSIsIm1lbW8iLCJpc09sZElFIiwiQm9vbGVhbiIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImlkIiwiYmFzZSIsImNvdW50IiwiY29uY2F0IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwicHVzaCIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJfc2xpY2VkVG9BcnJheSIsImlzQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJpdGVyYXRvciIsIl9hcnIiLCJfbiIsIl9kIiwiX2UiLCJ1bmRlZmluZWQiLCJfcyIsIm5leHQiLCJkb25lIiwiZXJyIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwibWluTGVuIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwidGVzdCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIlR5cGVFcnJvciIsIl9ub25JdGVyYWJsZVJlc3QiLCJsZW4iLCJhcnIyIiwiX2l0ZW0iLCJjb250ZW50IiwiY3NzTWFwcGluZyIsImJhc2U2NCIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsIm1hcCIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJEb21haW5Db250ZXh0IiwiY3JlYXRlQ29udGV4dCIsIlByb3ZpZGVyIiwiQ29tcG9uZW50IiwicHJvcHMiLCJjaGlsZHJlbiIsIlByb3RvY29sIiwiQU1UUmVkaXJlY3RvciIsImxvZ2dlciIsInByb3RvY29sIiwiZnIiLCJob3N0IiwicG9ydCIsInVzZXIiLCJwYXNzIiwidGxzIiwidGxzMW9ubHkiLCJzZXJ2ZXIiLCJmaWxlUmVhZGVyIiwicmFuZG9tTm9uY2VDaGFycyIsInRsc3Yxb25seSIsIlJlZGlyZWN0U3RhcnRTb2wiLCJSZWRpcmVjdFN0YXJ0S3ZtIiwiUmVkaXJlY3RTdGFydElkZXIiLCJ1cmx2YXJzIiwiYW10QWNjdW11bGF0b3IiLCJhdXRoVXJpIiwiaXNCcm93c2VyIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwiaXNXZWIiLCJkZWJ1ZyIsImNvbm5lY3RTdGF0ZSIsInNvY2tldCIsImdldFdzTG9jYXRpb24iLCJvbm9wZW4iLCJvblNvY2tldENvbm5lY3RlZCIsIm9ubWVzc2FnZSIsIm9uTWVzc2FnZSIsIm9uY2xvc2UiLCJvblNvY2tldENsb3NlZCIsIm9ubG9hZCIsIm9uU29ja2V0RGF0YSIsImZpbGVSZWFkZXJBY2MiLCJmaWxlUmVhZGVySW5Vc2UiLCJyZWFkQXNCaW5hcnlTdHJpbmciLCJvbmxvYWRlbmQiLCJyZWFkQXNBcnJheUJ1ZmZlciIsInZlcmJvc2UiLCJvblN0YXRlQ2hhbmdlIiwicmVkaXJ0cmFjZSIsImNvbnNvbGUiLCJsb2ciLCJpbmZvIiwiU09MIiwic29ja2V0U2VuZCIsIktWTSIsIklERVIiLCJpbkRhdGFDb3VudCIsImJpbmFyeSIsImJ5dGVMZW5ndGgiLCJlcnJvciIsInN0b3AiLCJvbkVycm9yIiwib25Qcm9jZXNzRGF0YSIsImNtZHNpemUiLCJvZW1sZW4iLCJhdXRoRGF0YUxlbiIsIlJlYWRJbnRYIiwic3RhdHVzIiwiYXV0aFR5cGUiLCJhdXRoRGF0YSIsImF1dGhEYXRhQnVmIiwiaW5jbHVkZXMiLCJJbnRUb1N0clgiLCJ3YXJuIiwiTWF4VHhCdWZmZXIiLCJUeFRpbWVvdXQiLCJUeE92ZXJmbG93VGltZW91dCIsIlJ4VGltZW91dCIsIlJ4Rmx1c2hUaW1lb3V0IiwiSGVhcnRiZWF0IiwiYW10U2VxdWVuY2UiLCJTaG9ydFRvU3RyWCIsImN1cnB0ciIsInJlYWxtbGVuIiwicmVhbG0iLCJub25jZWxlbiIsInFvcGxlbiIsInFvcCIsImNub25jZSIsImdlbmVyYXRlUmFuZG9tTm9uY2UiLCJzbmMiLCJleHRyYSIsImRpZ2VzdCIsImhleF9tZDUiLCJ0b3RhbGxlbiIsInBhcnNlSW50IiwiYnVmIiwiYW10S2VlcEFsaXZlVGltZXIiLCJzZXRJbnRlcnZhbCIsInNlbmRBbXRLZWVwQWxpdmUiLCJjcyIsIm9uU3RhcnQiLCJzdHIiLCJyc3RyMmhleCIsInJlYWR5U3RhdGUiLCJiIiwic2VuZCIsImJ1ZmZlciIsImNoYXJBdCIsIm5ld3N0YXRlIiwic3RhdGUiLCJvbk5ld1N0YXRlIiwib25TdGF0ZUNoYW5nZWQiLCJjbG9zZSIsImNsZWFySW50ZXJ2YWwiLCJIdHRwQ2xpZW50IiwidXJsIiwianNvbkhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJpc01wcyIsImZldGNoUlBTIiwiY3JlZGVudGlhbHMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJ0aGVuIiwianNvbiIsInBvd2VyQWN0aW9ucyIsImd1aWQiLCJhY3Rpb24iLCJtcHNTZXJ2ZXIiLCJ1c2VTT0wiLCJhcGlrZXkiLCJwYXlsb2FkIiwicG9zdCIsImdldFBvd2VyU3RhdGUiLCJhdmFpbGFibGVQb3dlckFjdGlvbnMiLCJsYWJlbCIsImdldEFjdGlvbkJ5SWQiLCJDb25zb2xlTG9nZ2VyIiwibGV2ZWwiLCJtaW5MZXZlbCIsIlZFUkJPU0UiLCJJTkZPIiwiREVCVUciLCJXQVJOSU5HIiwiRVJST1IiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIlBvd2VyT3B0aW9ucyIsIm9uQ2xpY2siLCJvbkNoYW5nZSIsInNlbGVjdGVkIiwiaXNTZWxlY3RlZCIsImF2YWlsYWJsZU9wdGlvbnMiLCJQb3dlclN0YXRlIiwic3VwZXIiLCJnZXRBbXRQb3dlclN0YXRlIiwiZGV2aWNlSWQiLCJjb250ZXh0IiwibXBzS2V5IiwidXBkYXRlUGFyZW50IiwicG93ZXJzdGF0ZSIsInNldFN0YXRlIiwicG93ZXJTdGF0ZSIsImhhbmRsZVBvd2VyU3RhdHVzIiwiY2F0Y2giLCJyZW5kZXJQb3dlclN0YXRlIiwicGFyYW0iLCJjb2xvciIsInRpbWVJbnRlcnZhbCIsImNvbnRleHRUeXBlIiwiQ2hlY2tib3hDb250YWluZXIiLCJJY29uIiwic3ZnIiwiSGlkZGVuQ2hlY2tib3giLCJhdHRycyIsIlN0eWxlZENoZWNrYm94IiwiZGlzYWJsZUNoZWNrYm94IiwiZ2V0Q29sb3IiLCJjaGVja2VkIiwiQ2hlY2tib3giLCJjbGFzc05hbWUiLCJkaXNhYmxlZCIsInZpZXdCb3giLCJwb2ludHMiLCJsb2NhbHMiLCJmZXRjaEFtdEZlYXR1cmVzIiwiZ2V0QW10RmVhdHVyZXMiLCJzdGF0dXNjb2RlIiwidXNlckNvbnNlbnQiLCJ1c2VLVk0iLCJ1c2VJREVSIiwicmVkaXJlY3Rpb24iLCJ1cGRhdGVDaGVja2JveFN0YXR1cyIsImhhbmRsZUZlYXR1cmVTdGF0dXMiLCJmZWF0dXJlIiwic2V0QW10RmVhdHVyZSIsImZlYXR1cmVTdGF0dXNUZXh0IiwiZmVhdHVyZVRleHQiLCJlbmFibGVLVk0iLCJlbmFibGVTT0wiLCJlbmFibGVJREVSIiwic2V0QW10RmVhdHVyZXMiLCJzaG93TWVzc2FnZSIsInNldFRpbWVvdXQiLCJoYW5kbGVDaGVja2JveENoYW5nZSIsImV2ZW50IiwiU25hY2tCYXIiLCJnZXRDb25uZWN0U3RhdGUiLCJBbXRUZXJtaW5hbCIsInRlcm1pbmFsRW11bGF0aW9uIiwiZnhFbXVsYXRpb24iLCJmeExpbmVCcmVhayIsIkFzY2lpVG9Vbmljb2RlIiwiQXNjaWlUb1VuaWNvZGVJbnRlbCIsIlN0YXRlQ2hhbmdlIiwibmV3U3RhdGUiLCJUZXJtU2VuZEtleXMiLCJvblNlbmQiLCJUZXJtaW5hbERhdGFQcm9jZXNzb3IiLCJ0ZXJtaW5hbCIsInByb2Nlc3NEYXRhIiwiY2FwdHVyZSIsImNoIiwiY2xlYXJUZXJtaW5hbCIsInByb2Nlc3NEYXRhVG9YdGVybSIsIlRlcm1pbmFsQ29udGFpbmVyIiwiWFRlcm0iLCJlbGVtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ4dGVybSIsImhhbmRsZUtleVByZXNzIiwib3BlbiIsIm9uRGF0YSIsImF0dGFjaEN1c3RvbUtleUV2ZW50SGFuZGxlciIsInN0b3BQcm9wYWdhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiY3RybEtleSIsInNoaWZ0S2V5Iiwia2V5Q29kZSIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImdldFNlbGVjdGlvbiIsInJlYWRUZXh0IiwiY29kZSIsIlN0eWxlZERpdiIsIkhlYWRlclN0cmlwIiwiU3R5bGVkTGFiZWwiLCJpbml0IiwiZGV2aWNlVXVpZCIsInJlZGlyZWN0b3IiLCJGaWxlUmVhZGVyIiwiZGF0YVByb2Nlc3NvciIsIm9uVGVybWluYWxTdGF0ZUNoYW5nZSIsImhhbmRsZVdyaXRlVG9YdGVybSIsImhhbmRsZUNsZWFyVGVybWluYWwiLCJ0ZXJtIiwiY3Vyc29yU3R5bGUiLCJmb250V2VpZ2h0Iiwicm93cyIsImNvbHMiLCJjbGVhblVwIiwid3JpdGUiLCJyZXNldCIsImRvbUV2ZW50IiwiaGFuZGxlS2V5RG93blByZXNzIiwiaGFuZGxlS2V5RG93bkV2ZW50cyIsInN0YXJ0U09MIiwic3RhcnQiLCJXZWJTb2NrZXQiLCJzdG9wU09MIiwiaGFuZGxlU09MQ29ubmVjdCIsInBlcnNpc3QiLCJTT0xzdGF0ZSIsImhhbmRsZVBvd2VyT3B0aW9ucyIsImRldGFpbCIsInBvd2VyQWN0aW9uIiwicmVzcG9uc2UiLCJyZXNCb2R5IiwiQm9keSIsIlJldHVyblZhbHVlU3RyIiwic2hvd1N1Y2Nlc3MiLCJSZXR1cm5WYWx1ZSIsImVycm9yRGVzY3JpcHRpb24iLCJhamF4RXJyb3IiLCJzb2xOb3RFbmFibGVkIiwiZGV2aWNlT25TbGVlcCIsInVwZGF0ZVBvd2VyU3RhdHVzIiwiaXNQb3dlclN0YXRlTG9hZGVkIiwiZ2V0U09MU3RhdGUiLCJpc0Nvbm5lY3RlZCIsIkZyYWdtZW50IiwiQW10RmVhdHVyZXMiXSwibWFwcGluZ3MiOiI2REFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUEwRGYsT0FyREFGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQRSxHQUE0QixpQkFBVEYsRUFBbUIsSUFBSSxJQUFJTSxLQUFPTixFQUFPckIsRUFBb0JVLEVBQUVlLEVBQUlFLEVBQUssU0FBU0EsR0FBTyxPQUFPTixFQUFNTSxJQUFRQyxLQUFLLEtBQU1ELElBQzlJLE9BQU9GLEdBSVJ6QixFQUFvQjZCLEVBQUksU0FBUzFCLEdBQ2hDLElBQUlTLEVBQVNULEdBQVVBLEVBQU9xQixXQUM3QixXQUF3QixPQUFPckIsRUFBZ0IsU0FDL0MsV0FBOEIsT0FBT0EsR0FFdEMsT0FEQUgsRUFBb0JVLEVBQUVFLEVBQVEsSUFBS0EsR0FDNUJBLEdBSVJaLEVBQW9CYSxFQUFJLFNBQVNpQixFQUFRQyxHQUFZLE9BQU9qQixPQUFPa0IsVUFBVUMsZUFBZTFCLEtBQUt1QixFQUFRQyxJQUd6Ry9CLEVBQW9Ca0MsRUFBSSxHQUlqQmxDLEVBQW9CQSxFQUFvQm1DLEVBQUksSSxnQkNsRnJEaEMsRUFBT0QsUUFBVWtDLFFBQVEsVSw2QkNBekIsNkNBT08sTUFBTUMsRUFFWCxpQkFBa0JDLEVBQVdKLEdBRTNCLE9BQVFJLEVBQUVDLFdBQVdMLElBQU0sR0FBS0ksRUFBRUMsV0FBV0wsRUFBSSxHQUduRCxrQkFBbUJJLEVBQVdKLEdBQzVCLE9BQVFJLEVBQUVDLFdBQVdMLEVBQUksSUFBTSxHQUFLSSxFQUFFQyxXQUFXTCxHQUduRCxlQUFnQkksRUFBV0osR0FDekIsT0FBMEIsU0FBbEJJLEVBQUVDLFdBQVdMLElBQW1CSSxFQUFFQyxXQUFXTCxFQUFJLElBQU0sS0FDdkRJLEVBQUVDLFdBQVdMLEVBQUksSUFBTSxHQUFLSSxFQUFFQyxXQUFXTCxFQUFJLEdBR3ZELGdCQUFpQkksRUFBV0osR0FDMUIsT0FBUUksRUFBRUMsV0FBV0wsSUFBTSxLQUFPSSxFQUFFQyxXQUFXTCxFQUFJLElBQU0sS0FDakRJLEVBQUVDLFdBQVdMLEVBQUksSUFBTSxHQUFLSSxFQUFFQyxXQUFXTCxFQUFJLEdBR3ZELGdCQUFpQkksRUFBV0osR0FDMUIsT0FBOEIsU0FBdEJJLEVBQUVDLFdBQVdMLEVBQUksSUFBbUJJLEVBQUVDLFdBQVdMLEVBQUksSUFBTSxLQUMzREksRUFBRUMsV0FBV0wsRUFBSSxJQUFNLEdBQUtJLEVBQUVDLFdBQVdMLEdBR25ELGtCQUFtQkksR0FDakIsT0FBT0UsT0FBT0MsYUFBY0gsR0FBSyxFQUFLLElBQVUsSUFBSkEsR0FHOUMsbUJBQW9CQSxHQUNsQixPQUFPRSxPQUFPQyxhQUFpQixJQUFKSCxFQUFXQSxHQUFLLEVBQUssS0FHbEQsZ0JBQWlCQSxHQUNmLE9BQU9FLE9BQU9DLGFBQWNILEdBQUssR0FBTSxJQUFPQSxHQUFLLEdBQU0sSUFBT0EsR0FBSyxFQUFLLElBQVUsSUFBSkEsR0FHbEYsaUJBQWtCQSxHQUNoQixPQUFPRSxPQUFPQyxhQUFpQixJQUFKSCxFQUFXQSxHQUFLLEVBQUssSUFBT0EsR0FBSyxHQUFNLElBQU9BLEdBQUssR0FBTSxLQUd0RixtQkFBb0JBLEdBQ2xCLE9BQUtBLEdBQVUsTUFBTEEsR0FBMEIsaUJBQU5BLEVBQWlDLENBQUNBLEdBQVhBLEVBR3ZELGtCQUFtQkEsR0FDakIsT0FBT0EsRUFBRUksTUFBTSxLQUdqQixhQUFjSixHQUNaLE9BQU9LLEtBQUtDLE1BQU1ELEtBQUtFLFVBQVVQLElBR25DLGtCQUFtQlEsR0FDakIsTUFBaUIsaUJBQU5BLEVBQ0ZBLEVBQUVDLFFBQVEsS0FBTSxTQUFTQSxRQUFRLEtBQU0sUUFDM0NBLFFBQVEsS0FBTSxRQUFRQSxRQUFRLEtBQU0sVUFBVUEsUUFBUSxLQUFNLFVBRWhELGtCQUFORCxHQUNNLGlCQUFOQSxFQUQwQkEsT0FDckMsRUFJRix3QkFBeUJFLEVBQWVDLEVBQWNDLEdBQ3BERixFQUFJRyxPQUFPRCxFQUFJLEVBQUdGLEVBQUlHLE9BQU9GLEVBQU0sR0FBRyxJQUl4Qyx3QkFBeUJILEVBQVFyQyxHQUMvQixJQUFJUyxFQUFZLEdBQ2hCLEdBQVUsSUFBTjRCLEtBQWEsWUFBU0EsSUFBVyxNQUFMQSxHQUFZLE1BQU8sU0FDbkQsR0FBSUEsYUFBYU0sTUFDZixJQUFLLElBQUloRCxLQUFLMEMsRUFDWjVCLEdBQUssU0FBV21DLEtBQUtDLElBQUk3QyxHQUFLLFNBQVdMLEVBQUksS0FBT2lELEtBQUtFLGlCQUFpQlQsRUFBRTFDLEdBQUlLLEVBQUksUUFFakYsR0FBSXFDLGFBQWFoQyxPQUN0QixJQUFLLElBQUkwQyxLQUFLVixFQUNaNUIsR0FBSyxTQUFXbUMsS0FBS0MsSUFBSTdDLEdBQUsrQyxFQUFJLE1BQVFILEtBQUtFLGlCQUFpQlQsRUFBRVUsR0FBSS9DLEVBQUksUUFHNUVTLEdBQUttQyxLQUFLSSxXQUFXWCxHQUV2QixPQUFPNUIsRUFJVCx5QkFBMEI0QixFQUFRckMsR0FDaEMsSUFBSVMsRUFBWSxHQUNoQixHQUFVLElBQU40QixLQUFhLFlBQVNBLElBQVcsTUFBTEEsR0FBYyxNQUFPLFNBQ3JELEdBQUlBLGFBQWFNLE1BQ2YsSUFBSyxJQUFJaEQsS0FBSzBDLEVBQ1o1QixHQUFLLE9BQVNtQyxLQUFLSyxLQUFLakQsR0FBSyxTQUFXTCxFQUFJLEtBQU9pRCxLQUFLTSxrQkFBa0JiLEVBQUUxQyxHQUFJSyxFQUFJLFFBRWpGLEdBQUlxQyxhQUFhaEMsT0FDdEIsSUFBSyxJQUFJMEMsS0FBS1YsRUFDWjVCLEdBQUssT0FBU21DLEtBQUtLLEtBQUtqRCxHQUFLK0MsRUFBSSxNQUFRSCxLQUFLTSxrQkFBa0JiLEVBQUVVLEdBQUkvQyxFQUFJLFFBRzVFUyxHQUFLbUMsS0FBS0ksV0FBV1gsR0FFdkIsT0FBTzVCLEVBSVQsV0FBWVQsR0FDVixJQUFJcUMsRUFBSSxHQUNSLElBQUssSUFBSTFDLEVBQUksRUFBR0EsRUFBUyxFQUFKSyxFQUFRTCxJQUMzQjBDLEdBQUssU0FFUCxPQUFPQSxFQUdULFlBQWFyQyxHQUNYLElBQUlxQyxFQUFJLEdBQ1IsSUFBSyxJQUFJMUMsRUFBSSxFQUFHQSxFQUFTLEVBQUpLLEVBQVFMLElBQzNCMEMsR0FBSyxJQUVQLE9BQU9BLEVBSVQsc0JBQXVCQSxHQUNyQixPQUFPTyxLQUFLRSxpQkFBaUJULEVBQUcsR0FHbEMsdUJBQXdCQSxHQUN0QixPQUFPTyxLQUFLTSxrQkFBa0JiLEVBQUcsR0FJbkMsZ0JBQWlCcEMsR0FDZixHQUFpQixpQkFBTkEsR0FBK0IsSUFBYkEsRUFBRWtELE9BQWdCLE1BQU8sR0FDdEQsSUFBSTFDLEVBQUksR0FBSSxNQUFNVixHQUFVLEdBQUtFLEdBQUdtRCxNQUFNLE9BQVEsSUFBSXZDLEVBQ3RELEtBQU9BLEVBQUlkLEVBQUVzRCxTQUFXNUMsR0FBS3NCLE9BQU9DLGFBQWFzQixPQUFPLEtBQU96QyxJQUMvRCxPQUFPSixFQUlULGdCQUFpQmQsR0FDZixPQUFRQSxFQUFJLEtBQU80RCxTQUFTLElBQUlDLFFBQVEsR0FBR0MsY0FJN0MsZ0JBQWlCQyxHQUNmLElBQWdCL0QsRUFBWmMsRUFBSSxHQUNSLElBQUtkLEVBQUksRUFBR0EsRUFBSStELEVBQU1QLE9BQVF4RCxJQUM1QmMsR0FBS21DLEtBQUtlLFNBQVNELEVBQU01QixXQUFXbkMsSUFFdEMsT0FBT2MsRUFJVCxtQkFBb0JpQixHQUNsQixPQUFPa0MsU0FBU0MsbUJBQW1CbkMsSUFHckMsbUJBQW9CQSxHQUNsQixPQUFPb0MsbUJBQW1CQyxPQUFPckMsSUFJbkMsaUJBQWtCc0MsR0FDaEIsTUFBTUMsRUFBUSxJQUFJdEIsTUFBTXFCLEVBQUtiLFFBQzdCLElBQUssSUFBSXhELEVBQUksRUFBR0EsRUFBSXFFLEVBQUtiLE9BQVF4RCxJQUFPc0UsRUFBTXRFLEdBQUtxRSxFQUFLbEMsV0FBV25DLEdBRW5FLE9BRGEsSUFBSXVFLEtBQUssQ0FBQyxJQUFJQyxXQUFXRixLQUt4QyxjQUFlRyxHQUNiLE9BQU9DLEtBQUtDLE1BQU1ELEtBQUtFLFNBQVdILEdBSXBDLGtCQUFtQi9CLEdBQ2pCLE9BQU9BLEVBQUVDLFFBQVEsU0FBVSxTQUFTQSxRQUFRLFVBQVcsYyw2QkN2TDNELGtDQUtPLE1BQU1rQyxFQUFZNUQsR0FBd0JBLFNBQW1ELEtBQVZBLElBQTBCLElBQVZBLEdBQTZCLElBQVZBLEcsNkJDTDdILGdGQVFPLE1BMEZNNkQsRUFBaUIsQ0FBQ0MsRUFBUUMsS0FDckMsTUFBTUMsRUFBVSxDQUNkQyxPQUFRLG1CQUNSLGVBQWdCLG9CQU9sQixPQUxJQyxFQUFRSCxHQUNWQyxFQUFRLGlCQUFtQkYsRUFFM0JFLEVBQVEsaUJBQW1CRixFQUV0QkUsR0FRSUUsRUFBV2xFLEdBQXdCQSxTQUFtRCxLQUFWQSxJQUEwQixJQUFWQSxHQUE2QixJQUFWQSxHLDZCQ3BINUgsOEZBY08sTUFhTW1FLEVBQWlCQyxHQUFtQixJQUFRbkUsRUFBRW1FLEdBTTlDQyxFQUF1QixDQUFDRCxFQUFXRSxJQUFtQixJQUFRckUsRUFBRW1FLEVBQU0sQ0FBRUUsZSw4QkNwQnJGLElBQUtDLEVBYkwsa0NBYUEsU0FBS0EsR0FDSCx5QkFDQSxtQkFDQSxxQkFDQSx5QkFDQSxxQkFMRixDQUFLQSxNQUFRLE0sNkJDYmIsMkJBT0EsTUFBTUMsRUFQTixPQU9rQixFQUFPQyxHQUFHOzs7Ozs7Y0FNZCxFQUFHQyxVQUFXQyxFQUFVRDtVQUM1QixFQUFHQSxVQUFXLGFBQWFDLEVBQVVEOzs7Ozs7RUFRekNDLEVBQWFELEdBQTBCLFlBQVRBLEVBQXFCLFVBQXFCLFlBQVRBLEVBQXFCLFVBQXFCLFVBQVRBLEVBQW1CLFVBQVksVUFJdEgsSUFGRSxFQUFHRSxVQUFTRixVQUFnQixrQkFBQ0YsRUFBUyxDQUFDRSxLQUFNQSxHQUFPRSxJLGNDeEJyRTlGLEVBQU9ELFFBQVVrQyxRQUFRLHNCLDZCQ0V6QixJQUNNOEQsRUFERkMsRUFFSyxXQVVMLFlBVG9CLElBQVRELElBTVRBLEVBQU9FLFFBQVFDLFFBQVVDLFVBQVlBLFNBQVNDLE1BQVFGLE9BQU9HLE9BR3hETixHQUlQTyxFQUFZLFdBQ2QsSUFBSVAsRUFBTyxHQUNYLE9BQU8sU0FBa0JRLEdBQ3ZCLFFBQTRCLElBQWpCUixFQUFLUSxHQUF5QixDQUN2QyxJQUFJQyxFQUFjTCxTQUFTTSxjQUFjRixHQUV6QyxHQUFJTCxPQUFPUSxtQkFBcUJGLGFBQXVCTixPQUFPUSxrQkFDNUQsSUFHRUYsRUFBY0EsRUFBWUcsZ0JBQWdCQyxLQUMxQyxNQUFPQyxHQUVQTCxFQUFjLEtBSWxCVCxFQUFLUSxHQUFVQyxFQUdqQixPQUFPVCxFQUFLUSxJQXBCQSxHQXdCWk8sRUFBYyxHQUVsQixTQUFTQyxFQUFxQkMsR0FHNUIsSUFGQSxJQUFJQyxHQUFVLEVBRUxoSCxFQUFJLEVBQUdBLEVBQUk2RyxFQUFZckQsT0FBUXhELElBQ3RDLEdBQUk2RyxFQUFZN0csR0FBRytHLGFBQWVBLEVBQVksQ0FDNUNDLEVBQVNoSCxFQUNULE1BSUosT0FBT2dILEVBR1QsU0FBU0MsRUFBYUMsRUFBTUMsR0FJMUIsSUFIQSxJQUFJQyxFQUFhLEdBQ2JDLEVBQWMsR0FFVHJILEVBQUksRUFBR0EsRUFBSWtILEVBQUsxRCxPQUFReEQsSUFBSyxDQUNwQyxJQUFJc0gsRUFBT0osRUFBS2xILEdBQ1p1SCxFQUFLSixFQUFRSyxLQUFPRixFQUFLLEdBQUtILEVBQVFLLEtBQU9GLEVBQUssR0FDbERHLEVBQVFMLEVBQVdHLElBQU8sRUFDMUJSLEVBQWEsR0FBR1csT0FBT0gsRUFBSSxLQUFLRyxPQUFPRCxHQUMzQ0wsRUFBV0csR0FBTUUsRUFBUSxFQUN6QixJQUFJRSxFQUFRYixFQUFxQkMsR0FDN0JhLEVBQU0sQ0FDUkMsSUFBS1AsRUFBSyxHQUNWUSxNQUFPUixFQUFLLEdBQ1pTLFVBQVdULEVBQUssS0FHSCxJQUFYSyxHQUNGZCxFQUFZYyxHQUFPSyxhQUNuQm5CLEVBQVljLEdBQU9NLFFBQVFMLElBRTNCZixFQUFZcUIsS0FBSyxDQUNmbkIsV0FBWUEsRUFDWmtCLFFBQVNFLEVBQVNQLEVBQUtULEdBQ3ZCYSxXQUFZLElBSWhCWCxFQUFZYSxLQUFLbkIsR0FHbkIsT0FBT00sRUFHVCxTQUFTZSxFQUFtQmpCLEdBQzFCLElBQUlrQixFQUFRbkMsU0FBU29DLGNBQWMsU0FDL0JDLEVBQWFwQixFQUFRb0IsWUFBYyxHQUV2QyxRQUFnQyxJQUFyQkEsRUFBV0MsTUFBdUIsQ0FDM0MsSUFBSUEsRUFBbUQsS0FFbkRBLElBQ0ZELEVBQVdDLE1BQVFBLEdBUXZCLEdBSkE5SCxPQUFPK0gsS0FBS0YsR0FBWUcsU0FBUSxTQUFVbkgsR0FDeEM4RyxFQUFNTSxhQUFhcEgsRUFBS2dILEVBQVdoSCxPQUdQLG1CQUFuQjRGLEVBQVF5QixPQUNqQnpCLEVBQVF5QixPQUFPUCxPQUNWLENBQ0wsSUFBSS9CLEVBQVNELEVBQVVjLEVBQVF5QixRQUFVLFFBRXpDLElBQUt0QyxFQUNILE1BQU0sSUFBSXVDLE1BQU0sMkdBR2xCdkMsRUFBT3dDLFlBQVlULEdBR3JCLE9BQU9BLEVBY1QsSUFDTVUsRUFERkMsR0FDRUQsRUFBWSxHQUNULFNBQWlCcEIsRUFBT3NCLEdBRTdCLE9BREFGLEVBQVVwQixHQUFTc0IsRUFDWkYsRUFBVUcsT0FBT2xELFNBQVNtRCxLQUFLLFFBSTFDLFNBQVNDLEVBQW9CZixFQUFPVixFQUFPMEIsRUFBUXpCLEdBQ2pELElBQUlDLEVBQU13QixFQUFTLEdBQUt6QixFQUFJRSxNQUFRLFVBQVVKLE9BQU9FLEVBQUlFLE1BQU8sTUFBTUosT0FBT0UsRUFBSUMsSUFBSyxLQUFPRCxFQUFJQyxJQUlqRyxHQUFJUSxFQUFNaUIsV0FDUmpCLEVBQU1pQixXQUFXQyxRQUFVUCxFQUFZckIsRUFBT0UsT0FDekMsQ0FDTCxJQUFJMkIsRUFBVXRELFNBQVN1RCxlQUFlNUIsR0FDbEM2QixFQUFhckIsRUFBTXFCLFdBRW5CQSxFQUFXL0IsSUFDYlUsRUFBTXNCLFlBQVlELEVBQVcvQixJQUczQitCLEVBQVdsRyxPQUNiNkUsRUFBTXVCLGFBQWFKLEVBQVNFLEVBQVcvQixJQUV2Q1UsRUFBTVMsWUFBWVUsSUFLeEIsU0FBU0ssRUFBV3hCLEVBQU9sQixFQUFTUyxHQUNsQyxJQUFJQyxFQUFNRCxFQUFJQyxJQUNWQyxFQUFRRixFQUFJRSxNQUNaQyxFQUFZSCxFQUFJRyxVQWVwQixHQWJJRCxFQUNGTyxFQUFNTSxhQUFhLFFBQVNiLEdBRTVCTyxFQUFNeUIsZ0JBQWdCLFNBR3BCL0IsR0FBNkIsb0JBQVRnQyxPQUN0QmxDLEdBQU8sdURBQXVESCxPQUFPcUMsS0FBSzlGLFNBQVNDLG1CQUFtQjNCLEtBQUtFLFVBQVVzRixNQUFlLFFBTWxJTSxFQUFNaUIsV0FDUmpCLEVBQU1pQixXQUFXQyxRQUFVMUIsTUFDdEIsQ0FDTCxLQUFPUSxFQUFNMkIsWUFDWDNCLEVBQU1zQixZQUFZdEIsRUFBTTJCLFlBRzFCM0IsRUFBTVMsWUFBWTVDLFNBQVN1RCxlQUFlNUIsS0FJOUMsSUFBSW9DLEVBQVksS0FDWkMsRUFBbUIsRUFFdkIsU0FBUy9CLEVBQVNQLEVBQUtULEdBQ3JCLElBQUlrQixFQUNBOEIsRUFDQWQsRUFFSixHQUFJbEMsRUFBUThDLFVBQVcsQ0FDckIsSUFBSUcsRUFBYUYsSUFDakI3QixFQUFRNEIsSUFBY0EsRUFBWTdCLEVBQW1CakIsSUFDckRnRCxFQUFTZixFQUFvQjVILEtBQUssS0FBTTZHLEVBQU8rQixHQUFZLEdBQzNEZixFQUFTRCxFQUFvQjVILEtBQUssS0FBTTZHLEVBQU8rQixHQUFZLFFBRTNEL0IsRUFBUUQsRUFBbUJqQixHQUMzQmdELEVBQVNOLEVBQVdySSxLQUFLLEtBQU02RyxFQUFPbEIsR0FFdENrQyxFQUFTLFlBeEZiLFNBQTRCaEIsR0FFMUIsR0FBeUIsT0FBckJBLEVBQU1nQyxXQUNSLE9BQU8sRUFHVGhDLEVBQU1nQyxXQUFXVixZQUFZdEIsR0FtRnpCaUMsQ0FBbUJqQyxJQUt2QixPQURBOEIsRUFBT3ZDLEdBQ0EsU0FBcUIyQyxHQUMxQixHQUFJQSxFQUFRLENBQ1YsR0FBSUEsRUFBTzFDLE1BQVFELEVBQUlDLEtBQU8wQyxFQUFPekMsUUFBVUYsRUFBSUUsT0FBU3lDLEVBQU94QyxZQUFjSCxFQUFJRyxVQUNuRixPQUdGb0MsRUFBT3ZDLEVBQU0yQyxRQUVibEIsS0FLTnRKLEVBQU9ELFFBQVUsU0FBVW9ILEVBQU1DLElBQy9CQSxFQUFVQSxHQUFXLElBR1I4QyxXQUEwQyxrQkFBdEI5QyxFQUFROEMsWUFDdkM5QyxFQUFROEMsVUFBWWxFLEtBSXRCLElBQUl5RSxFQUFrQnZELEVBRHRCQyxFQUFPQSxHQUFRLEdBQzBCQyxHQUN6QyxPQUFPLFNBQWdCc0QsR0FHckIsR0FGQUEsRUFBVUEsR0FBVyxHQUUyQixtQkFBNUMvSixPQUFPa0IsVUFBVWdDLFNBQVN6RCxLQUFLc0ssR0FBbkMsQ0FJQSxJQUFLLElBQUl6SyxFQUFJLEVBQUdBLEVBQUl3SyxFQUFnQmhILE9BQVF4RCxJQUFLLENBQy9DLElBQ0kySCxFQUFRYixFQURLMEQsRUFBZ0J4SyxJQUVqQzZHLEVBQVljLEdBQU9LLGFBS3JCLElBRkEsSUFBSTBDLEVBQXFCekQsRUFBYXdELEVBQVN0RCxHQUV0Q3dELEVBQUssRUFBR0EsRUFBS0gsRUFBZ0JoSCxPQUFRbUgsSUFBTSxDQUNsRCxJQUVJQyxFQUFTOUQsRUFGSzBELEVBQWdCRyxJQUlLLElBQW5DOUQsRUFBWStELEdBQVE1QyxhQUN0Qm5CLEVBQVkrRCxHQUFRM0MsVUFFcEJwQixFQUFZOUQsT0FBTzZILEVBQVEsSUFJL0JKLEVBQWtCRSxNLDZCQ3hRdEIsU0FBU0csRUFBZWpJLEVBQUs1QyxHQUFLLE9BVWxDLFNBQXlCNEMsR0FBTyxHQUFJSSxNQUFNOEgsUUFBUWxJLEdBQU0sT0FBT0EsRUFWdEJtSSxDQUFnQm5JLElBUXpELFNBQStCQSxFQUFLNUMsR0FBSyxHQUFzQixvQkFBWGUsVUFBNEJBLE9BQU9pSyxZQUFZdEssT0FBT2tDLElBQU8sT0FBUSxJQUFJcUksRUFBTyxHQUFRQyxHQUFLLEVBQVVDLEdBQUssRUFBV0MsT0FBS0MsRUFBVyxJQUFNLElBQUssSUFBaUNDLEVBQTdCWCxFQUFLL0gsRUFBSTdCLE9BQU9pSyxjQUFtQkUsR0FBTUksRUFBS1gsRUFBR1ksUUFBUUMsUUFBb0JQLEVBQUsvQyxLQUFLb0QsRUFBR3JLLFFBQVlqQixHQUFLaUwsRUFBS3pILFNBQVd4RCxHQUEzRGtMLEdBQUssSUFBb0UsTUFBT08sR0FBT04sR0FBSyxFQUFNQyxFQUFLSyxFQUFPLFFBQVUsSUFBV1AsR0FBc0IsTUFBaEJQLEVBQVcsUUFBV0EsRUFBVyxTQUFPLFFBQVUsR0FBSVEsRUFBSSxNQUFNQyxHQUFRLE9BQU9ILEVBUmphUyxDQUFzQjlJLEVBQUs1QyxJQUk1RixTQUFxQ1MsRUFBR2tMLEdBQVUsSUFBS2xMLEVBQUcsT0FBUSxHQUFpQixpQkFBTkEsRUFBZ0IsT0FBT21MLEVBQWtCbkwsRUFBR2tMLEdBQVMsSUFBSWxLLEVBQUlmLE9BQU9rQixVQUFVZ0MsU0FBU3pELEtBQUtNLEdBQUdvTCxNQUFNLEdBQUksR0FBYyxXQUFOcEssR0FBa0JoQixFQUFFcUwsY0FBYXJLLEVBQUloQixFQUFFcUwsWUFBWXZMLE1BQU0sR0FBVSxRQUFOa0IsR0FBcUIsUUFBTkEsRUFBYSxPQUFPdUIsTUFBTUgsS0FBS3BDLEdBQUksR0FBVSxjQUFOZ0IsR0FBcUIsMkNBQTJDc0ssS0FBS3RLLEdBQUksT0FBT21LLEVBQWtCbkwsRUFBR2tMLEdBSnBUSyxDQUE0QnBKLEVBQUs1QyxJQUVuSSxXQUE4QixNQUFNLElBQUlpTSxVQUFVLDZJQUZ1RkMsR0FNekksU0FBU04sRUFBa0JoSixFQUFLdUosSUFBa0IsTUFBUEEsR0FBZUEsRUFBTXZKLEVBQUlZLFVBQVEySSxFQUFNdkosRUFBSVksUUFBUSxJQUFLLElBQUl4RCxFQUFJLEVBQUdvTSxFQUFPLElBQUlwSixNQUFNbUosR0FBTW5NLEVBQUltTSxFQUFLbk0sSUFBT29NLEVBQUtwTSxHQUFLNEMsRUFBSTVDLEdBQU0sT0FBT29NLEVBTWhMck0sRUFBT0QsUUFBVSxTQUFnQ3dILEdBQy9DLElBQUkrRSxFQUFReEIsRUFBZXZELEVBQU0sR0FDN0JnRixFQUFVRCxFQUFNLEdBQ2hCRSxFQUFhRixFQUFNLEdBRXZCLEdBQW9CLG1CQUFUdEMsS0FBcUIsQ0FFOUIsSUFBSXlDLEVBQVN6QyxLQUFLOUYsU0FBU0MsbUJBQW1CM0IsS0FBS0UsVUFBVThKLE1BQ3pEbEksRUFBTywrREFBK0RxRCxPQUFPOEUsR0FDN0VDLEVBQWdCLE9BQU8vRSxPQUFPckQsRUFBTSxPQUNwQ3FJLEVBQWFILEVBQVdJLFFBQVFDLEtBQUksU0FBVUMsR0FDaEQsTUFBTyxpQkFBaUJuRixPQUFPNkUsRUFBV08sWUFBYyxJQUFJcEYsT0FBT21GLEVBQVEsVUFFN0UsTUFBTyxDQUFDUCxHQUFTNUUsT0FBT2dGLEdBQVloRixPQUFPLENBQUMrRSxJQUFnQnRELEtBQUssTUFHbkUsTUFBTyxDQUFDbUQsR0FBU25ELEtBQUssUSw2QkN0QnhCcEosRUFBT0QsUUFBVSxTQUFVaU4sR0FDekIsSUFBSTdGLEVBQU8sR0F1RFgsT0FyREFBLEVBQUt0RCxTQUFXLFdBQ2QsT0FBT1gsS0FBSzJKLEtBQUksU0FBVXRGLEdBQ3hCLElBQUlnRixFQUFVUyxFQUF1QnpGLEdBRXJDLE9BQUlBLEVBQUssR0FDQSxVQUFVSSxPQUFPSixFQUFLLEdBQUksTUFBTUksT0FBTzRFLEVBQVMsS0FHbERBLEtBQ05uRCxLQUFLLEtBS1ZqQyxFQUFLbEgsRUFBSSxTQUFVRSxFQUFTOE0sRUFBWUMsR0FDZixpQkFBWi9NLElBRVRBLEVBQVUsQ0FBQyxDQUFDLEtBQU1BLEVBQVMsTUFHN0IsSUFBSWdOLEVBQXlCLEdBRTdCLEdBQUlELEVBQ0YsSUFBSyxJQUFJak4sRUFBSSxFQUFHQSxFQUFJaUQsS0FBS08sT0FBUXhELElBQUssQ0FFcEMsSUFBSXVILEVBQUt0RSxLQUFLakQsR0FBRyxHQUVQLE1BQU51SCxJQUNGMkYsRUFBdUIzRixJQUFNLEdBS25DLElBQUssSUFBSW9ELEVBQUssRUFBR0EsRUFBS3pLLEVBQVFzRCxPQUFRbUgsSUFBTSxDQUMxQyxJQUFJckQsRUFBTyxHQUFHSSxPQUFPeEgsRUFBUXlLLElBRXpCc0MsR0FBVUMsRUFBdUI1RixFQUFLLE1BS3RDMEYsSUFDRzFGLEVBQUssR0FHUkEsRUFBSyxHQUFLLEdBQUdJLE9BQU9zRixFQUFZLFNBQVN0RixPQUFPSixFQUFLLElBRnJEQSxFQUFLLEdBQUswRixHQU1kOUYsRUFBS2dCLEtBQUtaLE1BSVBKLEksOEJDaEVULHdGQU9PLE1BQU1pRyxFQUFnQixJQUFNQyxjQUFjLENBQy9DL0ksS0FBTSxLQUtELE1BQU1nSixVQUFpQixJQUFNQyxVQUNsQyxTQUNFLE9BQ0Usa0JBQUNILEVBQWNFLFNBQVEsQ0FBQ3BNLE1BQU8sQ0FBRW9ELEtBQU1wQixLQUFLc0ssTUFBTWxKLE9BQy9DcEIsS0FBS3NLLE1BQU1DLGEsNkJDakJwQix3RUFhWUMsRUFiWixnQ0FhQSxTQUFZQSxHQUNWLGlCQUNBLGlCQUNBLG1CQUhGLENBQVlBLE1BQVEsS0FRYixNQUFNQyxFQWlDWCxZQUFhQyxFQUFpQkMsRUFBa0JDLEVBQWdCQyxFQUFjQyxFQUFjQyxFQUFjQyxFQUFjQyxFQUFhQyxFQUFrQkMsR0FDckpuTCxLQUFLb0wsV0FBYVIsRUFDbEI1SyxLQUFLcUwsaUJBQW1CLG1CQUN4QnJMLEtBQUs2SyxLQUFPQSxFQUNaN0ssS0FBSzhLLEtBQU9BLEVBQ1o5SyxLQUFLK0ssS0FBT0EsRUFDWi9LLEtBQUtnTCxLQUFPQSxFQUNaaEwsS0FBS2lMLElBQU1BLEVBQ1hqTCxLQUFLc0wsVUFBWUosRUFDakJsTCxLQUFLMkssU0FBV0EsRUFDaEIzSyxLQUFLdUwsaUJBQW1CcE0sT0FBT0MsYUFBYSxHQUFNLEVBQU0sRUFBTSxFQUFNLEdBQU0sR0FBTSxHQUFNLElBQ3RGWSxLQUFLd0wsaUJBQW1Cck0sT0FBT0MsYUFBYSxHQUFNLEVBQU0sRUFBTSxFQUFNLEdBQU0sR0FBTSxHQUFNLElBQ3RGWSxLQUFLeUwsa0JBQW9CdE0sT0FBT0MsYUFBYSxHQUFNLEVBQU0sRUFBTSxFQUFNLEdBQU0sR0FBTSxHQUFNLElBQ3ZGWSxLQUFLMEwsUUFBVSxHQUNmMUwsS0FBS21MLE9BQVNBLEVBQ2RuTCxLQUFLMkwsZUFBaUIsR0FDdEIzTCxLQUFLNEwsUUFBVSxHQUNmNUwsS0FBSzBLLE9BQVNBLEVBT1IsZ0JBQ04sT0FBSTFLLEtBQUs2TCxjQUFnQixZQUFTN0wsS0FBS21MLFFBQzlCLEdBQUduSSxPQUFPOEksU0FBU25CLFNBQVNqTCxRQUFRLE9BQVEsa0JBQ2pEc0QsT0FBTzhJLFNBQVNqQixlQUNoQjdILE9BQU84SSxTQUFTQyxTQUFTQyxVQUFVLEVBQUdoSixPQUFPOEksU0FBU0MsU0FBU0UsWUFBWSx3Q0FDbkRqTSxLQUFLNkssYUFBYTdLLEtBQUs4SyxZQUFZOUssS0FBS2lMLE1BQXNCLE1BQWRqTCxLQUFLK0ssS0FBZ0IsZ0JBQWtCLFVBQTZCLElBQWQvSyxLQUFLZ0wsS0FBeUIsc0JBQXdCaEwsS0FBSytLLEtBQVEsZUFBZ0IvSyxLQUFLc0wsWUFFak4sU0FBU25NLE9BQU9hLEtBQUttTCxrQ0FBa0NuTCxLQUFLNkssYUFBYTdLLEtBQUs4SyxZQUFZOUssS0FBS2lMLE1BQXNCLE1BQWRqTCxLQUFLK0ssS0FBZ0IsZ0JBQWtCLFVBQTZCLElBQWQvSyxLQUFLZ0wsS0FBeUIsc0JBQXdCaEwsS0FBSytLLEtBQVEsZUFBZ0IvSyxLQUFLc0wsWUFPeFAsWUFDTixJQUNFLE1BQU1ZLEVBQTJCLG9CQUFYbEosT0FFdEIsT0FESWtKLEdBQU9sTSxLQUFLMEssT0FBT3lCLE1BQU0scUJBQ3RCRCxFQUNQLE1BQU92SSxHQUNQLE9BQU8sR0FRWCxNQUFVdkcsR0FDUjRDLEtBQUtvTSxhQUFlLEVBRXBCcE0sS0FBS3FNLE9BQVMsSUFBSWpQLEVBQUU0QyxLQUFLc00saUJBQ3pCdE0sS0FBS3FNLE9BQU9FLE9BQVN2TSxLQUFLd00sa0JBQWtCak8sS0FBS3lCLE1BQ2pEQSxLQUFLcU0sT0FBT0ksVUFBWXpNLEtBQUswTSxVQUFVbk8sS0FBS3lCLE1BQzVDQSxLQUFLcU0sT0FBT00sUUFBVTNNLEtBQUs0TSxlQUFlck8sS0FBS3lCLE1BQy9DLE1BQU02TSxFQUFVbEosSUFDZDNELEtBQUs4TSxhQUFhbkosRUFBRU4sT0FBT1UsUUFDTyxJQUE5Qi9ELEtBQUsrTSxjQUFjeE0sT0FDckJQLEtBQUtnTixpQkFBa0IsRUFFdkJoTixLQUFLb0wsV0FBVzZCLG1CQUFtQixJQUFJM0wsS0FBSyxDQUFDdEIsS0FBSytNLGNBQWN0TSxZQUc5RHlNLEVBQWF2SixJQUNqQjNELEtBQUs4TSxhQUFhbkosRUFBRU4sT0FBT1UsUUFDTyxJQUE5Qi9ELEtBQUsrTSxjQUFjeE0sT0FDckJQLEtBQUtnTixpQkFBa0IsRUFFdkJoTixLQUFLb0wsV0FBVytCLGtCQUFrQm5OLEtBQUsrTSxjQUFjdE0sVUFHckQsWUFBU1QsS0FBS29MLGFBQWUsWUFBU3BMLEtBQUtvTCxXQUFXNkIsb0JBRXhEak4sS0FBS29MLFdBQVd5QixPQUFTQSxFQUFPdE8sS0FBS3lCLE1BQzVCLFlBQVNBLEtBQUtvTCxhQUFlLFlBQVNwTCxLQUFLb0wsV0FBVytCLHFCQUUvRG5OLEtBQUtvTCxXQUFXOEIsVUFBWUEsRUFBVTNPLEtBQUt5QixPQUU3Q0EsS0FBSzBLLE9BQU8wQyxRQUFRLDJCQUNwQnBOLEtBQUtxTixjQUFjLEdBR3JCLG9CQUNNLFlBQVNyTixLQUFLMEwsVUFBWSxZQUFTMUwsS0FBSzBMLFFBQVE0QixhQUFhQyxRQUFRQyxJQUFJLGlCQUM3RXhOLEtBQUtxTixjQUFjLEdBQ25Cck4sS0FBSzBLLE9BQU8wQyxRQUFRLGdEQUFnRHBOLEtBQUsySyxzQkFDekUzSyxLQUFLMEssT0FBTytDLEtBQUssd0NBQXdDek4sS0FBSzJLLFVBQzFEM0ssS0FBSzJLLFdBQWFILEVBQVNrRCxLQUFLMU4sS0FBSzJOLFdBQVczTixLQUFLdUwsa0JBQ3JEdkwsS0FBSzJLLFdBQWFILEVBQVNvRCxLQUFLNU4sS0FBSzJOLFdBQVczTixLQUFLd0wsa0JBQ3JEeEwsS0FBSzJLLFdBQWFILEVBQVNxRCxNQUFNN04sS0FBSzJOLFdBQVczTixLQUFLeUwsbUJBTzVELFVBQVc5SCxHQUNULElBR0UsR0FEQTNELEtBQUs4TixjQUNpQixpQkFBWG5LLEVBQUV2QyxLQUFtQixDQUM5QixHQUFJcEIsS0FBS2dOLGdCQUVQLFlBREFoTixLQUFLK00sY0FBYzlILEtBQUt0QixFQUFFdkMsTUFHNUIsR0FBMEMsTUFBdENwQixLQUFLb0wsV0FBVzZCLG1CQUVsQmpOLEtBQUtnTixpQkFBa0IsRUFDdkJoTixLQUFLb0wsV0FBVzZCLG1CQUFtQixJQUFJM0wsS0FBSyxDQUFDcUMsRUFBRXZDLGFBQzFDLEdBQXlDLE1BQXJDcEIsS0FBS29MLFdBQVcrQixrQkFFekJuTixLQUFLZ04saUJBQWtCLEVBQ3ZCaE4sS0FBS29MLFdBQVcrQixrQkFBa0J4SixFQUFFdkMsVUFDL0IsQ0FFTCxJQUFJMk0sRUFBUyxHQUFJLE1BQU0xTSxFQUFRLElBQUlFLFdBQVdvQyxFQUFFdkMsTUFBYWIsRUFBU2MsRUFBTTJNLFdBQzVFLElBQUssSUFBSWpSLEVBQUksRUFBR0EsRUFBSXdELEVBQVF4RCxJQUFPZ1IsR0FBVTVPLE9BQU9DLGFBQWFpQyxFQUFNdEUsSUFDdkVpRCxLQUFLOE0sYUFBYWlCLFNBS3BCL04sS0FBSzhNLGFBQWFuSixFQUFFdkMsTUFFdEIsTUFBTzZNLEdBQ1BqTyxLQUFLMEssT0FBT3VELE1BQU1BLEdBQ2xCak8sS0FBS2tPLE9BQ0xsTyxLQUFLbU8sV0FRRCxhQUFjL00sR0FDcEIsR0FBSyxZQUFTQSxLQUFnQyxJQUF2QnBCLEtBQUtvTSxhQUE1QixDQUVBLEdBQW9CLGlCQUFUaEwsRUFBbUIsQ0FFNUIsSUFBSTJNLEVBQVMsR0FDYixNQUFNMU0sRUFBUSxJQUFJRSxXQUFXSCxHQUN2QmIsRUFBU2MsRUFBTTJNLFdBQ3JCLElBQUssSUFBSWpSLEVBQUksRUFBR0EsRUFBSXdELEVBQVF4RCxJQUFPZ1IsR0FBVTVPLE9BQU9DLGFBQWFpQyxFQUFNdEUsSUFDdkVxRSxFQUFPMk0sT0FDRixHQUFvQixpQkFBVDNNLEVBQXFCLE9BRXZDLElBQUtwQixLQUFLMkssV0FBYUgsRUFBU29ELEtBQU81TixLQUFLMkssV0FBYUgsRUFBU3FELE9BQStCLElBQXRCN04sS0FBS29NLGFBQzlFLE9BQU9wTSxLQUFLb08sY0FBY2hOLEdBTzVCLElBSEFwQixLQUFLMkwsZ0JBQWtCdkssRUFHaEJwQixLQUFLMkwsZUFBZXBMLFFBQVUsR0FBRyxDQUN0QyxJQUFJOE4sRUFBVSxFQUNkLE9BQVFyTyxLQUFLMkwsZUFBZXpNLFdBQVcsSUFDckMsS0FBSyxHQUVILEdBREFjLEtBQUswSyxPQUFPMEMsUUFBUSxpREFBaURwTixLQUFLMkssVUFDdEUzSyxLQUFLMkwsZUFBZXBMLE9BQVMsRUFBRyxPQUVwQyxPQURtQlAsS0FBSzJMLGVBQWV6TSxXQUFXLElBRWhELEtBQUssRUFBRyxDQUVOLEdBREFjLEtBQUswSyxPQUFPMEMsUUFBUSwyQ0FDaEJwTixLQUFLMkwsZUFBZXBMLE9BQVMsR0FBSSxPQUNyQyxNQUFNK04sRUFBU3RPLEtBQUsyTCxlQUFlek0sV0FBVyxJQUM5QyxHQUFJYyxLQUFLMkwsZUFBZXBMLE9BQVMsR0FBSytOLEVBQVEsT0FHOUN0TyxLQUFLMEssT0FBTzBDLFFBQVEsc0NBQ3BCcE4sS0FBSzJOLFdBQVd4TyxPQUFPQyxhQUFhLEdBQU0sRUFBTSxFQUFNLEVBQU0sRUFBTSxFQUFNLEVBQU0sRUFBTSxJQUNwRmlQLEVBQVcsR0FBS0MsRUFDaEIsTUFDRixRQUNFdE8sS0FBS2tPLE9BR1QsTUFDRixLQUFLLEdBQU0sQ0FFVCxHQURBbE8sS0FBSzBLLE9BQU8wQyxRQUFRLDZDQUNoQnBOLEtBQUsyTCxlQUFlcEwsT0FBUyxFQUFHLE9BQ3BDLE1BQU1nTyxFQUFjLElBQWNDLFNBQVN4TyxLQUFLMkwsZUFBZ0IsR0FDaEUsR0FBSTNMLEtBQUsyTCxlQUFlcEwsT0FBUyxFQUFJZ08sRUFBYSxPQUNsRCxNQUFNRSxFQUFTek8sS0FBSzJMLGVBQWV6TSxXQUFXLEdBQ3hDd1AsRUFBVzFPLEtBQUsyTCxlQUFlek0sV0FBVyxHQUMxQ3lQLEVBQWdCLEdBQ3RCLElBQUssSUFBSTVSLEVBQUksRUFBR0EsRUFBSXdSLEVBQWF4UixJQUFPNFIsRUFBUzFKLEtBQUtqRixLQUFLMkwsZUFBZXpNLFdBQVcsRUFBSW5DLElBQ3pGLE1BQU02UixFQUFjNU8sS0FBSzJMLGVBQWVLLFVBQVUsRUFBRyxFQUFJdUMsR0FHekQsR0FGQUYsRUFBVSxFQUFJRSxFQUVHLElBQWJHLEVBRUUsWUFBU0MsRUFBU0UsU0FBUyxLQUU3QjdPLEtBQUswSyxPQUFPMEMsUUFBUSwwQ0FDcEJwTixLQUFLMk4sV0FBV3hPLE9BQU9DLGFBQWEsR0FBTSxFQUFNLEVBQU0sRUFBTSxHQUFRLElBQWMwUCxVQUFVOU8sS0FBSytLLEtBQUt4SyxPQUFTUCxLQUFLNEwsUUFBUXJMLE9BQVMsR0FBS3BCLE9BQU9DLGFBQWFZLEtBQUsrSyxLQUFLeEssUUFBVVAsS0FBSytLLEtBQU81TCxPQUFPQyxhQUFhLEVBQU0sR0FBUUQsT0FBT0MsYUFBYVksS0FBSzRMLFFBQVFyTCxRQUFVUCxLQUFLNEwsUUFBVXpNLE9BQU9DLGFBQWEsRUFBTSxFQUFNLEVBQU0sS0FDdlQsWUFBU3VQLEVBQVNFLFNBQVMsS0FDcEM3TyxLQUFLMEssT0FBT3FFLEtBQUssbUJBRWpCL08sS0FBSzJOLFdBQVd4TyxPQUFPQyxhQUFhLEdBQU0sRUFBTSxFQUFNLEVBQU0sR0FBUSxJQUFjMFAsVUFBVTlPLEtBQUsrSyxLQUFLeEssT0FBU1AsS0FBSzRMLFFBQVFyTCxPQUFTLEdBQUtwQixPQUFPQyxhQUFhWSxLQUFLK0ssS0FBS3hLLFFBQVVQLEtBQUsrSyxLQUFPNUwsT0FBT0MsYUFBYSxFQUFNLEdBQVFELE9BQU9DLGFBQWFZLEtBQUs0TCxRQUFRckwsUUFBVVAsS0FBSzRMLFFBQVV6TSxPQUFPQyxhQUFhLEVBQU0sRUFBTSxLQUNqVCxZQUFTdVAsRUFBU0UsU0FBUyxLQUNwQzdPLEtBQUswSyxPQUFPMEMsUUFBUSxjQUVwQnBOLEtBQUsyTixXQUFXeE8sT0FBT0MsYUFBYSxHQUFNLEVBQU0sRUFBTSxFQUFNLEdBQVEsSUFBYzBQLFVBQVU5TyxLQUFLK0ssS0FBS3hLLE9BQVNQLEtBQUtnTCxLQUFLekssT0FBUyxHQUFLcEIsT0FBT0MsYUFBYVksS0FBSytLLEtBQUt4SyxRQUFVUCxLQUFLK0ssS0FBTzVMLE9BQU9DLGFBQWFZLEtBQUtnTCxLQUFLekssUUFBVVAsS0FBS2dMLFFBRXhPaEwsS0FBSzBLLE9BQU91RCxNQUFNLHVDQUNsQmpPLEtBQUtrTyxhQUVGLEdBQWtCLElBQWJRLEdBQStCLElBQWJBLEdBQThCLElBQVhELEVBaUNqRCxHQUFlLElBQVhBLEVBQWMsQ0FDaEIsR0FBc0IsSUFBbEJ6TyxLQUFLMkssU0FBZ0IsQ0FFdkIsTUFBTXFFLEVBQWMsSUFDZEMsRUFBWSxJQUNaQyxFQUFvQixFQUNwQkMsRUFBWSxJQUNaQyxFQUFpQixJQUNqQkMsRUFBWSxFQUNsQnJQLEtBQUsyTixXQUFXeE8sT0FBT0MsYUFBYSxHQUFNLEVBQU0sRUFBTSxHQUFRLElBQWMwUCxVQUFVOU8sS0FBS3NQLGVBQWlCLElBQWNDLFlBQVlQLEdBQ2xJLElBQWNPLFlBQVlOLEdBQWEsSUFBY00sWUFBWUwsR0FBcUIsSUFBY0ssWUFBWUosR0FDaEgsSUFBY0ksWUFBWUgsR0FBa0IsSUFBY0csWUFBWUYsR0FBYSxJQUFjUCxVQUFVLElBRTNGLElBQWxCOU8sS0FBSzJLLFVBRVAzSyxLQUFLMk4sV0FBV3hPLE9BQU9DLGFBQWEsR0FBTSxFQUFNLEVBQU0sRUFBTSxFQUFNLEVBQU0sRUFBTSxJQUUxRCxJQUFsQlksS0FBSzJLLFdBRVAzSyxLQUFLb00sYUFBZSxFQUNwQnBNLEtBQUtxTixjQUFjLFNBRWhCck4sS0FBS2tPLFdBdkRtRCxDQUM3RCxJQUFJc0IsRUFBUyxFQUdiLE1BQU1DLEVBQVdiLEVBQVkxUCxXQUFXc1EsR0FDbENFLEVBQVFkLEVBQVk1QyxVQUFVd0QsRUFBUyxFQUFHQSxFQUFTLEVBQUlDLEdBQzdERCxHQUFXQyxFQUFXLEVBR3RCLE1BQU1FLEVBQVdmLEVBQVkxUCxXQUFXc1EsR0FDbENqSyxFQUFRcUosRUFBWTVDLFVBQVV3RCxFQUFTLEVBQUdBLEVBQVMsRUFBSUcsR0FDN0RILEdBQVdHLEVBQVcsRUFHdEIsSUFBSUMsRUFBUyxFQUNUQyxFQUFXLEtBQ2YsTUFBTUMsRUFBaUI5UCxLQUFLK1Asb0JBQW9CLElBQzFDQyxFQUFNLFdBQ1osSUFBSUMsRUFBUSxHQUNLLElBQWJ2QixJQUNGa0IsRUFBU2hCLEVBQVkxUCxXQUFXc1EsR0FDaENLLEVBQU1qQixFQUFZNUMsVUFBVXdELEVBQVMsRUFBR0EsRUFBUyxFQUFJSSxHQUNyREosR0FBV0ksRUFBUyxFQUNwQkssRUFBUSxHQUFHRCxLQUFPRixLQUFVM1EsT0FBTzBRLFFBR3JDLE1BQU1LLEVBQVNsUSxLQUFLbVEsUUFBUW5RLEtBQUttUSxRQUFRblEsS0FBSytLLEtBQU8sSUFBTTJFLEVBQVEsSUFBTTFQLEtBQUtnTCxNQUFRLElBQU16RixFQUFRLElBQU0wSyxFQUFRalEsS0FBS21RLFFBQVEsUUFBVW5RLEtBQUs0TCxVQUM5SSxJQUFJd0UsRUFBbUJwUSxLQUFLK0ssS0FBS3hLLE9BQVNtUCxFQUFNblAsT0FBU2dGLEVBQU1oRixPQUFTUCxLQUFLNEwsUUFBUXJMLE9BQVN1UCxFQUFPdlAsT0FBU3lQLEVBQUl6UCxPQUFTMlAsRUFBTzNQLE9BQVMsRUFDMUgsSUFBYm1PLElBQWdCMEIsR0FBYUMsU0FBU1IsRUFBSXRQLFFBQVUsR0FDeEQsSUFBSStQLEVBQVduUixPQUFPQyxhQUFhLEdBQU0sRUFBTSxFQUFNLEVBQU1zUCxHQUFZLElBQWNJLFVBQVVzQixHQUFZalIsT0FBT0MsYUFBYVksS0FBSytLLEtBQUt4SyxRQUFVUCxLQUFLK0ssS0FBTzVMLE9BQU9DLGFBQWFzUSxFQUFNblAsUUFBVW1QLEVBQVF2USxPQUFPQyxhQUFhbUcsRUFBTWhGLFFBQVVnRixFQUFRcEcsT0FBT0MsYUFBYVksS0FBSzRMLFFBQVFyTCxRQUFVUCxLQUFLNEwsUUFBVXpNLE9BQU9DLGFBQWEwUSxFQUFPdlAsUUFBVXVQLEVBQVMzUSxPQUFPQyxhQUFhNFEsRUFBSXpQLFFBQVV5UCxFQUFNN1EsT0FBT0MsYUFBYThRLEVBQU8zUCxRQUFVMlAsRUFDM1osSUFBYnhCLElBQWdCNEIsR0FBUW5SLE9BQU9DLGFBQWF5USxFQUFJdFAsUUFBVXNQLEdBQzlEN1AsS0FBSzJOLFdBQVcyQyxHQXlCbEIsTUFDRixLQUFLLEdBQ0gsR0FBSXRRLEtBQUsyTCxlQUFlcEwsT0FBUyxHQUFJLE1BQ3JDUCxLQUFLMEssT0FBTzBDLFFBQVEsd0JBQ3BCaUIsRUFBVSxHQUNWck8sS0FBSzJOLFdBQVd4TyxPQUFPQyxhQUFhLEdBQU0sRUFBTSxFQUFNLEdBQVEsSUFBYzBQLFVBQVU5TyxLQUFLc1AsZUFBaUJuUSxPQUFPQyxhQUFhLEVBQU0sRUFBTSxHQUFNLEVBQU0sRUFBTSxJQUN4SSxJQUFsQlksS0FBSzJLLFdBQWtCM0ssS0FBS3VRLGtCQUFvQkMsWUFBWXhRLEtBQUt5USxpQkFBaUJsUyxLQUFLeUIsTUFBTyxNQUNsR0EsS0FBS29NLGFBQWUsRUFDcEJwTSxLQUFLcU4sY0FBYyxHQUNuQixNQUNGLEtBQUssR0FDSCxHQUFJck4sS0FBSzJMLGVBQWVwTCxPQUFTLEdBQUksTUFDckNQLEtBQUswSyxPQUFPMEMsUUFBUSxtQkFDcEJpQixFQUFVLEdBQ1YsTUFDRixLQUFLLEdBQU0sQ0FDVCxHQUFJck8sS0FBSzJMLGVBQWVwTCxPQUFTLEdBQUksTUFDckNQLEtBQUswSyxPQUFPMEMsUUFBUSx5QkFDcEIsTUFBTXNELEVBQU0sS0FBMkMsSUFBcEMxUSxLQUFLMkwsZUFBZXpNLFdBQVcsS0FBYyxJQUEwQyxJQUFwQ2MsS0FBSzJMLGVBQWV6TSxXQUFXLElBQ3JHLEdBQUljLEtBQUsyTCxlQUFlcEwsT0FBU21RLEVBQUksTUFDckMxUSxLQUFLb08sY0FBY3BPLEtBQUsyTCxlQUFlSyxVQUFVLEdBQUkwRSxJQUNyRHJDLEVBQVVxQyxFQUNWLE1BQ0YsS0FBSyxHQUNILEdBQUkxUSxLQUFLMkwsZUFBZXBMLE9BQVMsRUFBRyxNQUNwQ1AsS0FBSzBLLE9BQU8wQyxRQUFRLHFCQUNwQmlCLEVBQVUsRUFDVixNQUNGLEtBQUssR0FDSCxHQUFJck8sS0FBSzJMLGVBQWVwTCxPQUFTLEVBQUcsTUFDcENQLEtBQUswSyxPQUFPMEMsUUFBUSx3RUFDcEJwTixLQUFLb00sYUFBZSxFQUNwQnBNLEtBQUsyUSxVQUVEM1EsS0FBSzJMLGVBQWVwTCxPQUFTLEdBQUtQLEtBQUtvTyxjQUFjcE8sS0FBSzJMLGVBQWVLLFVBQVUsSUFDdkZxQyxFQUFVck8sS0FBSzJMLGVBQWVwTCxPQUM5QixNQUNGLFFBR0UsT0FGQVAsS0FBSzBLLE9BQU91RCxNQUFNLCtCQUErQmpPLEtBQUsyTCxlQUFlek0sV0FBVyxjQUFjYyxLQUFLMkwsZUFBZXBMLGVBQ2xIUCxLQUFLa08sT0FHVCxHQUFnQixJQUFaRyxFQUFlLE9BQ25Cck8sS0FBSzJMLGVBQWlCM0wsS0FBSzJMLGVBQWVLLFVBQVVxQyxLQUl4RCxRQUFTdUMsR0FFUCxPQURBNVEsS0FBSzBLLE9BQU8wQyxRQUFRLGtCQUNiLElBQUl3RCxHQUdiLFdBQVl4UCxHQUNOLFlBQVNwQixLQUFLMEwsVUFBWSxZQUFTMUwsS0FBSzBMLFFBQVE0QixhQUFldE4sS0FBSzBLLE9BQU8wQyxRQUFRLGNBQWNoTSxFQUFLYixZQUFZLElBQWNzUSxTQUFTelAsTUFFN0ksSUFDRSxHQUFtQixNQUFmcEIsS0FBS3FNLFFBQTZDLElBQTNCck0sS0FBS3FNLE9BQU95RSxXQUFrQixDQUN2RCxNQUFNQyxFQUFJLElBQUl4UCxXQUFXSCxFQUFLYixRQUM5QlAsS0FBSzBLLE9BQU8wQyxRQUFRLGVBQWVoTSxFQUFLYixZQUFZLElBQWNzUSxTQUFTelAsTUFDM0UsSUFBSyxJQUFJckUsRUFBSSxFQUFHQSxFQUFJcUUsRUFBS2IsU0FBVXhELEVBQUtnVSxFQUFFaFUsR0FBS3FFLEVBQUtsQyxXQUFXbkMsR0FDL0RpRCxLQUFLcU0sT0FBTzJFLEtBQUtELEVBQUVFLFNBRXJCLE1BQU9oRCxHQUNQak8sS0FBSzBLLE9BQU91RCxNQUFNLHNCQUFzQjlPLE9BQU84TyxLQVFuRCxLQUFNN00sR0FDSnBCLEtBQUswSyxPQUFPMEMsUUFBUSxlQUFpQmhNLEdBQ2xCLE1BQWZwQixLQUFLcU0sUUFBd0MsSUFBdEJyTSxLQUFLb00sZUFDNUJwTSxLQUFLMkssV0FBYUgsRUFBU2tELElBQzdCMU4sS0FBSzJOLFdBQVd4TyxPQUFPQyxhQUFhLEdBQU0sRUFBTSxFQUFNLEdBQ3BELElBQWMwUCxVQUFVOU8sS0FBS3NQLGVBQzdCLElBQWNDLFlBQVluTyxFQUFLYixRQUMvQmEsR0FFRnBCLEtBQUsyTixXQUFXdk0sSUFJcEIsbUJBQ3FCLE1BQWZwQixLQUFLcU0sUUFDVHJNLEtBQUsyTixXQUFXeE8sT0FBT0MsYUFBYSxHQUFNLEVBQU0sRUFBTSxHQUFRLElBQWMwUCxVQUFVOU8sS0FBS3NQLGdCQUc3RixvQkFBcUIvTyxHQUNuQixJQUFJMUMsRUFBWSxHQUNoQixJQUFLLElBQUlkLEVBQUksRUFBR0EsRUFBSXdELEVBQVF4RCxJQUFPYyxHQUFLbUMsS0FBS3FMLGlCQUFpQjZGLE9BQU96UCxLQUFLQyxNQUFNRCxLQUFLRSxTQUFXM0IsS0FBS3FMLGlCQUFpQjlLLFNBQ3RILE9BQU8xQyxFQUdULGVBQWdCOEYsR0FFVixZQUFTM0QsS0FBSzBMLFVBQVksWUFBUzFMLEtBQUswTCxRQUFRNEIsYUFBZUMsUUFBUUMsSUFBSSxnQkFDL0V4TixLQUFLMEssT0FBT3FFLEtBQUssdUJBQ2pCL08sS0FBS2tPLE9BR1AsY0FBZWlELEdBQ2I1RCxRQUFRRSxLQUFLLGdCQUFpQjBELEdBQzFCblIsS0FBS29SLFFBQVVELElBQ25CblIsS0FBS29SLE1BQVFELEVBQ2JuUixLQUFLcVIsV0FBV3JSLEtBQUtvUixPQUNNLE1BQXZCcFIsS0FBS3NSLGdCQUF3QnRSLEtBQUtzUixlQUFldFIsS0FBTUEsS0FBS29SLFFBR2xFLE9BQ0VwUixLQUFLMEssT0FBT3FFLEtBQUssa0VBQ2pCL08sS0FBS3FOLGNBQWMsR0FDbkJyTixLQUFLb00sY0FBZ0IsRUFDckJwTSxLQUFLMkwsZUFBaUIsR0FDSCxNQUFmM0wsS0FBS3FNLFNBQWtCck0sS0FBS3FNLE9BQU9rRixRQUFTdlIsS0FBS3FNLE9BQVMsTUFDaEMsTUFBMUJyTSxLQUFLdVEsb0JBQTZCaUIsY0FBY3hSLEtBQUt1USxtQkFBb0J2USxLQUFLdVEsa0JBQW9CLFMsNkJDdmIxRyw2QyxzU0FPTyxNQUFNa0IsRUFDWCxXQUFrQkMsRUFBSzVQLEVBQVFvQyxFQUFVLEkseUNBQ3ZDLE1BQU15TixFQUFjLFlBQWU3UCxHQUNuQyxhQUFhMlAsRUFBV0csTUFBTUYsRUFBSyxPQUFGLHdCQUM1QnhOLEdBQU8sQ0FDVjJOLE9BQVEsTUFDUjdQLFFBQVMyUCxRQUliLFlBQW1CRCxFQUFLSSxFQUFPLEdBQUloUSxFQUFTaVEsRUFBUTdOLEVBQVUsSSx5Q0FDNUQsTUFBTXlOLEVBQWMsWUFBZTdQLEVBQVFpUSxHQUMzQyxPQUFJLFlBQVFBLFNBQ0dOLEVBQVdHLE1BQU1GLEVBQUssT0FBRix3QkFDNUJ4TixHQUFPLENBQ1YyTixPQUFRLE9BQ1JDLEtBQU1BLEVBQ045UCxRQUFTMlAsV0FHRUYsRUFBV08sU0FBU04sRUFBSyxPQUFGLHdCQUMvQnhOLEdBQU8sQ0FDVjJOLE9BQVEsT0FDUkMsS0FBTUEsRUFDTjlQLFFBQVMyUCxRQUtmLGNBQXFCRCxFQUFLNVAsRUFBU29DLEVBQVUsSSx5Q0FDM0MsTUFBTXlOLEVBQWMsWUFBZTdQLEdBQ25DLGFBQWEyUCxFQUFXTyxTQUFTTixFQUFLLE9BQUYsd0JBQy9CeE4sR0FBTyxDQUNWMk4sT0FBUSxTQUNSN1AsUUFBUzJQLFFBSWIsYUFBb0JELEVBQUtJLEVBQU8sR0FBSWhRLEVBQVNvQyxFQUFVLEkseUNBQ3JELE1BQU15TixFQUFjLFlBQWU3UCxHQUNuQyxhQUFhMlAsRUFBV08sU0FBU04sRUFBSyxPQUFGLHdCQUMvQnhOLEdBQU8sQ0FDVjJOLE9BQVEsUUFDUkMsS0FBTUEsRUFDTjlQLFFBQVMyUCxRQUliLGFBQW9CRCxFQUFLeE4sRUFBVSxJLHlDQUlqQyxPQUhDQSxFQUFnQmhHLEtBQU8sT0FDdkJnRyxFQUFnQitOLFlBQWMsVUFDOUIvTixFQUFnQmdPLGlCQUFrQixRQUN0Qk4sTUFBTUYsRUFBS3hOLEdBQVNpTyxLQUFXcE8sR0FBVSxFQUFELGdDQUFDLGFBQU1BLEVBQU9xTyxjQUlyRSxnQkFBdUJWLEVBQUt4TixFQUFVLEkseUNBQ3BDLGFBQWEwTixNQUFNRixFQUFLeE4sR0FBU2lPLEtBQVlwTyxHQUFXLEVBQUQsZ0NBQ3JELE1BQU8sQ0FDTDBLLE9BQVExSyxFQUFPMEssT0FDZnJOLEtBQXdCLE1BQWxCMkMsRUFBTzBLLE9BQWlCLFdBQWExSyxFQUFPcU8sa0IsY0NuRTFEdFYsRUFBT0QsUUFBVWtDLFFBQVEsWSwwWkNPbEIsTUFBTXNULEVBQWUsQ0FBT0MsRUFBTUMsRUFBUUMsRUFBMEIxUSxFQUFRMlEsSUFBbUMsT0FBRCw2QkFDbkgsTUFBTVgsRUFBT3hTLEtBQUtFLFVBQVUsQ0FDMUJrVCxPQUFRLFFBQ1JiLE9BQVEsY0FDUmMsUUFBUyxZQUFRRixHQUFVLENBQUVILE9BQU1DLFNBQVFFLFVBQVcsQ0FBRUgsT0FBTUMsWUFFMURwSCxFQUE4QixNQUFicUgsRUFBb0JBLEVBQVksR0FDdkQsYUFBYSxJQUFXSSxLQUFLLFdBQVd6SCxRQUFjMkcsRUFBTWhRLEdBQVEsTUFHekQrUSxFQUFnQixDQUFPUCxFQUFNRSxFQUEwQjFRLElBQXlCLE9BQUQsNkJBQzFGLE1BQU1nUSxFQUFPeFMsS0FBS0UsVUFBVSxDQUMxQmtULE9BQVEsUUFDUmIsT0FBUSxhQUNSYyxRQUFTLENBQUVMLFVBRVBuSCxFQUE4QixNQUFicUgsRUFBb0JBLEVBQVksR0FDdkQsYUFBYSxJQUFXSSxLQUFLLFdBQVd6SCxRQUFjMkcsRUFBTWhRLEdBQVEsTyw2QkN4QnRFLG9FQUlPLE1BQU1nUixFQUF3QixDQUNuQyxDQUFFOVUsTUFBTyxJQUFLK1UsTUFBTyxZQUNyQixDQUFFL1UsTUFBTyxNQUFPK1UsTUFBTyxpQkFDdkIsQ0FBRS9VLE1BQU8sSUFBSytVLE1BQU8sU0FDckIsQ0FBRS9VLE1BQU8sSUFBSytVLE1BQU8sZUFDckIsQ0FBRS9VLE1BQU8sSUFBSytVLE1BQU8sYUFDckIsQ0FBRS9VLE1BQU8sSUFBSytVLE1BQU8sY0FDckIsQ0FBRS9VLE1BQU8sS0FBTStVLE1BQU8sU0FDdEIsQ0FBRS9VLE1BQU8sS0FBTStVLE1BQU8sWUFDdEIsQ0FBRS9VLE1BQU8sS0FBTStVLE1BQU8sY0FDdEIsQ0FBRS9VLE1BQU8sTUFBTytVLE1BQU8sb0JBQ3ZCLENBQUUvVSxNQUFPLE1BQU8rVSxNQUFPLGdCQUN2QixDQUFFL1UsTUFBTyxNQUFPK1UsTUFBTyxvQkFHWkMsRUFBaUJULEdBQTJCLElBQVhBLEVBQWUsV0FBd0IsSUFBWEEsRUFBZSxZQUF5QixJQUFYQSxFQUFlLGNBQTJCLEtBQVhBLEVBQWdCLFFBQXFCLEtBQVhBLEVBQWdCLFdBQXdCLEtBQVhBLEVBQWdCLGFBQTBCLElBQVhBLEVBQWUsUUFBcUIsSUFBWEEsRUFBZSxZQUF5QixNQUFYQSxFQUFpQixtQkFBZ0MsTUFBWEEsRUFBaUIsZ0JBQWtCLE0sNkJDbkIzViw2Q0FVTyxNQUFNVSxFQUVYLFlBQWFDLEdBQ1hsVCxLQUFLbVQsU0FBV0QsRUFHbEIsSUFBS0EsRUFBaUI5UixHQUNwQixPQUFROFIsR0FDTixLQUFLLElBQVNFLFFBQ1pwVCxLQUFLb04sUUFBUWhNLEdBQ2IsTUFDRixLQUFLLElBQVNpUyxLQUNaclQsS0FBS3lOLEtBQUtyTSxHQUNWLE1BQ0YsS0FBSyxJQUFTa1MsTUFDWnRULEtBQUttTSxNQUFNL0ssR0FDWCxNQUNGLEtBQUssSUFBU21TLFFBQ1p2VCxLQUFLK08sS0FBSzNOLEdBQ1YsTUFDRixLQUFLLElBQVNvUyxNQUNaeFQsS0FBS2lPLE1BQU03TSxJQU9qQixNQUFPb00sR0FDRHhOLEtBQUttVCxVQUFZLElBQVNHLE9BQU8vRixRQUFRcEIsTUFBTXFCLEdBR3JELEtBQU1BLEdBQ0F4TixLQUFLbVQsVUFBWSxJQUFTRSxNQUFNOUYsUUFBUUUsS0FBS0QsR0FHbkQsTUFBT0EsR0FDRHhOLEtBQUttVCxVQUFZLElBQVNLLE9BQU9qRyxRQUFRVSxNQUFNVCxHQUdyRCxLQUFNQSxHQUNBeE4sS0FBS21ULFVBQVksSUFBU0ksU0FBU2hHLFFBQVF3QixLQUFLdkIsR0FHdEQsUUFBU0EsR0FDSHhOLEtBQUttVCxVQUFZLElBQVNDLFNBQVM3RixRQUFRQyxJQUFJQSxNLGNDdkR2RDFRLEVBQU9ELFFBQVVrQyxRQUFRLFEsNkJDQXpCLDZCQUdJMFUsRUFISixNQUc4QixHQUE0QixLQUUxREEsRUFBd0J4TyxLQUFLLENBQUNuSSxFQUFPQyxFQUFJLHNEQUF1RCxHQUFHLENBQUMsUUFBVSxFQUFFLFFBQVUsQ0FBQyw4REFBOEQsTUFBUSxHQUFHLFNBQVcsZ0NBQWdDLGVBQWlCLENBQUMscVlBQXFZLFdBQWEsTUFFcG9CLE8sd0NDUGYsc0RBY08sTUFBTTJXLEVBQTRDcEosR0FBUyw0QkFBUXFKLFFBQVNySixFQUFNc0osU0FBVXRXLEtBQUssZ0JBQ3RHLDRCQUFRVSxNQUFNLEdBQUc2VixVQUFXdkosRUFBTXdKLFlBQVUsVUFDM0N4SixFQUFNeUosaUJBQWlCcEssSUFBSSxFQUFHM0wsUUFBTytVLFdBQ3BDLDRCQUFRelUsSUFBS04sRUFBT0EsTUFBT0EsR0FDeEIrVSxNLDZCQ2xCUCw2RUFvQk8sTUFBTWlCLFVBQW1CLElBQU0zSixVQUVwQyxZQUFhQyxHQUNYMkosTUFBTTNKLEdBZ0JSLEtBQUE0SixpQkFBbUIsS0FDakIsWUFBY2xVLEtBQUtzSyxNQUFNNkosU0FBVW5VLEtBQUtzSyxNQUFNYSxPQUFRbkwsS0FBS29VLFFBQVFoVCxLQUFLaVQsUUFDckVsQyxLQUFLL1EsSUFDSnBCLEtBQUtzSyxNQUFNZ0ssZUFDUCxZQUFRbFQsRUFBS21ULFlBQ2Z2VSxLQUFLd1UsU0FBUyxDQUNaQyxXQUFZclQsRUFBS21ULGFBR25CdlUsS0FBS3dVLFNBQVMsQ0FDWkMsV0FBWSxNQUdJLElBQXBCclQsRUFBS21ULFdBQW1CdlUsS0FBS3NLLE1BQU1vSyxrQkFBa0IsV0FBdUMsTUFBMUIxVSxLQUFLb1IsTUFBTXFELFdBQXFCelUsS0FBS3NLLE1BQU1vSyxrQkFBa0IsU0FBVzFVLEtBQUtzSyxNQUFNb0ssa0JBQWtCLFlBRXhLQyxNQUFNMUcsSUFDTFYsUUFBUUUsS0FBSyxRQUFTUSxNQUk1QixLQUFBMkcsaUJBQW9CQyxJQUNsQixPQUFRQSxHQUNOLEtBQUssRUFDTCxLQUFLLEdBQ0wsS0FBSyxHQUNMLEtBQUssR0FDTCxLQUFLLEdBQ0gsT0FBTywwQkFBTXpQLE1BQU8sQ0FBRTBQLE1BQU8sUUFBTyxTQUN0QyxLQUFLLEVBQ0gsT0FBTywwQkFBTTFQLE1BQU8sQ0FBRTBQLE1BQU8sVUFBUyxZQUN4QyxLQUFLLEVBQ0wsS0FBSyxFQUNILE9BQU8sMEJBQU0xUCxNQUFPLENBQUUwUCxNQUFPLFFBQU8sY0FDdEMsS0FBSyxFQUNMLEtBQUssRUFDTCxLQUFLLEVBQ0wsS0FBSyxFQUNMLEtBQUssR0FDTCxLQUFLLEdBQ0wsS0FBSyxHQUNMLEtBQUssR0FDSCxPQUFPLDBCQUFNMVAsTUFBTyxDQUFFMFAsTUFBTyxRQUFPLGFBQ3RDLEtBQUssRUFDSCxPQUFPLDBCQUFNMVAsTUFBTyxDQUFFMFAsTUFBTyxRQUFPLGFBQ3RDLFFBQ0UsT0FBTywwQkFBTTFQLE1BQU8sQ0FBRTBQLE1BQU8sUUFBTyxhQTVEeEM5VSxLQUFLb1IsTUFBUSxDQUNYcUQsV0FBWSxHQUloQixvQkFDRXpVLEtBQUtrVSxtQkFDTGxVLEtBQUsrVSxhQUFldkUsWUFBWSxJQUFNeFEsS0FBS2tVLG1CQUFvQixNQUdqRSx1QkFDRTFDLGNBQWN4UixLQUFLK1UsY0FxRHJCLFNBQ0UsTUFBTSxXQUFFTixHQUFlelUsS0FBS29SLE1BQzVCLE9BQ0VwUixLQUFLNFUsaUJBQWlCSCxJQU01QlQsRUFBV2dCLFlBQWMsSyx3dUJDeEZ6QixNQUFNQyxFQUFvQixJQUFNeFMsR0FBRzs7O0VBSzdCeVMsRUFBTyxJQUFNQyxHQUFHOzs7O0VBTWhCQyxFQUFpQixJQUFNdFUsTUFBTXVVLE1BQU0sQ0FBRTNTLEtBQU0sWUFBYTs7Ozs7Ozs7Ozs7RUFheEQ0UyxFQUFpQixJQUFNN1MsR0FBRzs7OztzQkFJVixFQUFHOFMscUJBQXNCQyxFQUFTRDs7OztJQUlwREg7Ozs7SUFJQUY7a0JBQ2M1SyxHQUFVLFlBQVFBLEVBQU1tTCxTQUFXLFVBQVk7O0VBSTNERCxFQUFZRCxJQUFnRCxJQUFwQkEsRUFBMkIsT0FBUyxRQUVyRUcsRUFBWSxJLElBQUEsVUFBRUMsRUFBUyxRQUFFRixFQUFPLGdCQUFFRixHQUFlLEVBQUtqTCxFQUFLLElBQS9DLDJDQUFtRSxPQUMxRixrQkFBQzJLLEVBQWlCLENBQUNVLFVBQVdBLEdBQzVCLGtCQUFDUCxFQUFjLGVBQUNLLFFBQVNBLEdBQWFuTCxFQUFLLENBQUVzTCxTQUFVTCxLQUN2RCxrQkFBQ0QsRUFBYyxDQUFDRyxRQUFTQSxFQUFTRixnQkFBaUJBLEdBQ2pELGtCQUFDTCxFQUFJLENBQUNXLFFBQVEsYUFDWiw4QkFBVUMsT0FBTyx1QiwwQ0N0RHJCNVIsRUFBVSxDQUVkLE9BQWlCLE9BQ2pCLFdBQW9CLEcsR0FFUCxJQUFJLElBQVNBLEdBSVgsSUFBUTZSLE8sT0NpQ2hCLE1BQU0sVUFBb0IsWUFDL0IsWUFBYXpMLEdBQ1gySixNQUFNM0osR0FtQlIsS0FBQTBMLGlCQUFtQixLQUNqQixNQUFNeEQsRUFBeUMsTUFBckJ4UyxLQUFLc0ssTUFBTWEsT0FBaUJuTCxLQUFLc0ssTUFBTWEsT0FBUyxHQzVEaEQsRUFBT21ILEVBQU1FLEVBQW1CMVEsSUFBeUIsT0FBRCw2QkFDcEYsTUFBTWdRLEVBQU94UyxLQUFLRSxVQUFVLENBQzFCa1QsT0FBUSxRQUNSYixPQUFRLGlCQUNSYyxRQUFTLENBQUVMLFVBR2IsYUFBYWIsRUFBQSxFQUFXbUIsS0FBSyxXQUFXSixRQUFpQlYsRUFBTWhRLEdBQVEsTURzRHJFbVUsQ0FBZWpXLEtBQUtzSyxNQUFNNkosU0FBVTNCLEVBQVd4UyxLQUFLb1UsUUFBUWhULEtBQUtpVCxRQUM5RGxDLEtBQUsvUSxJQUNvQixNQUFwQkEsRUFBSzhVLFdBQ1BsVyxLQUFLd1UsU0FBUyxDQUNaMkIsWUFBYS9VLEVBQUt1UixRQUFRd0QsWUFDMUJDLE9BQVFoVixFQUFLdVIsUUFBUS9FLElBQ3JCNkUsT0FBUXJSLEVBQUt1UixRQUFRakYsSUFDckIySSxRQUFTalYsRUFBS3VSLFFBQVE5RSxLQUN0QnlJLFlBQWFsVixFQUFLdVIsUUFBUTJELGFBQ3pCLElBQU10VyxLQUFLdVcsd0JBRWR2VyxLQUFLc0ssTUFBTWtNLG9CQUFvQixZQUlsQzdCLE1BQU0sSUFBTXBILFFBQVFFLEtBQUssV0FNOUIsS0FBQThJLHFCQUF1QixLQUNyQixNQUFNLFFBQUVFLEdBQVl6VyxLQUFLc0ssT0FDbkIsT0FBRThMLEVBQU0sT0FBRTNELEVBQU0sUUFBRTRELEVBQU8sWUFBRUMsR0FBZ0J0VyxLQUFLb1IsTUFDbERrRixJQUFpQkcsSUFBWSxZQUFjLDZCQUErQkwsR0FBWUssSUFBWSxZQUFjLDZCQUErQmhFLEdBQXdCLFNBQVpnRSxHQUFzQkosSUFDbkxyVyxLQUFLd1UsU0FBUyxDQUNaaUIsU0FBUyxJQUVYelYsS0FBS3NLLE1BQU1rTSxvQkFBb0IsWUFFL0J4VyxLQUFLc0ssTUFBTWtNLG9CQUFvQixlQUtuQyxLQUFBRSxjQUFnQixLQUNkLE1BQU0sU0FBRXZDLEVBQVEsUUFBRXNDLEVBQU8sT0FBRXRMLEVBQU0sb0JBQUVxTCxHQUF3QnhXLEtBQUtzSyxPQUMxRCxPQUFFOEwsRUFBTSxRQUFFQyxFQUFPLE9BQUU1RCxFQUFNLFFBQUVnRCxHQUFZelYsS0FBS29SLE1BQzVDdUYsRUFBb0JsQixFQUFVLFlBQWMsdUJBQXlCLFlBQWMsd0JBQ25GakQsRUFBOEIsTUFBVnJILEVBQWlCQSxFQUFTLEdBQ3BEcUwsRUFBb0IsV0FDcEIsTUFBTWxVLEVBQVksQ0FDaEJtVSxRQUFTQSxFQUNURyxZQUFhRCxHQzlGVyxFQUFPckUsRUFBTTZELEVBQWFVLEVBQVdDLEVBQVdDLEVBQVl2RSxFQUFtQjFRLElBQXlCLE9BQUQsNkJBQ25JLE1BQU1nUSxFQUFPeFMsS0FBS0UsVUFBVSxDQUMxQmtULE9BQVEsUUFDUmIsT0FBUSxpQkFDUmMsUUFBUyxDQUNQTCxPQUFNNkQsY0FBYVUsWUFBV0MsWUFBV0MsZ0JBSTdDLGFBQWF0RixFQUFBLEVBQVdtQixLQUFLLFdBQVdKLFFBQWlCVixFQUFNaFEsR0FBUSxNRHVGckVrVixDQUFlN0MsRUFBVSxPQUFRaUMsRUFBUTNELEVBQVE0RCxFQUFTN0QsRUFBV3hTLEtBQUtvVSxRQUFRaFQsS0FBS2lULFFBQ3BGbEMsS0FBSy9RLElBQ29CLE1BQXBCQSxFQUFLOFUsV0FDUGxXLEtBQUt3VSxTQUFTLENBQ1p5QyxhQUFhLEVBQ2JyVSxRQUFTLFlBQXFCLHNDQUF1Q04sR0FDckVJLEtBQU0sWUFBYyxzQ0FHdEIxQyxLQUFLd1UsU0FBUyxDQUNaeUMsYUFBYSxFQUNieEIsU0FBVUEsRUFDVjdTLFFBQVMsWUFBcUIsb0NBQXFDTixHQUNuRUksS0FBTSxZQUFjLG9DQUd4QndVLFdBQ0UsS0FDRWxYLEtBQUt3VSxTQUFTLENBQ1p5QyxhQUFhLElBR1ZqWCxLQUFLb1IsTUFBTXFFLFNBQVN6VixLQUFLc0ssTUFBTWtNLG9CQUFvQixlQUUxRCxPQUdIN0IsTUFBTTFHLEdBQVNWLFFBQVFFLEtBQUssUUFBU1EsS0FPMUMsS0FBQWtKLHFCQUF3QkMsSUFDdEIsT0FBUXBYLEtBQUtzSyxNQUFNbU0sU0FDakIsSUFBSyxNQUNIelcsS0FBS3dVLFNBQVMsQ0FDWmlCLFFBQVMyQixFQUFNL1QsT0FBT29TLFFBQ3RCVyxPQUFRZ0IsRUFBTS9ULE9BQU9vUyxTQUNwQixJQUFNelYsS0FBSzBXLGlCQUNkLE1BQ0YsSUFBSyxNQUNIMVcsS0FBS3dVLFNBQVMsQ0FDWmlCLFFBQVMyQixFQUFNL1QsT0FBT29TLFFBQ3RCaEQsT0FBUTJFLEVBQU0vVCxPQUFPb1MsU0FDcEIsSUFBTXpWLEtBQUswVyxpQkFDZCxNQUNGLElBQUssT0FDSDFXLEtBQUt3VSxTQUFTLENBQ1ppQixRQUFTMkIsRUFBTS9ULE9BQU9vUyxRQUN0QlksUUFBU2UsRUFBTS9ULE9BQU9vUyxTQUNyQixJQUFNelYsS0FBSzBXLGlCQUNkLE1BQ0YsUUFDRTFXLEtBQUt3VSxTQUFTLENBQ1ppQixRQUFTMkIsRUFBTS9ULE9BQU9vUyxZQXpINUJ6VixLQUFLb1IsTUFBUSxDQUNYcUUsU0FBUyxFQUNUVSxZQUFhLEdBQ2JDLFFBQVEsRUFDUjNELFFBQVEsRUFDUjRELFNBQVMsRUFDVEMsYUFBYSxFQUNiVyxhQUFhLEVBQ2JyVSxRQUFTLEdBQ1RGLEtBQU0sSUFJVixvQkFDRTFDLEtBQUtnVyxtQkFnSFAsU0FDRSxNQUFNLFFBQUVTLEdBQVl6VyxLQUFLc0ssT0FDbkIsWUFBRTJNLEVBQVcsUUFBRXJVLEVBQU8sS0FBRUYsR0FBUzFDLEtBQUtvUixNQUU1QyxPQUNFLGdCQUFDLFdBQWMsS0FDWjZGLEdBQWUsZ0JBQUNJLEVBQUEsRUFBUSxDQUN2QnpVLFFBQVNBLEVBQ1RGLEtBQU1BLElBRVIsNkJBQ0UsZ0JBQUNnVCxFQUFRLENBQ1BELFFBQVN6VixLQUFLb1IsTUFBTXFFLFFBQ3BCN0IsU0FBVTVULEtBQUttWCxxQkFDZnhCLFVBQVUsaUJBQ1ZKLGdCQUFrRCxJQUFqQ3ZWLEtBQUtzSyxNQUFNZ04sb0JBRTlCLHdCQUFNM0IsVUFBVyxlQUErQyxJQUFqQzNWLEtBQUtzSyxNQUFNZ04sa0JBQTBCLGFBQWUsS0FBT2IsRSxJQUFVLFlBQWMsMkJBTzVILEVBQVl6QixZQUFjLEssa0NFdE0xQixrQ0FLTyxNQUFNdUMsRUFBYixjQUNFLEtBQUFDLGtCQUFvQixFQUNwQixLQUFBQyxZQUFjLEVBQ2QsS0FBQUMsWUFBYyxFQUdkLEtBQUFDLGVBQWlCLENBQ2YsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsS0FDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLEtBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxLQUNBLElBQ0EsS0FDQSxJQUNBLElBQ0EsS0FDQSxLQUNBLElBQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxJQUNBLEtBQ0EsSUFDQSxLQUNBLElBQ0EsS0FDQSxLQUNBLElBQ0EsS0FDQSxLQUdGLEtBQUFDLG9CQUFzQixDQUNwQixJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxLQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNB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SSxDQUFDMUIsZUFBZ0I3WSxLQUFLNlksZUFBZ0JtQyxtQkFBb0JoYixLQUFLZ2IsbUJBQW9CcEMsTUFBTzVZLEtBQUt1YSxTQU01SSxFQUFJdkYsWUFBYyxLLG1CQy9SbEJsWSxFQUFPRCxRQUFVa0MsUUFBUSIsImZpbGUiOiJzb2wuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDU0KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlYWN0XCIpOyIsImltcG9ydCB7IGlzVHJ1dGh5IH0gZnJvbSAnLi9VdGlsaXRpZXMvVXRpbGl0eU1ldGhvZHMnXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIENvcHlyaWdodCAoYykgSW50ZWwgQ29ycG9yYXRpb24gMjAxOVxyXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxyXG4gKiBBdXRob3IgOiBWaW5heSBHXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5leHBvcnQgY2xhc3MgVHlwZUNvbnZlcnRlciB7XHJcbiAgLy8gQmluYXJ5IGVuY29kaW5nIGFuZCBkZWNvZGluZyBmdW5jdGlvbnNcclxuICBzdGF0aWMgUmVhZFNob3J0ICh2OiBzdHJpbmcsIHA6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICAvL1xyXG4gICAgcmV0dXJuICh2LmNoYXJDb2RlQXQocCkgPDwgOCkgKyB2LmNoYXJDb2RlQXQocCArIDEpXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgUmVhZFNob3J0WCAodjogc3RyaW5nLCBwOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuICh2LmNoYXJDb2RlQXQocCArIDEpIDw8IDgpICsgdi5jaGFyQ29kZUF0KHApXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgUmVhZEludCAodjogc3RyaW5nLCBwOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuICh2LmNoYXJDb2RlQXQocCkgKiAweDEwMDAwMDApICsgKHYuY2hhckNvZGVBdChwICsgMSkgPDwgMTYpICtcclxuICAgICAgICAgICAodi5jaGFyQ29kZUF0KHAgKyAyKSA8PCA4KSArIHYuY2hhckNvZGVBdChwICsgMylcclxuICB9IC8vIFdlIHVzZSBcIioweDEwMDAwMDBcIiBpbnN0ZWFkIG9mIFwiPDwyNFwiIGJlY2F1c2UgdGhlIHNoaWZ0IGNvbnZlcnRzIHRoZSBudW1iZXIgdG8gc2lnbmVkIGludDMyLlxyXG5cclxuICBzdGF0aWMgUmVhZFNJbnQgKHY6IHN0cmluZywgcDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAodi5jaGFyQ29kZUF0KHApIDw8IDI0KSArICh2LmNoYXJDb2RlQXQocCArIDEpIDw8IDE2KSArXHJcbiAgICAgICAgICAgKHYuY2hhckNvZGVBdChwICsgMikgPDwgOCkgKyB2LmNoYXJDb2RlQXQocCArIDMpXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgUmVhZEludFggKHY6IHN0cmluZywgcDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiAodi5jaGFyQ29kZUF0KHAgKyAzKSAqIDB4MTAwMDAwMCkgKyAodi5jaGFyQ29kZUF0KHAgKyAyKSA8PCAxNikgK1xyXG4gICAgICAgICAgICh2LmNoYXJDb2RlQXQocCArIDEpIDw8IDgpICsgdi5jaGFyQ29kZUF0KHApXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgU2hvcnRUb1N0ciAodjogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKCh2ID4+IDgpICYgMHhGRiwgdiAmIDB4RkYpXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgU2hvcnRUb1N0clggKHY6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh2ICYgMHhGRiwgKHYgPj4gOCkgJiAweEZGKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIEludFRvU3RyICh2OiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoKHYgPj4gMjQpICYgMHhGRiwgKHYgPj4gMTYpICYgMHhGRiwgKHYgPj4gOCkgJiAweEZGLCB2ICYgMHhGRilcclxuICB9XHJcblxyXG4gIHN0YXRpYyBJbnRUb1N0clggKHY6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh2ICYgMHhGRiwgKHYgPj4gOCkgJiAweEZGLCAodiA+PiAxNikgJiAweEZGLCAodiA+PiAyNCkgJiAweEZGKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIE1ha2VUb0FycmF5ICh2OiBudW1iZXIpOiBudW1iZXIgfCBudW1iZXJbXSB7XHJcbiAgICBpZiAoIXYgfHwgdiA9PSBudWxsIHx8IHR5cGVvZiB2ID09PSAnb2JqZWN0JykgcmV0dXJuIHY7IHJldHVybiBbdl1cclxuICB9XHJcblxyXG4gIHN0YXRpYyBTcGxpdEFycmF5ICh2OiBzdHJpbmcpOiBzdHJpbmdbXSB7XHJcbiAgICByZXR1cm4gdi5zcGxpdCgnLCcpXHJcbiAgfVxyXG5cclxuICBzdGF0aWMgQ2xvbmUgKHY6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh2KSlcclxuICB9XHJcblxyXG4gIHN0YXRpYyBFc2NhcGVIdG1sICh4OiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuKTogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHVuZGVmaW5lZCB7XHJcbiAgICBpZiAodHlwZW9mIHggPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHJldHVybiB4LnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPi9nLCAnJmd0OycpXHJcbiAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JykucmVwbGFjZSgvJy9nLCAnJmFwb3M7JylcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgeCA9PT0gJ2Jvb2xlYW4nKSB7IHJldHVybiB4IH1cclxuICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHsgcmV0dXJuIHggfVxyXG4gIH1cclxuXHJcbiAgLy8gTW92ZSBhbiBlbGVtZW50IGZyb20gb25lIHBvc2l0aW9uIGluIGFuIGFycmF5IHRvIGEgbmV3IHBvc2l0aW9uXHJcbiAgc3RhdGljIEFycmF5RWxlbWVudE1vdmUgKGFycjogbnVtYmVyW10sIGZyb206IG51bWJlciwgdG86IG51bWJlcik6IHZvaWQge1xyXG4gICAgYXJyLnNwbGljZSh0bywgMCwgYXJyLnNwbGljZShmcm9tLCAxKVswXSlcclxuICB9O1xyXG5cclxuICAvLyBQcmludCBvYmplY3QgZm9yIEhUTUxcclxuICBzdGF0aWMgT2JqZWN0VG9TdHJpbmdFeCAoeDogYW55LCBjOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgbGV0IHI6IHN0cmluZyA9ICcnXHJcbiAgICBpZiAoeCAhPT0gMCAmJiAoIWlzVHJ1dGh5KHgpIHx8IHggPT0gbnVsbCkpIHJldHVybiAnKE51bGwpJ1xyXG4gICAgaWYgKHggaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICBmb3IgKHZhciBpIGluIHgpIHtcclxuICAgICAgICByICs9ICc8YnIgLz4nICsgdGhpcy5nYXAoYykgKyAnSXRlbSAjJyArIGkgKyAnOiAnICsgdGhpcy5PYmplY3RUb1N0cmluZ0V4KHhbaV0sIGMgKyAxKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHggaW5zdGFuY2VvZiBPYmplY3QpIHtcclxuICAgICAgZm9yICh2YXIgaiBpbiB4KSB7XHJcbiAgICAgICAgciArPSAnPGJyIC8+JyArIHRoaXMuZ2FwKGMpICsgaiArICcgPSAnICsgdGhpcy5PYmplY3RUb1N0cmluZ0V4KHhbal0sIGMgKyAxKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByICs9IHRoaXMuRXNjYXBlSHRtbCh4KVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJcclxuICB9XHJcblxyXG4gIC8vIFByaW50IG9iamVjdCBmb3IgY29uc29sZVxyXG4gIHN0YXRpYyBPYmplY3RUb1N0cmluZ0V4MiAoeDogYW55LCBjOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgbGV0IHI6IHN0cmluZyA9ICcnXHJcbiAgICBpZiAoeCAhPT0gMCAmJiAoIWlzVHJ1dGh5KHgpIHx8IHggPT0gbnVsbCkpIHsgcmV0dXJuICcoTnVsbCknIH1cclxuICAgIGlmICh4IGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgZm9yICh2YXIgaSBpbiB4KSB7XHJcbiAgICAgICAgciArPSAnXFxyXFxuJyArIHRoaXMuZ2FwMihjKSArICdJdGVtICMnICsgaSArICc6ICcgKyB0aGlzLk9iamVjdFRvU3RyaW5nRXgyKHhbaV0sIGMgKyAxKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHggaW5zdGFuY2VvZiBPYmplY3QpIHtcclxuICAgICAgZm9yICh2YXIgaiBpbiB4KSB7XHJcbiAgICAgICAgciArPSAnXFxyXFxuJyArIHRoaXMuZ2FwMihjKSArIGogKyAnID0gJyArIHRoaXMuT2JqZWN0VG9TdHJpbmdFeDIoeFtqXSwgYyArIDEpXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHIgKz0gdGhpcy5Fc2NhcGVIdG1sKHgpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gclxyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIGFuIGlkZW50IGdhcFxyXG4gIHN0YXRpYyBnYXAgKGM6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICBsZXQgeCA9ICcnXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IChjICogNCk7IGkrKykge1xyXG4gICAgICB4ICs9ICcmbmJzcDsnXHJcbiAgICB9XHJcbiAgICByZXR1cm4geFxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdhcDIgKGM6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICBsZXQgeCA9ICcnXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IChjICogNCk7IGkrKykge1xyXG4gICAgICB4ICs9ICcgJ1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHhcclxuICB9XHJcblxyXG4gIC8vIFByaW50IGFuIG9iamVjdCBpbiBodG1sXHJcbiAgc3RhdGljIE9iamVjdFRvU3RyaW5nICh4OiBhbnkpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHRoaXMuT2JqZWN0VG9TdHJpbmdFeCh4LCAwKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIE9iamVjdFRvU3RyaW5nMiAoeDogYW55KTogc3RyaW5nIHtcclxuICAgIHJldHVybiB0aGlzLk9iamVjdFRvU3RyaW5nRXgyKHgsIDApXHJcbiAgfVxyXG5cclxuICAvLyBDb252ZXJ0IGEgaGV4IHN0cmluZyB0byBhIHJhdyBzdHJpbmdcclxuICBzdGF0aWMgaGV4MnJzdHIgKGQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAodHlwZW9mIGQgIT09ICdzdHJpbmcnIHx8IGQubGVuZ3RoID09PSAwKSB7IHJldHVybiAnJyB9XHJcbiAgICBsZXQgciA9ICcnOyBjb25zdCBtOiBhbnkgPSAoJycgKyBkKS5tYXRjaCgvLi4vZyk7IGxldCB0XHJcbiAgICB3aGlsZSAodCA9IG0uc2hpZnQoKSkgeyByICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoTnVtYmVyKCcweCcgKyB0KSkgfVxyXG4gICAgcmV0dXJuIHJcclxuICB9XHJcblxyXG4gIC8vIENvbnZlcnQgZGVjaW1hbCB0byBoZXhcclxuICBzdGF0aWMgY2hhcjJoZXggKGk6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigtMikudG9VcHBlckNhc2UoKVxyXG4gIH1cclxuXHJcbiAgLy8gQ29udmVydCBhIHJhdyBzdHJpbmcgdG8gYSBoZXggc3RyaW5nXHJcbiAgc3RhdGljIHJzdHIyaGV4IChpbnB1dDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGxldCByID0gJyc7IGxldCBpXHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgciArPSB0aGlzLmNoYXIyaGV4KGlucHV0LmNoYXJDb2RlQXQoaSkpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gclxyXG4gIH1cclxuXHJcbiAgLy8gVVRGLTggZW5jb2RpbmcgJiBkZWNvZGluZyBmdW5jdGlvbnNcclxuICBzdGF0aWMgZW5jb2RlX3V0ZjggKHM6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGRlY29kZV91dGY4IChzOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUocykpXHJcbiAgfVxyXG5cclxuICAvLyBDb252ZXJ0IGEgc3RyaW5nIGludG8gYSBibG9iXHJcbiAgc3RhdGljIGRhdGEyYmxvYiAoZGF0YTogc3RyaW5nKTogYW55IHtcclxuICAgIGNvbnN0IGJ5dGVzID0gbmV3IEFycmF5KGRhdGEubGVuZ3RoKVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7IGJ5dGVzW2ldID0gZGF0YS5jaGFyQ29kZUF0KGkpIH1cclxuICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbbmV3IFVpbnQ4QXJyYXkoYnl0ZXMpXSlcclxuICAgIHJldHVybiBibG9iXHJcbiAgfVxyXG5cclxuICAvLyBHZW5lcmF0ZSByYW5kb20gbnVtYmVyc1xyXG4gIHN0YXRpYyByYW5kb20gKG1heDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXgpXHJcbiAgfVxyXG5cclxuICAvLyBUcmFkZW1hcmtzXHJcbiAgc3RhdGljIHRyYWRlbWFya3MgKHg6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4geC5yZXBsYWNlKC9cXChSXFwpL2csICcmcmVnOycpLnJlcGxhY2UoL1xcKFRNXFwpL2csICcmdHJhZGU7JylcclxuICB9XHJcbn1cclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiBDb3B5cmlnaHQgKGMpIEludGVsIENvcnBvcmF0aW9uIDIwMjFcclxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5leHBvcnQgY29uc3QgaXNUcnV0aHkgPSAodmFsdWU6IGFueSk6IGJvb2xlYW4gPT4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gJycgJiYgdmFsdWUgIT09IGZhbHNlICYmIHZhbHVlICE9PSAwXHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICogQ29weXJpZ2h0IChjKSBJbnRlbCBDb3Jwb3JhdGlvbiAyMDE5XHJcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5pbXBvcnQgZG90IGZyb20gJ2RvdC1vYmplY3QnXHJcbmltcG9ydCBjYW1lbENhc2UgZnJvbSAnY2FtZWxjYXNlJ1xyXG5cclxuLyoqIENoZWNrcyB3aGV0aGVyIHRoZSBnaXZlbiB2YWx1ZSBpcyBhbiBvYmplY3Qgb3Igbm90ICovXHJcbmV4cG9ydCBjb25zdCBpc09iamVjdCA9ICh2YWx1ZSk6IGFueSA9PiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnXHJcblxyXG4vKiogVGFrZXMgYW4gb2JqZWN0IGFuZCBjb252ZXJ0cyB0aGUga2V5cyBpbnRvIGNhbWVsY2FzZSAgKi9cclxuZXhwb3J0IGNvbnN0IGNhbWVsQ2FzZUtleXMgPSAoZGF0YSk6IGFueSA9PiB7XHJcbiAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcclxuICAgIHJldHVybiBkYXRhLm1hcChjYW1lbENhc2VLZXlzKVxyXG4gIH0gZWxzZSBpZiAoZGF0YSAhPT0gbnVsbCAmJiBpc0ZhbHN5KGlzT2JqZWN0KGRhdGEpKSkge1xyXG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGRhdGEpLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgICAgYWNjW2NhbWVsQ2FzZShrZXkpXSA9IGNhbWVsQ2FzZUtleXModmFsdWUpXHJcbiAgICAgIHJldHVybiBhY2NcclxuICAgIH0sIHt9KVxyXG4gIH1cclxuICByZXR1cm4gZGF0YVxyXG59XHJcblxyXG4vKiogVGFrZXMgYW4gb2JqZWN0IGFuZCBjb252ZXJ0cyBpdCB0byBhbm90aGVyIHN0cnVjdHVyZSB1c2luZyBkb3Qtbm90YXRpb24gKi9cclxuZXhwb3J0IGNvbnN0IHJlc2hhcGUgPSAocmVzcG9uc2UsIG1vZGVsKTogYW55ID0+IHtcclxuICByZXR1cm4gT2JqZWN0LmtleXMobW9kZWwpLnJlZHVjZShcclxuICAgIChhY2MsIGtleSkgPT4gZG90LmNvcHkoa2V5LCBtb2RlbFtrZXldLCByZXNwb25zZSwgYWNjKSxcclxuICAgIHt9XHJcbiAgKVxyXG59XHJcblxyXG4vKiogVGFrZXMgYW4gb2JqZWN0LCBjYW1lbCBjYXNlcyB0aGUga2V5cywgYW5kIGNvbnZlcnRzIGl0IHRvIGFub3RoZXIgc3RydWN0dXJlIHVzaW5nIGRvdC1ub3RhdGlvbiAqL1xyXG5leHBvcnQgY29uc3QgY2FtZWxDYXNlUmVzaGFwZSA9IChyZXNwb25zZSwgbW9kZWwpOiBhbnkgPT4ge1xyXG4gIHJldHVybiByZXNoYXBlKGNhbWVsQ2FzZUtleXMocmVzcG9uc2UpLCBtb2RlbClcclxufVxyXG5cclxuLyoqIFRlc3RzIGlmIGEgdmFsdWUgaXMgYSBmdW5jdGlvbiAqL1xyXG5leHBvcnQgY29uc3QgaXNGdW5jID0gKHZhbHVlKTogYW55ID0+IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJ1xyXG5cclxuZXhwb3J0IGNvbnN0IHBhc3N3b3JkTGVuZ3RoVmFsaWRhdGlvbiA9IChsZW5ndGgpOiBhbnkgPT4gbGVuZ3RoID49IDggJiYgbGVuZ3RoIDw9IDMyXHJcblxyXG5leHBvcnQgY29uc3QgbmFtZVZhbGlkYXRpb24gPSAodmFsdWUpOiBhbnkgPT5cclxuICBuZXcgUmVnRXhwKCdeW2EtekEtWjAtOSRAJCElKiM/Ji1ffl5dKyQnKS50ZXN0KHZhbHVlKVxyXG5cclxuZXhwb3J0IGNvbnN0IHBhc3N3b3JkVmFsaWRhdGlvbiA9ICh2YWx1ZSk6IGFueSA9PlxyXG4gIG5ldyBSZWdFeHAoXHJcbiAgICAnXig/PS4qWzAtOV0pKD89LipbIUAjJCVeJipdKSg/PS4qW2Etel0pKD89LipbQS1aXSlbYS16QS1aMC05JEAkISUqIz8mLV9+Xl17OCwzMn0kJ1xyXG4gICkudGVzdCh2YWx1ZSlcclxuXHJcbi8vIGV4cG9ydCBjb25zdCBwb3J0VmFsaWRhdGlvbiA9ICh2YWx1ZSkgPT4gbmV3IFJlZ0V4cCgnXig0OTE1WzAtMV18NDkxWzAtNF1cXGR8NDkwXFxkXFxkfDRbMC04XVxcZHszfXxbMS0zXVxcZHs0fXxbMi05XVxcZHszfXwxWzEtOV1cXGR7Mn18MTBbMy05XVxcZHwxMDJbNC05XSkkJykudGVzdCh2YWx1ZSlcclxuZXhwb3J0IGNvbnN0IHBvcnRWYWxpZGF0aW9uID0gKHZhbHVlKTogYW55ID0+XHJcbiAgbmV3IFJlZ0V4cChcclxuICAgICdeKDEwMls0LTldfDEwWzMtOV1bMC05XXwxWzEtOV1bMC05XXsyfXxbMi05XVswLTldezN9fFsxLTNdWzAtOV17NH18NFswLThdWzAtOV17M318NDkwWzAtOV17Mn18NDkxWzAtNF1bMC05XXw0OTE1WzAxXSkkJ1xyXG4gICkudGVzdCh2YWx1ZSlcclxuXHJcbmV4cG9ydCBjb25zdCBjb21tb25OYW1lVmFsaWRhdGlvbiA9ICh2YWx1ZSk6IGFueSA9PlxyXG4gIGlzRmFsc3kodmFsdWUpID8gbmV3IFJlZ0V4cCgnW15hLXpBLVowLTkuXy1dJykudGVzdCh2YWx1ZSkgOiB0cnVlXHJcblxyXG5leHBvcnQgY29uc3QgaXBBZGRyZXNzVmFsaWRhdGlvbiA9IChpcFR5cGUsIHZhbHVlKTogYW55ID0+XHJcbiAgaXBUeXBlID09PSAzXHJcbiAgICA/IGlwdjQodmFsdWUpXHJcbiAgICA6IGlwVHlwZSA9PT0gNlxyXG4gICAgICA/IGlwdjYodmFsdWUpXHJcbiAgICAgIDogaXBUeXBlID09PSAyMDFcclxuICAgICAgICA/IGZxZG4odmFsdWUpXHJcbiAgICAgICAgOiAnJ1xyXG5cclxuLyoqIGlwdjQgZm9ybWF0ZSB2YWxpZGF0aW9uICAqL1xyXG5jb25zdCBpcHY0ID0gKHZhbHVlKTogYW55ID0+XHJcbiAgbmV3IFJlZ0V4cChcclxuICAgICdeKFswMV0/WzAtOV0/WzAtOV18MlswLTRdWzAtOV18MjVbMC01XSlcXFxcLihbMDFdP1swLTldP1swLTldfDJbMC00XVswLTldfDI1WzAtNV0pXFxcXC4oWzAxXT9bMC05XT9bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKVxcXFwuKFswMV0/WzAtOV0/WzAtOV18MlswLTRdWzAtOV18MjVbMC01XSkkJ1xyXG4gICkudGVzdCh2YWx1ZSlcclxuXHJcbi8qKiBpcHY2IGZvcm1hdGUgdmFsaWRhdGlvbiAgKi9cclxuXHJcbmNvbnN0IGlwdjYgPSAodmFsdWUpOiBhbnkgPT5cclxuICBuZXcgUmVnRXhwKFxyXG4gICAgJ14oKD86WzAtOUEtRmEtZl17MSw0fSkpKCg/OjpbMC05QS1GYS1mXXsxLDR9KSkqOjooKD86WzAtOUEtRmEtZl17MSw0fSkpKCg/OjpbMC05QS1GYS1mXXsxLDR9KSkqfCgoPzpbMC05QS1GYS1mXXsxLDR9KSkoKD86OlswLTlBLUZhLWZdezEsNH0pKXs3fSQnXHJcbiAgKS50ZXN0KHZhbHVlKVxyXG5cclxuLyoqIGZxZG4gZm9ybWF0ZSB2YWxpZGF0aW9uICAqL1xyXG5jb25zdCBmcWRuID0gKHZhbHVlKTogYW55ID0+IC9eKD89LnsxLDI1NH0kKSgoPz1bYS16MC05LV17MSw2M31cXC4pKHhuLS0rKT9bYS16MC05XSsoLVthLXowLTldKykqXFwuKStbYS16XXsyLDYzfSQvLnRlc3QodmFsdWUpXHJcblxyXG4vKiogdXRpbGl0eSBmdW5jdGlvbiB0byBqb2luIHRoZSBjc3MgY2xhc3MgbmFtZXMgKi9cclxuZXhwb3J0IGNvbnN0IGpvaW5DbGFzc2VzID0gKC4uLmNsYXNzTmFtZXMpOiBhbnkgPT5cclxuICBjbGFzc05hbWVzXHJcbiAgICAuZmlsdGVyKChuYW1lKSA9PiAhIWlzRmFsc3kobmFtZSkpXHJcbiAgICAuam9pbignICcpXHJcbiAgICAudHJpbSgpXHJcblxyXG4vKipcclxuICogZW5jb2RlIHRoZSBzcGVjaWFsIGNoYXJhY3RlcnNcclxuICovXHJcbmV4cG9ydCBjb25zdCBlbmNvZGVTcGVjaWFsQ2hhcmFjdGVycyA9IChjb25maWdOYW1lKTogc3RyaW5nID0+IHtcclxuICBjb25zdCByZXBsYWNlQ2hhcnMgPSB7ICcjJzogJyUyMycsICclJzogJyUyNScgfVxyXG4gIHJldHVybiBjb25maWdOYW1lLnJlcGxhY2UoLyN8JS9nLCBtYXRjaCA9PiByZXBsYWNlQ2hhcnNbbWF0Y2hdKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcHJlcGFyZUhlYWRlcnMgPSAoYXBpS2V5LCBpc01wc0NvbnRyb2w/OiBib29sZWFuKTogYW55ID0+IHtcclxuICBjb25zdCBoZWFkZXJzID0ge1xyXG4gICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgfVxyXG4gIGlmIChpc0ZhbHN5KGlzTXBzQ29udHJvbCkpIHtcclxuICAgIGhlYWRlcnNbJ1gtTVBTLUFQSS1LZXknXSA9IGFwaUtleVxyXG4gIH0gZWxzZSB7XHJcbiAgICBoZWFkZXJzWydYLVJQUy1BUEktS2V5J10gPSBhcGlLZXlcclxuICB9XHJcbiAgcmV0dXJuIGhlYWRlcnNcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRlRmlsZUV4dGVuc2lvbnMgPSAoZmlsZVBhdGgpOiBib29sZWFuID0+IHtcclxuICBjb25zdCB2YWxpZEV4dGVuc2lvbnMgPSAvKFxcLnBmeCkkL2lcclxuICByZXR1cm4gISFpc0ZhbHN5KHZhbGlkRXh0ZW5zaW9ucy5leGVjKGZpbGVQYXRoKSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGlzRmFsc3kgPSAodmFsdWU6IGFueSk6IGJvb2xlYW4gPT4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gJycgJiYgdmFsdWUgIT09IGZhbHNlICYmIHZhbHVlICE9PSAwXHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuKiBDb3B5cmlnaHQgKGMpIEludGVsIENvcnBvcmF0aW9uIDIwMTlcclxuKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IGkxOG5leHQgZnJvbSAnaTE4bmV4dCdcclxuaW1wb3J0IHsgaXNGYWxzeSB9IGZyb20gJy4vVXRpbGl0aWVzJ1xyXG5cclxuLyoqXHJcbiAqIEEgaGVscGVyIG1ldGhvZCBmb3IgdHJhbnNsYXRpbmcgaGVhZGVyTmFtZXMgYW5kIGhlYWRlclRvb2x0aXBzIG9mIGNvbHVtbkRlZnMuXHJcbiAqIElmIGhlYWRlclRvb2x0aXAgaXMgcHJvdmlkZWQsIGl0IHdpbGwgYmUgdHJhbnNsYXRlZC5cclxuICogSWYgaGVhZGVyVG9vbHRpcCBpcyBub3QgcHJvdmlkZWQsIHRoZSBoZWFkZXJOYW1lIHdpbGwgYmUgdXNlZCB0byBlbnN1cmUgaGVhZGVyc1xyXG4gKiBjYW4gYmUgZGVjaXBoZXJlZCBldmVuIHdoZW4gdGhlIGNvbHVtbiBpcyB0b28gbmFycm93IHRvIHNob3cgdGhlIGVudGlyZSBoZWFkZXIuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgdHJhbnNsYXRlQ29sdW1uRGVmcyA9IChjb2x1bW5EZWZzOiBhbnkpOiBhbnkgPT4ge1xyXG4gIHJldHVybiBjb2x1bW5EZWZzLm1hcChjb2x1bW5EZWYgPT4ge1xyXG4gICAgY29uc3QgaGVhZGVyQ29tcG9uZW50UGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgY29sdW1uRGVmLmhlYWRlckNvbXBvbmVudFBhcmFtcylcclxuICAgIGNvbnN0IGhlYWRlck5hbWUgPSBpc0ZhbHN5KGNvbHVtbkRlZi5oZWFkZXJOYW1lKSA/IGkxOG5leHQudChjb2x1bW5EZWYuaGVhZGVyTmFtZSkgOiB1bmRlZmluZWRcclxuICAgIGNvbnN0IGhlYWRlclRvb2x0aXAgPSBpc0ZhbHN5KGNvbHVtbkRlZi5oZWFkZXJUb29sdGlwKSA/IGkxOG5leHQudChjb2x1bW5EZWYuaGVhZGVyVG9vbHRpcCkgOiBoZWFkZXJOYW1lXHJcbiAgICBoZWFkZXJDb21wb25lbnRQYXJhbXMuZGVzY3JpcHRpb24gPSBpc0ZhbHN5KGNvbHVtbkRlZi5oZWFkZXJDb21wb25lbnRQYXJhbXMpICYmIGlzRmFsc3koY29sdW1uRGVmLmhlYWRlckNvbXBvbmVudFBhcmFtcy5kZXNjcmlwdGlvbikgPyBpMThuZXh0LnQoY29sdW1uRGVmLmhlYWRlckNvbXBvbmVudFBhcmFtcy5kZXNjcmlwdGlvbikgOiBoZWFkZXJOYW1lXHJcbiAgICByZXR1cm4geyAuLi5jb2x1bW5EZWYsIGhlYWRlck5hbWUsIGhlYWRlckNvbXBvbmVudFBhcmFtcywgaGVhZGVyVG9vbHRpcCB9XHJcbiAgfSlcclxufVxyXG5cclxuLyoqIGZ1bmN0aW9uIHRvIGdldCB0aGUgc3RhdGljIHRyYW5sYXRpb24gdGV4dHMgZnJvbSB0cmFuc2xhdGlvbi5qc29uXHJcbiAqIEBwYXJhbTogdGV4dCAtIGNvbnRhaW5zIHRoZSBwYXRoIHRvIHRoZSB0ZXh0IGluIHRyYW5zbGF0aW9uLmpzb25cclxuKi9cclxuZXhwb3J0IGNvbnN0IHRyYW5zbGF0ZVRleHQgPSAodGV4dDogYW55KTogYW55ID0+IGkxOG5leHQudCh0ZXh0KVxyXG5cclxuLyoqIGZ1bmN0aW9uIHRvIGdldCB0aGUgdHJhbnNsYXRpb24gdGV4dCB3aGVuIHRoZXJlIGFyZSBkeW5hbWljIHZhbHVlcyB0byBiZSByZW5kZXJlZCBpbiB0cmFuc2xhdGlvblxyXG4gKiBAcGFyYW06IHRleHQgLSBjb250YWlucyB0aGUgcGF0aCB0byB0aGUgdGV4dCBpbiB0cmFuc2xhdGlvbi5qc29uXHJcbiAqIEBwYXJhbTogdHJhbnNsYXRlIC0gb2JqZWN0IGNvbnRhaW5pbmcgZHluYW1pYyB2YWx1ZXMuIFRoZSBrZXlzIHRvIGJlIHVzZWQgaW5zaWRlIHRyYW5zbGF0aW9uLmpzb25cclxuICovXHJcbmV4cG9ydCBjb25zdCB0cmFuc2xhdGVEeW5hbWljVGV4dCA9ICh0ZXh0OiBhbnksIHRyYW5zbGF0ZSk6IGFueSA9PiBpMThuZXh0LnQodGV4dCwgeyB0cmFuc2xhdGUgfSlcclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiBDb3B5cmlnaHQgKGMpIEludGVsIENvcnBvcmF0aW9uIDIwMTlcclxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcclxuICogQXV0aG9yIDogUmFtdSBCYWNoYWxhXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW50ZXJmYWNlIElMb2dnZXIge1xyXG4gIGRlYnVnOiAobG9nOiBzdHJpbmcpID0+IHZvaWRcclxuICBpbmZvOiAobG9nOiBzdHJpbmcpID0+IHZvaWRcclxuICBlcnJvcjogKGxvZzogc3RyaW5nKSA9PiB2b2lkXHJcbiAgd2FybjogKGxvZzogc3RyaW5nKSA9PiB2b2lkXHJcbiAgdmVyYm9zZTogKGxvZzogc3RyaW5nKSA9PiB2b2lkXHJcbn1cclxuZW51bSBMb2dMZXZlbCB7XHJcbiAgVkVSQk9TRSA9IDUsXHJcbiAgSU5GTyA9IDQsXHJcbiAgREVCVUcgPSAzLFxyXG4gIFdBUk5JTkcgPSAyLFxyXG4gIEVSUk9SID0gMVxyXG59XHJcbmV4cG9ydCB7IElMb2dnZXIsIExvZ0xldmVsIH1cclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4qIENvcHlyaWdodCAoYykgSW50ZWwgQ29ycG9yYXRpb24gMjAxOVxyXG4qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuaW1wb3J0IFN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cydcclxuXHJcbmNvbnN0IFN0eWxlZEJhciA9IFN0eWxlZC5kaXZgXHJcbmRpc3BsYXk6IGJsb2NrO1xyXG5wb3NpdGlvbjogZml4ZWQ7XHJcbnRleHQtYWxpZ246IGNlbnRlcjtcclxuYm90dG9tOiAwO1xyXG5sZWZ0OiA0MCU7XHJcbmJhY2tncm91bmQ6ICR7KHsgdHlwZSB9KSA9PiBnZXRDb2xvcnModHlwZSl9O1xyXG5ib3JkZXI6ICR7KHsgdHlwZSB9KSA9PiBgMXB4IHNvbGlkICR7Z2V0Q29sb3JzKHR5cGUpfWB9O1xyXG5tYXJnaW46IDEwcHg7XHJcbnBhZGRpbmc6IDEwcHg7cG9zaXRpb246IGFic29sdXRlO1xyXG5jb2xvcjogI2ZmZjsgXHJcbmZvbnQtd2VpZ2h0OjUwMDtcclxuei1pbmRleDoxO1xyXG5gXHJcblxyXG5jb25zdCBnZXRDb2xvcnMgPSAodHlwZSk6IHN0cmluZyA9PiB0eXBlID09PSAnc3VjY2VzcycgPyAnIzRjYWY1MCcgOiB0eXBlID09PSAnd2FybmluZycgPyAnI2ZmOTgwMCcgOiB0eXBlID09PSAnZXJyb3InID8gJyNmNDQzMzYnIDogJyMwMDAwMDAnXHJcblxyXG5jb25zdCBTbmFja0JhciA9ICh7IG1lc3NhZ2UsIHR5cGUgfSk6IGFueSA9PiA8U3R5bGVkQmFyIHR5cGU9e3R5cGV9PnttZXNzYWdlfTwvU3R5bGVkQmFyPlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU25hY2tCYXJcclxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwic3R5bGVkLWNvbXBvbmVudHNcIik7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pIHtcbiAgdmFyIF9pdGVtID0gX3NsaWNlZFRvQXJyYXkoaXRlbSwgNCksXG4gICAgICBjb250ZW50ID0gX2l0ZW1bMV0sXG4gICAgICBjc3NNYXBwaW5nID0gX2l0ZW1bM107XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgXCJcIikuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIENvcHlyaWdodCAoYykgSW50ZWwgQ29ycG9yYXRpb24gMjAyMFxyXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuXHJcbmV4cG9ydCBjb25zdCBEb21haW5Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7XHJcbiAgZGF0YToge31cclxufSlcclxuZXhwb3J0IGludGVyZmFjZSBQcm92aWRlclByb3BzIHtcclxuICBkYXRhOiBhbnlcclxufVxyXG5leHBvcnQgY2xhc3MgUHJvdmlkZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UHJvdmlkZXJQcm9wcywge30+IHtcclxuICByZW5kZXIgKCk6IFJlYWN0LlJlYWN0Tm9kZSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8RG9tYWluQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyBkYXRhOiB0aGlzLnByb3BzLmRhdGEgfX0+XHJcbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XHJcbiAgICAgIDwvRG9tYWluQ29udGV4dC5Qcm92aWRlcj5cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBDb25zdW1lciA9ICh7IGNoaWxkcmVuIH0pOiBKU1guRWxlbWVudCA9PiB7XHJcbiAgcmV0dXJuIDxEb21haW5Db250ZXh0LkNvbnN1bWVyID5cclxuICAgIHtjaGlsZHJlbn1cclxuICA8L0RvbWFpbkNvbnRleHQuQ29uc3VtZXI+XHJcbn1cclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiBDb3B5cmlnaHQgKGMpIEludGVsIENvcnBvcmF0aW9uIDIwMTlcclxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcclxuICogQXV0aG9yIDogUmFtdSBCYWNoYWxhXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5pbXBvcnQgeyBUeXBlQ29udmVydGVyIH0gZnJvbSAnLi9Db252ZXJ0ZXInXHJcbmltcG9ydCB7IElDb21tdW5pY2F0b3IgfSBmcm9tICcuL0lDb21tdW5pY2F0b3InXHJcbmltcG9ydCBtZDUgZnJvbSAnbWQ1J1xyXG5pbXBvcnQgeyBJTG9nZ2VyIH0gZnJvbSAnLi9JTG9nZ2VyJ1xyXG5pbXBvcnQgeyBpc1RydXRoeSB9IGZyb20gJy4vVXRpbGl0aWVzL1V0aWxpdHlNZXRob2RzJ1xyXG4vKipcclxuICogUHJvdG9jb2wgZm9yIGRpZmZlcmVudCBSZWRpciBwcm90b2NvbHMuIFNPTD0xLEtWTT0yLElERVI9VVNCLVJcclxuICovXHJcbmV4cG9ydCBlbnVtIFByb3RvY29sIHtcclxuICBTT0wgPSAxLFxyXG4gIEtWTSA9IDIsXHJcbiAgSURFUiA9IDNcclxufVxyXG4vKipcclxuICogQU1UUmVkaXJlY3RvciBwcm92aWRlcyBhbGwgY29tbXVuaWNhdGlvbiBvdmVyIFdlYlNvY2tldHNcclxuICovXHJcbmV4cG9ydCBjbGFzcyBBTVRSZWRpcmVjdG9yIGltcGxlbWVudHMgSUNvbW11bmljYXRvciB7XHJcbiAgc3RhdGU6IG51bWJlclxyXG4gIHNvY2tldDogYW55XHJcbiAgaG9zdDogc3RyaW5nXHJcbiAgcG9ydDogbnVtYmVyXHJcbiAgdXNlcjogc3RyaW5nXHJcbiAgcGFzczogc3RyaW5nXHJcbiAgdGxzOiBudW1iZXJcclxuICBhdXRoVXJpOiBzdHJpbmdcclxuICB0bHN2MW9ubHk6IG51bWJlclxyXG4gIGNvbm5lY3RTdGF0ZTogbnVtYmVyXHJcbiAgcHJvdG9jb2w6IFByb3RvY29sXHJcbiAgYW10QWNjdW11bGF0b3I6IHN0cmluZ1xyXG4gIGFtdFNlcXVlbmNlOiBudW1iZXJcclxuICBhbXRLZWVwQWxpdmVUaW1lcjogYW55XHJcblxyXG4gIGZpbGVSZWFkZXI6IEZpbGVSZWFkZXJcclxuICBmaWxlUmVhZGVySW5Vc2U6IGJvb2xlYW5cclxuICBmaWxlUmVhZGVyQWNjOiBhbnlbXVxyXG4gIHJhbmRvbU5vbmNlQ2hhcnM6IHN0cmluZ1xyXG4gIFJlZGlyZWN0U3RhcnRTb2w6IHN0cmluZ1xyXG4gIFJlZGlyZWN0U3RhcnRLdm06IHN0cmluZ1xyXG4gIFJlZGlyZWN0U3RhcnRJZGVyOiBzdHJpbmdcclxuICB1cmx2YXJzOiBhbnlcclxuICBpbkRhdGFDb3VudDogbnVtYmVyXHJcbiAgc2VydmVyOiBhbnlcclxuICBsb2dnZXI6IElMb2dnZXJcclxuICBvblByb2Nlc3NEYXRhOiAoZGF0YTogc3RyaW5nKSA9PiB2b2lkXHJcbiAgb25TdGFydDogKCkgPT4gdm9pZFxyXG4gIG9uTmV3U3RhdGU6IChzdGF0ZTogbnVtYmVyKSA9PiB2b2lkXHJcbiAgb25TdGF0ZUNoYW5nZWQ6IChyZWRpcmVjdG9yOiBhbnksIHN0YXRlOiBudW1iZXIpID0+IHZvaWRcclxuICBvbkVycm9yOiAoKSA9PiB2b2lkXHJcblxyXG4gIGNvbnN0cnVjdG9yIChsb2dnZXI6IElMb2dnZXIsIHByb3RvY29sOiBudW1iZXIsIGZyOiBGaWxlUmVhZGVyLCBob3N0OiBzdHJpbmcsIHBvcnQ6IG51bWJlciwgdXNlcjogc3RyaW5nLCBwYXNzOiBzdHJpbmcsIHRsczogbnVtYmVyLCB0bHMxb25seTogbnVtYmVyLCBzZXJ2ZXI/OiBzdHJpbmcpIHtcclxuICAgIHRoaXMuZmlsZVJlYWRlciA9IGZyXHJcbiAgICB0aGlzLnJhbmRvbU5vbmNlQ2hhcnMgPSAnYWJjZGVmMDEyMzQ1Njc4OSdcclxuICAgIHRoaXMuaG9zdCA9IGhvc3RcclxuICAgIHRoaXMucG9ydCA9IHBvcnRcclxuICAgIHRoaXMudXNlciA9IHVzZXJcclxuICAgIHRoaXMucGFzcyA9IHBhc3NcclxuICAgIHRoaXMudGxzID0gdGxzXHJcbiAgICB0aGlzLnRsc3Yxb25seSA9IHRsczFvbmx5XHJcbiAgICB0aGlzLnByb3RvY29sID0gcHJvdG9jb2xcclxuICAgIHRoaXMuUmVkaXJlY3RTdGFydFNvbCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHg1MywgMHg0RiwgMHg0QywgMHgyMClcclxuICAgIHRoaXMuUmVkaXJlY3RTdGFydEt2bSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxMCwgMHgwMSwgMHgwMCwgMHgwMCwgMHg0YiwgMHg1NiwgMHg0ZCwgMHg1MilcclxuICAgIHRoaXMuUmVkaXJlY3RTdGFydElkZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MTAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4NDksIDB4NDQsIDB4NDUsIDB4NTIpXHJcbiAgICB0aGlzLnVybHZhcnMgPSB7fVxyXG4gICAgdGhpcy5zZXJ2ZXIgPSBzZXJ2ZXJcclxuICAgIHRoaXMuYW10QWNjdW11bGF0b3IgPSAnJ1xyXG4gICAgdGhpcy5hdXRoVXJpID0gJydcclxuICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXR1cm5zIFdlYlNvY2tldCBwYXRoIHRvIGNvbm5lY3QgdG8gdXNpbmcgdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQuXHJcbiAgICogVXNlcyBob3N0KGRldmljZWlkKSwgcG9ydCwgdGxzLCB0bHN2MW9ubHksIHVzZXIsIHBhc3Mgb3B0aW9ucyB0byBidWlsZCB0aGUgdXJsLlxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0V3NMb2NhdGlvbiAoKTogc3RyaW5nIHtcclxuICAgIGlmICh0aGlzLmlzQnJvd3NlcigpICYmICFpc1RydXRoeSh0aGlzLnNlcnZlcikpIHtcclxuICAgICAgcmV0dXJuIGAke3dpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5yZXBsYWNlKCdodHRwJywgJ3dzJyl9Ly9cclxuICAgICAgJHt3aW5kb3cubG9jYXRpb24uaG9zdH1cclxuICAgICAgJHt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3Vic3RyaW5nKDAsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5sYXN0SW5kZXhPZignLycpKX1cclxuICAgICAgL3dlYnJlbGF5LmFzaHg/cD0yJmhvc3Q9JHt0aGlzLmhvc3R9JnBvcnQ9JHt0aGlzLnBvcnR9JnRscz0ke3RoaXMudGxzfSR7KCh0aGlzLnVzZXIgPT09ICcqJykgPyAnJnNlcnZlcmF1dGg9MScgOiAnJyl9JHsoKHR5cGVvZiB0aGlzLnBhc3MgPT09ICd1bmRlZmluZWQnKSA/ICgnJnNlcnZlcmF1dGg9MSZ1c2VyPScgKyB0aGlzLnVzZXIpIDogJycpfSZ0bHMxb25seT0ke3RoaXMudGxzdjFvbmx5fWBcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBgd3NzOi8vJHtTdHJpbmcodGhpcy5zZXJ2ZXIpfS93ZWJyZWxheS5hc2h4P3A9MiZob3N0PSR7dGhpcy5ob3N0fSZwb3J0PSR7dGhpcy5wb3J0fSZ0bHM9JHt0aGlzLnRsc30keygodGhpcy51c2VyID09PSAnKicpID8gJyZzZXJ2ZXJhdXRoPTEnIDogJycpfSR7KCh0eXBlb2YgdGhpcy5wYXNzID09PSAndW5kZWZpbmVkJykgPyAoJyZzZXJ2ZXJhdXRoPTEmdXNlcj0nICsgdGhpcy51c2VyKSA6ICcnKX0mdGxzMW9ubHk9JHt0aGlzLnRsc3Yxb25seX1gXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGVjayBpZiBjdXJyZW50IGVudmlyb25tZW50IGlzIGJyb3dzZXIgb3IgdGVzdFxyXG4gICAqL1xyXG4gIHByaXZhdGUgaXNCcm93c2VyICgpOiBib29sZWFuIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGlzV2ViID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxyXG4gICAgICBpZiAoaXNXZWIpIHRoaXMubG9nZ2VyLmRlYnVnKCchISEhIUJST1dTRVIhISEhIScpXHJcbiAgICAgIHJldHVybiBpc1dlYlxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIGdldHMgV3MgTG9jYXRpb24gYW5kIHN0YXJ0cyBhIHdlYnNvY2tldCBmb3IgbGlzdGVuaW5nXHJcbiAgICogQHBhcmFtIGMgaXMgYmFzZSB0eXBlIGZvciBXZWJTb2NrZXRcclxuICAgKi9cclxuICBzdGFydDxUPiAoYzogbmV3KHBhdGg6IHN0cmluZykgPT4gVCk6IGFueSB7IC8vIFVzaW5nIHRoaXMgZ2VuZXJpYyBzaWduYXR1cmUgYWxsb3dzIHVzIHRvIHBhc3MgdGhlIFdlYlNvY2tldCB0eXBlIGZyb20gdW5pdCB0ZXN0cyBvciBpbiBwcm9kdWNpb24gZnJvbSBhIHdlYiBicm93c2VyXHJcbiAgICB0aGlzLmNvbm5lY3RTdGF0ZSA9IDBcclxuICAgIC8vIGxldCB3cyA9IG5ldyBjKHRoaXMuZ2V0V3NMb2NhdGlvbigpKSAvLyB1c2luZyBjcmVhdGUgZnVuY3Rpb24gYyBpbnZva2VzIHRoZSBjb25zdHJ1Y3RvciBXZWJTb2NrZXQoKVxyXG4gICAgdGhpcy5zb2NrZXQgPSBuZXcgYyh0aGlzLmdldFdzTG9jYXRpb24oKSkgLy8gVGhlIFwicD0yXCIgaW5kaWNhdGVzIHRvIHRoZSByZWxheSB0aGF0IHRoaXMgaXMgYSBSRURJUkVDVElPTiBzZXNzaW9uXHJcbiAgICB0aGlzLnNvY2tldC5vbm9wZW4gPSB0aGlzLm9uU29ja2V0Q29ubmVjdGVkLmJpbmQodGhpcylcclxuICAgIHRoaXMuc29ja2V0Lm9ubWVzc2FnZSA9IHRoaXMub25NZXNzYWdlLmJpbmQodGhpcylcclxuICAgIHRoaXMuc29ja2V0Lm9uY2xvc2UgPSB0aGlzLm9uU29ja2V0Q2xvc2VkLmJpbmQodGhpcylcclxuICAgIGNvbnN0IG9ubG9hZCA9IChlOiBhbnkpOiBhbnkgPT4ge1xyXG4gICAgICB0aGlzLm9uU29ja2V0RGF0YShlLnRhcmdldC5yZXN1bHQpXHJcbiAgICAgIGlmICh0aGlzLmZpbGVSZWFkZXJBY2MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5maWxlUmVhZGVySW5Vc2UgPSBmYWxzZVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZmlsZVJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcobmV3IEJsb2IoW3RoaXMuZmlsZVJlYWRlckFjYy5zaGlmdCgpXSkpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IG9ubG9hZGVuZCA9IChlOiBhbnkpOiBhbnkgPT4ge1xyXG4gICAgICB0aGlzLm9uU29ja2V0RGF0YShlLnRhcmdldC5yZXN1bHQpXHJcbiAgICAgIGlmICh0aGlzLmZpbGVSZWFkZXJBY2MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5maWxlUmVhZGVySW5Vc2UgPSBmYWxzZVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuZmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcih0aGlzLmZpbGVSZWFkZXJBY2Muc2hpZnQoKSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGlzVHJ1dGh5KHRoaXMuZmlsZVJlYWRlcikgJiYgaXNUcnV0aHkodGhpcy5maWxlUmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZykpIHtcclxuICAgIC8vIENocm9tZSAmIEZpcmVmb3ggKERyYWZ0KVxyXG4gICAgICB0aGlzLmZpbGVSZWFkZXIub25sb2FkID0gb25sb2FkLmJpbmQodGhpcylcclxuICAgIH0gZWxzZSBpZiAoaXNUcnV0aHkodGhpcy5maWxlUmVhZGVyKSAmJiBpc1RydXRoeSh0aGlzLmZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIpKSB7XHJcbiAgICAvLyBDaHJvbWUgJiBGaXJlZm94IChTcGVjKVxyXG4gICAgICB0aGlzLmZpbGVSZWFkZXIub25sb2FkZW5kID0gb25sb2FkZW5kLmJpbmQodGhpcylcclxuICAgIH1cclxuICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoJ0Nvbm5lY3RpbmcgdG8gd2Vic29ja2V0JylcclxuICAgIHRoaXMub25TdGF0ZUNoYW5nZSgxKVxyXG4gIH1cclxuXHJcbiAgb25Tb2NrZXRDb25uZWN0ZWQgKCk6IGFueSB7XHJcbiAgICBpZiAoaXNUcnV0aHkodGhpcy51cmx2YXJzKSAmJiBpc1RydXRoeSh0aGlzLnVybHZhcnMucmVkaXJ0cmFjZSkpIGNvbnNvbGUubG9nKCdSRURJUi1DT05ORUNUJylcclxuICAgIHRoaXMub25TdGF0ZUNoYW5nZSgyKVxyXG4gICAgdGhpcy5sb2dnZXIudmVyYm9zZShgQ29ubmVjdGVkIHRvIHdlYnNvY2tldCBzZXJ2ZXIuIFdpdGggcHJvdG9jb2wgJHt0aGlzLnByb3RvY29sfSAoMiA9IEtWTSlgKVxyXG4gICAgdGhpcy5sb2dnZXIuaW5mbyhgU3RhcnQgUmVkaXJlY3QgU2Vzc2lvbiBmb3IgcHJvdG9jb2wuICR7dGhpcy5wcm90b2NvbH1gKVxyXG4gICAgaWYgKHRoaXMucHJvdG9jb2wgPT09IFByb3RvY29sLlNPTCkgdGhpcy5zb2NrZXRTZW5kKHRoaXMuUmVkaXJlY3RTdGFydFNvbCkgLy8gVE9ETzogUHV0IHRoZXNlIHN0cmluZ3MgaW4gaGlnaGVyIGxldmVsIG1vZHVsZSB0byB0aWdodGVuIGNvZGVcclxuICAgIGlmICh0aGlzLnByb3RvY29sID09PSBQcm90b2NvbC5LVk0pIHRoaXMuc29ja2V0U2VuZCh0aGlzLlJlZGlyZWN0U3RhcnRLdm0pIC8vIERvbid0IG5lZWQgdGhlc2UgaXMgdGhlIGZlYXR1cmUgaXMgbm90IGNvbXBpbGVkLWluLlxyXG4gICAgaWYgKHRoaXMucHJvdG9jb2wgPT09IFByb3RvY29sLklERVIpIHRoaXMuc29ja2V0U2VuZCh0aGlzLlJlZGlyZWN0U3RhcnRJZGVyKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbGVkIHdoZW4gdGhlcmUgaXMgbmV3IGRhdGEgb24gdGhlIHdlYnNvY2tldFxyXG4gICAqIEBwYXJhbSBlIGRhdGEgcmVjZWl2ZWQgb3ZlciB0aGUgd2Vic29ja2V0XHJcbiAgICovXHJcbiAgb25NZXNzYWdlIChlOiBhbnkpOiBhbnkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gY29uc29sZS5sb2coZS5kYXRhKVxyXG4gICAgICB0aGlzLmluRGF0YUNvdW50KytcclxuICAgICAgaWYgKHR5cGVvZiBlLmRhdGEgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmlsZVJlYWRlckluVXNlKSB7XHJcbiAgICAgICAgICB0aGlzLmZpbGVSZWFkZXJBY2MucHVzaChlLmRhdGEpXHJcbiAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZmlsZVJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcgIT0gbnVsbCkge1xyXG4gICAgICAgICAgLy8gQ2hyb21lICYgRmlyZWZveCAoRHJhZnQpXHJcbiAgICAgICAgICB0aGlzLmZpbGVSZWFkZXJJblVzZSA9IHRydWVcclxuICAgICAgICAgIHRoaXMuZmlsZVJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcobmV3IEJsb2IoW2UuZGF0YV0pKVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5maWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyICE9IG51bGwpIHtcclxuICAgICAgICAgIC8vIENocm9tZSAmIEZpcmVmb3ggKFNwZWMpXHJcbiAgICAgICAgICB0aGlzLmZpbGVSZWFkZXJJblVzZSA9IHRydWVcclxuICAgICAgICAgIHRoaXMuZmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihlLmRhdGEpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIElFMTAsIHJlYWRBc0JpbmFyeVN0cmluZyBkb2VzIG5vdCBleGlzdCwgdXNlIGFuIGFsdGVybmF0aXZlLlxyXG4gICAgICAgICAgbGV0IGJpbmFyeSA9ICcnOyBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGUuZGF0YSk7IGNvbnN0IGxlbmd0aCA9IGJ5dGVzLmJ5dGVMZW5ndGhcclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsgYmluYXJ5ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pIH1cclxuICAgICAgICAgIHRoaXMub25Tb2NrZXREYXRhKGJpbmFyeSlcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gSWYgd2UgZ2V0IGEgc3RyaW5nIG9iamVjdCwgaXQgbWF5YmUgdGhlIFdlYlJUQyBjb25maXJtLiBJZ25vcmUgaXQuXHJcbiAgICAgICAgLy8gdGhpcy5kZWJ1ZyhcIk1lc2hEYXRhQ2hhbm5lbCAtIE9uRGF0YSAtIFwiICsgdHlwZW9mIGUuZGF0YSArIFwiIC0gXCIgKyBlLmRhdGEubGVuZ3RoKTtcclxuICAgICAgICB0aGlzLm9uU29ja2V0RGF0YShlLmRhdGEpXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGVycm9yKVxyXG4gICAgICB0aGlzLnN0b3AoKVxyXG4gICAgICB0aGlzLm9uRXJyb3IoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbGVkIGZyb20gb25NZXNzYWdlXHJcbiAgICogQHBhcmFtIGRhdGEgZGF0YSBvdmVyIHRoZSB3aXJlXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBvblNvY2tldERhdGEgKGRhdGE6IHN0cmluZyk6IGFueSB7XHJcbiAgICBpZiAoIWlzVHJ1dGh5KGRhdGEpIHx8IHRoaXMuY29ubmVjdFN0YXRlID09PSAtMSkgcmV0dXJuXHJcblxyXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAvLyBUaGlzIGlzIGFuIEFycmF5QnVmZmVyLCBjb252ZXJ0IGl0IHRvIGEgc3RyaW5nIGFycmF5ICh1c2VkIGluIElFKVxyXG4gICAgICBsZXQgYmluYXJ5ID0gJydcclxuICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShkYXRhKVxyXG4gICAgICBjb25zdCBsZW5ndGggPSBieXRlcy5ieXRlTGVuZ3RoXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsgYmluYXJ5ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pIH1cclxuICAgICAgZGF0YSA9IGJpbmFyeVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycpIHsgcmV0dXJuIH1cclxuXHJcbiAgICBpZiAoKHRoaXMucHJvdG9jb2wgPT09IFByb3RvY29sLktWTSB8fCB0aGlzLnByb3RvY29sID09PSBQcm90b2NvbC5JREVSKSAmJiB0aGlzLmNvbm5lY3RTdGF0ZSA9PT0gMSkge1xyXG4gICAgICByZXR1cm4gdGhpcy5vblByb2Nlc3NEYXRhKGRhdGEpXHJcbiAgICB9IC8vIEtWTSB0cmFmZmljLCBmb3J3YXJkIGl0IGRpcmVjdGx5LlxyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdiZWZvcmU6ICcsIHRoaXMuYW10QWNjdW11bGF0b3IpXHJcbiAgICB0aGlzLmFtdEFjY3VtdWxhdG9yICs9IGRhdGFcclxuICAgIC8vIGNvbnNvbGUubG9nKCdhZnRlcjogJywgdGhpcy5hbXRBY2N1bXVsYXRvcilcclxuICAgIC8vIGNvbnNvbGUubG9nKFwiUkVESVItUkVDVihcIiArIHRoaXMuYW10QWNjdW11bGF0b3IubGVuZ3RoICsgXCIpOiBcIiArIFR5cGVDb252ZXJ0ZXIucnN0cjJoZXgodGhpcy5hbXRBY2N1bXVsYXRvcikpO1xyXG4gICAgd2hpbGUgKHRoaXMuYW10QWNjdW11bGF0b3IubGVuZ3RoID49IDEpIHtcclxuICAgICAgbGV0IGNtZHNpemUgPSAwXHJcbiAgICAgIHN3aXRjaCAodGhpcy5hbXRBY2N1bXVsYXRvci5jaGFyQ29kZUF0KDApKSB7XHJcbiAgICAgICAgY2FzZSAweDExOiB7IC8vIFN0YXJ0UmVkaXJlY3Rpb25TZXNzaW9uUmVwbHkgKDE3KVxyXG4gICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShgU3RhcnQgUmVkaXJlY3Rpb24gU2Vzc2lvbiByZXBseSByZWNlaXZlZCBmb3IgICR7dGhpcy5wcm90b2NvbH1gKVxyXG4gICAgICAgICAgaWYgKHRoaXMuYW10QWNjdW11bGF0b3IubGVuZ3RoIDwgNCkgcmV0dXJuXHJcbiAgICAgICAgICBjb25zdCBzdGF0dXNjb2RlID0gdGhpcy5hbXRBY2N1bXVsYXRvci5jaGFyQ29kZUF0KDEpXHJcbiAgICAgICAgICBzd2l0Y2ggKHN0YXR1c2NvZGUpIHtcclxuICAgICAgICAgICAgY2FzZSAwOiB7IC8vIFNUQVRVU19TVUNDRVNTXHJcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZSgnU2Vzc2lvbiBzdGF0dXMgc3VjY2Vzcy4gU3RhcnQgaGFuZHNoYWtlJylcclxuICAgICAgICAgICAgICBpZiAodGhpcy5hbXRBY2N1bXVsYXRvci5sZW5ndGggPCAxMykgcmV0dXJuXHJcbiAgICAgICAgICAgICAgY29uc3Qgb2VtbGVuID0gdGhpcy5hbXRBY2N1bXVsYXRvci5jaGFyQ29kZUF0KDEyKVxyXG4gICAgICAgICAgICAgIGlmICh0aGlzLmFtdEFjY3VtdWxhdG9yLmxlbmd0aCA8IDEzICsgb2VtbGVuKSByZXR1cm5cclxuXHJcbiAgICAgICAgICAgICAgLy8gUXVlcnkgZm9yIGF2YWlsYWJsZSBhdXRoZW50aWNhdGlvblxyXG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoJ1F1ZXJ5IGZvciBhdmFpbGFibGUgYXV0aGVudGljYXRpb24nKVxyXG4gICAgICAgICAgICAgIHRoaXMuc29ja2V0U2VuZChTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MTMsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDApKSAvLyBRdWVyeSBhdXRoZW50aWNhdGlvbiBzdXBwb3J0XHJcbiAgICAgICAgICAgICAgY21kc2l6ZSA9ICgxMyArIG9lbWxlbilcclxuICAgICAgICAgICAgICBicmVhayB9XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgdGhpcy5zdG9wKClcclxuICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWsgfVxyXG4gICAgICAgIGNhc2UgMHgxNDogeyAvLyBBdXRoZW50aWNhdGVTZXNzaW9uUmVwbHkgKDIwKVxyXG4gICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZSgnQXZhaWxhYmxlIEF1dGhlbnRpY2F0aW9ucyByZXBseSByZWNlaXZlZC4nKVxyXG4gICAgICAgICAgaWYgKHRoaXMuYW10QWNjdW11bGF0b3IubGVuZ3RoIDwgOSkgcmV0dXJuXHJcbiAgICAgICAgICBjb25zdCBhdXRoRGF0YUxlbiA9IFR5cGVDb252ZXJ0ZXIuUmVhZEludFgodGhpcy5hbXRBY2N1bXVsYXRvciwgNSlcclxuICAgICAgICAgIGlmICh0aGlzLmFtdEFjY3VtdWxhdG9yLmxlbmd0aCA8IDkgKyBhdXRoRGF0YUxlbikgcmV0dXJuXHJcbiAgICAgICAgICBjb25zdCBzdGF0dXMgPSB0aGlzLmFtdEFjY3VtdWxhdG9yLmNoYXJDb2RlQXQoMSlcclxuICAgICAgICAgIGNvbnN0IGF1dGhUeXBlID0gdGhpcy5hbXRBY2N1bXVsYXRvci5jaGFyQ29kZUF0KDQpXHJcbiAgICAgICAgICBjb25zdCBhdXRoRGF0YTogYW55ID0gW11cclxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXV0aERhdGFMZW47IGkrKykgeyBhdXRoRGF0YS5wdXNoKHRoaXMuYW10QWNjdW11bGF0b3IuY2hhckNvZGVBdCg5ICsgaSkpIH1cclxuICAgICAgICAgIGNvbnN0IGF1dGhEYXRhQnVmID0gdGhpcy5hbXRBY2N1bXVsYXRvci5zdWJzdHJpbmcoOSwgOSArIGF1dGhEYXRhTGVuKVxyXG4gICAgICAgICAgY21kc2l6ZSA9IDkgKyBhdXRoRGF0YUxlblxyXG5cclxuICAgICAgICAgIGlmIChhdXRoVHlwZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAvLyBRdWVyeVxyXG4gICAgICAgICAgICBpZiAoaXNUcnV0aHkoYXV0aERhdGEuaW5jbHVkZXMoNCkpKSB7XHJcbiAgICAgICAgICAgICAgLy8gR29vZCBEaWdlc3QgQXV0aCAoV2l0aCBjbm9uY2UgYW5kIGFsbClcclxuICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKCdHb29kIERpZ2VzdCBBdXRoIChXaXRoIGNub25jZSBhbmQgYWxsKScpXHJcbiAgICAgICAgICAgICAgdGhpcy5zb2NrZXRTZW5kKFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxMywgMHgwMCwgMHgwMCwgMHgwMCwgMHgwNCkgKyBUeXBlQ29udmVydGVyLkludFRvU3RyWCh0aGlzLnVzZXIubGVuZ3RoICsgdGhpcy5hdXRoVXJpLmxlbmd0aCArIDgpICsgU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLnVzZXIubGVuZ3RoKSArIHRoaXMudXNlciArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwMCwgMHgwMCkgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMuYXV0aFVyaS5sZW5ndGgpICsgdGhpcy5hdXRoVXJpICsgU3RyaW5nLmZyb21DaGFyQ29kZSgweDAwLCAweDAwLCAweDAwLCAweDAwKSlcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1RydXRoeShhdXRoRGF0YS5pbmNsdWRlcygzKSkpIHtcclxuICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCdCYWQgRGlnZXN0IEF1dGgnKVxyXG4gICAgICAgICAgICAgIC8vIEJhZCBEaWdlc3QgQXV0aCAoTm90IHN1cmUgd2h5IHRoaXMgaXMgc3VwcG9ydGVkLCBjbm9uY2UgaXMgbm90IHVzZWQhKVxyXG4gICAgICAgICAgICAgIHRoaXMuc29ja2V0U2VuZChTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MTMsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDMpICsgVHlwZUNvbnZlcnRlci5JbnRUb1N0clgodGhpcy51c2VyLmxlbmd0aCArIHRoaXMuYXV0aFVyaS5sZW5ndGggKyA3KSArIFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy51c2VyLmxlbmd0aCkgKyB0aGlzLnVzZXIgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MDAsIDB4MDApICsgU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmF1dGhVcmkubGVuZ3RoKSArIHRoaXMuYXV0aFVyaSArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwMCwgMHgwMCwgMHgwMCkpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNUcnV0aHkoYXV0aERhdGEuaW5jbHVkZXMoMSkpKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZSgnQmFzaWMgQXV0aCcpXHJcbiAgICAgICAgICAgICAgLy8gQmFzaWMgQXV0aCAoUHJvYmFibHkgYSBnb29kIGlkZWEgdG8gbm90IHN1cHBvcnQgdGhpcyB1bmxlc3MgdGhpcyBpcyBhbiBvbGQgdmVyc2lvbiBvZiBJbnRlbCBBTVQpXHJcbiAgICAgICAgICAgICAgdGhpcy5zb2NrZXRTZW5kKFN0cmluZy5mcm9tQ2hhckNvZGUoMHgxMywgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSkgKyBUeXBlQ29udmVydGVyLkludFRvU3RyWCh0aGlzLnVzZXIubGVuZ3RoICsgdGhpcy5wYXNzLmxlbmd0aCArIDIpICsgU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLnVzZXIubGVuZ3RoKSArIHRoaXMudXNlciArIFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy5wYXNzLmxlbmd0aCkgKyB0aGlzLnBhc3MpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoJ0F1dGggVHlwZSBub3QgcmVjb2duaXplZC4gU3RvcHBpbmcuJylcclxuICAgICAgICAgICAgICB0aGlzLnN0b3AoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKChhdXRoVHlwZSA9PT0gMyB8fCBhdXRoVHlwZSA9PT0gNCkgJiYgc3RhdHVzID09PSAxKSB7XHJcbiAgICAgICAgICAgIGxldCBjdXJwdHIgPSAwXHJcblxyXG4gICAgICAgICAgICAvLyBSZWFsbVxyXG4gICAgICAgICAgICBjb25zdCByZWFsbWxlbiA9IGF1dGhEYXRhQnVmLmNoYXJDb2RlQXQoY3VycHRyKVxyXG4gICAgICAgICAgICBjb25zdCByZWFsbSA9IGF1dGhEYXRhQnVmLnN1YnN0cmluZyhjdXJwdHIgKyAxLCBjdXJwdHIgKyAxICsgcmVhbG1sZW4pXHJcbiAgICAgICAgICAgIGN1cnB0ciArPSAocmVhbG1sZW4gKyAxKVxyXG5cclxuICAgICAgICAgICAgLy8gTm9uY2VcclxuICAgICAgICAgICAgY29uc3Qgbm9uY2VsZW4gPSBhdXRoRGF0YUJ1Zi5jaGFyQ29kZUF0KGN1cnB0cilcclxuICAgICAgICAgICAgY29uc3Qgbm9uY2UgPSBhdXRoRGF0YUJ1Zi5zdWJzdHJpbmcoY3VycHRyICsgMSwgY3VycHRyICsgMSArIG5vbmNlbGVuKVxyXG4gICAgICAgICAgICBjdXJwdHIgKz0gKG5vbmNlbGVuICsgMSlcclxuXHJcbiAgICAgICAgICAgIC8vIFFPUFxyXG4gICAgICAgICAgICBsZXQgcW9wbGVuID0gMFxyXG4gICAgICAgICAgICBsZXQgcW9wOiBhbnkgPSBudWxsXHJcbiAgICAgICAgICAgIGNvbnN0IGNub25jZTogc3RyaW5nID0gdGhpcy5nZW5lcmF0ZVJhbmRvbU5vbmNlKDMyKVxyXG4gICAgICAgICAgICBjb25zdCBzbmMgPSAnMDAwMDAwMDInXHJcbiAgICAgICAgICAgIGxldCBleHRyYSA9ICcnXHJcbiAgICAgICAgICAgIGlmIChhdXRoVHlwZSA9PT0gNCkge1xyXG4gICAgICAgICAgICAgIHFvcGxlbiA9IGF1dGhEYXRhQnVmLmNoYXJDb2RlQXQoY3VycHRyKVxyXG4gICAgICAgICAgICAgIHFvcCA9IGF1dGhEYXRhQnVmLnN1YnN0cmluZyhjdXJwdHIgKyAxLCBjdXJwdHIgKyAxICsgcW9wbGVuKVxyXG4gICAgICAgICAgICAgIGN1cnB0ciArPSAocW9wbGVuICsgMSlcclxuICAgICAgICAgICAgICBleHRyYSA9IGAke3NuY306JHtjbm9uY2V9OiR7U3RyaW5nKHFvcCl9IDpgXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRpZ2VzdCA9IHRoaXMuaGV4X21kNSh0aGlzLmhleF9tZDUodGhpcy51c2VyICsgJzonICsgcmVhbG0gKyAnOicgKyB0aGlzLnBhc3MpICsgJzonICsgbm9uY2UgKyAnOicgKyBleHRyYSArIHRoaXMuaGV4X21kNSgnUE9TVDonICsgdGhpcy5hdXRoVXJpKSlcclxuICAgICAgICAgICAgbGV0IHRvdGFsbGVuOiBudW1iZXIgPSB0aGlzLnVzZXIubGVuZ3RoICsgcmVhbG0ubGVuZ3RoICsgbm9uY2UubGVuZ3RoICsgdGhpcy5hdXRoVXJpLmxlbmd0aCArIGNub25jZS5sZW5ndGggKyBzbmMubGVuZ3RoICsgZGlnZXN0Lmxlbmd0aCArIDdcclxuICAgICAgICAgICAgaWYgKGF1dGhUeXBlID09PSA0KSB0b3RhbGxlbiArPSAocGFyc2VJbnQocW9wLmxlbmd0aCkgKyAxKVxyXG4gICAgICAgICAgICBsZXQgYnVmOiBhbnkgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MTMsIDB4MDAsIDB4MDAsIDB4MDAsIGF1dGhUeXBlKSArIFR5cGVDb252ZXJ0ZXIuSW50VG9TdHJYKHRvdGFsbGVuKSArIFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy51c2VyLmxlbmd0aCkgKyB0aGlzLnVzZXIgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKHJlYWxtLmxlbmd0aCkgKyByZWFsbSArIFN0cmluZy5mcm9tQ2hhckNvZGUobm9uY2UubGVuZ3RoKSArIG5vbmNlICsgU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmF1dGhVcmkubGVuZ3RoKSArIHRoaXMuYXV0aFVyaSArIFN0cmluZy5mcm9tQ2hhckNvZGUoY25vbmNlLmxlbmd0aCkgKyBjbm9uY2UgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKHNuYy5sZW5ndGgpICsgc25jICsgU3RyaW5nLmZyb21DaGFyQ29kZShkaWdlc3QubGVuZ3RoKSArIGRpZ2VzdFxyXG4gICAgICAgICAgICBpZiAoYXV0aFR5cGUgPT09IDQpIGJ1ZiArPSAoU3RyaW5nLmZyb21DaGFyQ29kZShxb3AubGVuZ3RoKSArIHFvcClcclxuICAgICAgICAgICAgdGhpcy5zb2NrZXRTZW5kKGJ1ZilcclxuICAgICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgaWYgKHN0YXR1cyA9PT0gMCkgeyAvLyBTdWNjZXNzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3RvY29sID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgLy8gU2VyaWFsLW92ZXItTEFOOiBTZW5kIEludGVsIEFNVCBzZXJpYWwgc2V0dGluZ3MuLi5cclxuICAgICAgICAgICAgICBjb25zdCBNYXhUeEJ1ZmZlciA9IDEwMDAwXHJcbiAgICAgICAgICAgICAgY29uc3QgVHhUaW1lb3V0ID0gMTAwXHJcbiAgICAgICAgICAgICAgY29uc3QgVHhPdmVyZmxvd1RpbWVvdXQgPSAwXHJcbiAgICAgICAgICAgICAgY29uc3QgUnhUaW1lb3V0ID0gMTAwMDBcclxuICAgICAgICAgICAgICBjb25zdCBSeEZsdXNoVGltZW91dCA9IDEwMFxyXG4gICAgICAgICAgICAgIGNvbnN0IEhlYXJ0YmVhdCA9IDAvLyA1MDAwO1xyXG4gICAgICAgICAgICAgIHRoaXMuc29ja2V0U2VuZChTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MjAsIDB4MDAsIDB4MDAsIDB4MDApICsgVHlwZUNvbnZlcnRlci5JbnRUb1N0clgodGhpcy5hbXRTZXF1ZW5jZSsrKSArIFR5cGVDb252ZXJ0ZXIuU2hvcnRUb1N0clgoTWF4VHhCdWZmZXIpICtcclxuICAgICAgICAgICAgICAgICAgVHlwZUNvbnZlcnRlci5TaG9ydFRvU3RyWChUeFRpbWVvdXQpICsgVHlwZUNvbnZlcnRlci5TaG9ydFRvU3RyWChUeE92ZXJmbG93VGltZW91dCkgKyBUeXBlQ29udmVydGVyLlNob3J0VG9TdHJYKFJ4VGltZW91dCkgK1xyXG4gICAgICAgICAgICAgICAgICBUeXBlQ29udmVydGVyLlNob3J0VG9TdHJYKFJ4Rmx1c2hUaW1lb3V0KSArIFR5cGVDb252ZXJ0ZXIuU2hvcnRUb1N0clgoSGVhcnRiZWF0KSArIFR5cGVDb252ZXJ0ZXIuSW50VG9TdHJYKDApKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3RvY29sID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgLy8gUmVtb3RlIERlc2t0b3A6IFNlbmQgdHJhZmZpYyBkaXJlY3RseS4uLlxyXG4gICAgICAgICAgICAgIHRoaXMuc29ja2V0U2VuZChTdHJpbmcuZnJvbUNoYXJDb2RlKDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDApKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3RvY29sID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgLy8gUmVtb3RlIElERVI6IFNlbmQgdHJhZmZpYyBkaXJlY3RseS4uLlxyXG4gICAgICAgICAgICAgIHRoaXMuY29ubmVjdFN0YXRlID0gMVxyXG4gICAgICAgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZSgzKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgdGhpcy5zdG9wKClcclxuICAgICAgICAgIGJyZWFrIH1cclxuICAgICAgICBjYXNlIDB4MjE6IHsgLy8gUmVzcG9uc2UgdG8gc2V0dGluZ3MgKDMzKVxyXG4gICAgICAgICAgaWYgKHRoaXMuYW10QWNjdW11bGF0b3IubGVuZ3RoIDwgMjMpIGJyZWFrXHJcbiAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKCdSZXNwb25zZSB0byBzZXR0aW5ncycpXHJcbiAgICAgICAgICBjbWRzaXplID0gMjNcclxuICAgICAgICAgIHRoaXMuc29ja2V0U2VuZChTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MjcsIDB4MDAsIDB4MDAsIDB4MDApICsgVHlwZUNvbnZlcnRlci5JbnRUb1N0clgodGhpcy5hbXRTZXF1ZW5jZSsrKSArIFN0cmluZy5mcm9tQ2hhckNvZGUoMHgwMCwgMHgwMCwgMHgxQiwgMHgwMCwgMHgwMCwgMHgwMCkpXHJcbiAgICAgICAgICBpZiAodGhpcy5wcm90b2NvbCA9PT0gMSkgeyB0aGlzLmFtdEtlZXBBbGl2ZVRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5zZW5kQW10S2VlcEFsaXZlLmJpbmQodGhpcyksIDIwMDApIH1cclxuICAgICAgICAgIHRoaXMuY29ubmVjdFN0YXRlID0gMVxyXG4gICAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKDMpXHJcbiAgICAgICAgICBicmVhayB9XHJcbiAgICAgICAgY2FzZSAweDI5OiAvLyBTZXJpYWwgU2V0dGluZ3MgKDQxKVxyXG4gICAgICAgICAgaWYgKHRoaXMuYW10QWNjdW11bGF0b3IubGVuZ3RoIDwgMTApIGJyZWFrXHJcbiAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKCdTZXJpYWwgU2V0dGluZ3MnKVxyXG4gICAgICAgICAgY21kc2l6ZSA9IDEwXHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIGNhc2UgMHgyQTogeyAvLyBJbmNvbWluZyBkaXNwbGF5IGRhdGEgKDQyKVxyXG4gICAgICAgICAgaWYgKHRoaXMuYW10QWNjdW11bGF0b3IubGVuZ3RoIDwgMTApIGJyZWFrXHJcbiAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKCdJbmNvbWluZyBkaXNwbGF5IGRhdGEnKVxyXG4gICAgICAgICAgY29uc3QgY3MgPSAoMTAgKyAoKHRoaXMuYW10QWNjdW11bGF0b3IuY2hhckNvZGVBdCg5KSAmIDB4RkYpIDw8IDgpICsgKHRoaXMuYW10QWNjdW11bGF0b3IuY2hhckNvZGVBdCg4KSAmIDB4RkYpKVxyXG4gICAgICAgICAgaWYgKHRoaXMuYW10QWNjdW11bGF0b3IubGVuZ3RoIDwgY3MpIGJyZWFrXHJcbiAgICAgICAgICB0aGlzLm9uUHJvY2Vzc0RhdGEodGhpcy5hbXRBY2N1bXVsYXRvci5zdWJzdHJpbmcoMTAsIGNzKSlcclxuICAgICAgICAgIGNtZHNpemUgPSBjc1xyXG4gICAgICAgICAgYnJlYWsgfVxyXG4gICAgICAgIGNhc2UgMHgyQjogLy8gS2VlcCBhbGl2ZSBtZXNzYWdlICg0MylcclxuICAgICAgICAgIGlmICh0aGlzLmFtdEFjY3VtdWxhdG9yLmxlbmd0aCA8IDgpIGJyZWFrXHJcbiAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKCdLZWVwIEFsdmUgbWVzc2FnZScpXHJcbiAgICAgICAgICBjbWRzaXplID0gOFxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICBjYXNlIDB4NDE6XHJcbiAgICAgICAgICBpZiAodGhpcy5hbXRBY2N1bXVsYXRvci5sZW5ndGggPCA4KSBicmVha1xyXG4gICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZSgnS1ZNIHRyYWZmaWMuIENhbGwgb25TdGFydCBoYW5kbGVyLiBBbmQgZm9yd2FyZCByZXN0IG9mIGFjYyBkaXJlY3RseS4nKVxyXG4gICAgICAgICAgdGhpcy5jb25uZWN0U3RhdGUgPSAxXHJcbiAgICAgICAgICB0aGlzLm9uU3RhcnQoKVxyXG4gICAgICAgICAgLy8gS1ZNIHRyYWZmaWMsIGZvcndhcmQgcmVzdCBvZiBhY2N1bXVsYXRvciBkaXJlY3RseS5cclxuICAgICAgICAgIGlmICh0aGlzLmFtdEFjY3VtdWxhdG9yLmxlbmd0aCA+IDgpIHsgdGhpcy5vblByb2Nlc3NEYXRhKHRoaXMuYW10QWNjdW11bGF0b3Iuc3Vic3RyaW5nKDgpKSB9XHJcbiAgICAgICAgICBjbWRzaXplID0gdGhpcy5hbXRBY2N1bXVsYXRvci5sZW5ndGhcclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBVbmtub3duIEludGVsIEFNVCBjb21tYW5kOiAgJHt0aGlzLmFtdEFjY3VtdWxhdG9yLmNoYXJDb2RlQXQoMCl9ICBhY2NsZW49JHt0aGlzLmFtdEFjY3VtdWxhdG9yLmxlbmd0aH1gKVxyXG4gICAgICAgICAgdGhpcy5zdG9wKClcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcbiAgICAgIGlmIChjbWRzaXplID09PSAwKSByZXR1cm5cclxuICAgICAgdGhpcy5hbXRBY2N1bXVsYXRvciA9IHRoaXMuYW10QWNjdW11bGF0b3Iuc3Vic3RyaW5nKGNtZHNpemUpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoZXhfbWQ1IChzdHI6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICB0aGlzLmxvZ2dlci52ZXJib3NlKCdNRDUgdGhlIHN0cmluZycpXHJcbiAgICByZXR1cm4gbWQ1KHN0cilcclxuICB9XHJcblxyXG4gIHNvY2tldFNlbmQgKGRhdGE6IHN0cmluZyk6IGFueSB7IC8vIHh4U2VuZFxyXG4gICAgaWYgKGlzVHJ1dGh5KHRoaXMudXJsdmFycykgJiYgaXNUcnV0aHkodGhpcy51cmx2YXJzLnJlZGlydHJhY2UpKSB7IHRoaXMubG9nZ2VyLnZlcmJvc2UoYFJFRElSLVNFTkQoJHtkYXRhLmxlbmd0aH0pOiAke1R5cGVDb252ZXJ0ZXIucnN0cjJoZXgoZGF0YSl9YCkgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICh0aGlzLnNvY2tldCAhPSBudWxsICYmIHRoaXMuc29ja2V0LnJlYWR5U3RhdGUgPT09IDEpIHsgLy8gMSA9IFdlYlNvY2tldC5PUEVOXHJcbiAgICAgICAgY29uc3QgYiA9IG5ldyBVaW50OEFycmF5KGRhdGEubGVuZ3RoKVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoYFJlZGlyIFNlbmQoICR7ZGF0YS5sZW5ndGh9KTogJHtUeXBlQ29udmVydGVyLnJzdHIyaGV4KGRhdGEpfWApXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgKytpKSB7IGJbaV0gPSBkYXRhLmNoYXJDb2RlQXQoaSkgfVxyXG4gICAgICAgIHRoaXMuc29ja2V0LnNlbmQoYi5idWZmZXIpXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBTb2NrZXQgc2VuZCBlcnJvcjogJHtTdHJpbmcoZXJyb3IpfWApXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZW5kIHNlbmRzIGRhdGEgb3ZlciB0aGUgd2Vic29ja2V0IHRvIHRoZSBzZXJ2ZXIuXHJcbiAgICogQHBhcmFtIGRhdGEgZGF0YSB0byBzZW5kIHRvIHNlcnZlclxyXG4gICAqL1xyXG4gIHNlbmQgKGRhdGE6IHN0cmluZyk6IGFueSB7IC8vIHNlbmRcclxuICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoJ1NlbmQgY2FsbGVkICcgKyBkYXRhKVxyXG4gICAgaWYgKHRoaXMuc29ja2V0ID09IG51bGwgfHwgdGhpcy5jb25uZWN0U3RhdGUgIT09IDEpIHJldHVyblxyXG4gICAgaWYgKHRoaXMucHJvdG9jb2wgPT09IFByb3RvY29sLlNPTCkge1xyXG4gICAgICB0aGlzLnNvY2tldFNlbmQoU3RyaW5nLmZyb21DaGFyQ29kZSgweDI4LCAweDAwLCAweDAwLCAweDAwKSArXHJcbiAgICAgICAgVHlwZUNvbnZlcnRlci5JbnRUb1N0clgodGhpcy5hbXRTZXF1ZW5jZSsrKSArXHJcbiAgICAgICAgVHlwZUNvbnZlcnRlci5TaG9ydFRvU3RyWChkYXRhLmxlbmd0aCkgK1xyXG4gICAgICAgIGRhdGEpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNvY2tldFNlbmQoZGF0YSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNlbmRBbXRLZWVwQWxpdmUgKCk6IGFueSB7XHJcbiAgICBpZiAodGhpcy5zb2NrZXQgPT0gbnVsbCkgcmV0dXJuXHJcbiAgICB0aGlzLnNvY2tldFNlbmQoU3RyaW5nLmZyb21DaGFyQ29kZSgweDJCLCAweDAwLCAweDAwLCAweDAwKSArIFR5cGVDb252ZXJ0ZXIuSW50VG9TdHJYKHRoaXMuYW10U2VxdWVuY2UrKykpXHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZVJhbmRvbU5vbmNlIChsZW5ndGg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICBsZXQgcjogc3RyaW5nID0gJydcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsgciArPSB0aGlzLnJhbmRvbU5vbmNlQ2hhcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMucmFuZG9tTm9uY2VDaGFycy5sZW5ndGgpKSB9XHJcbiAgICByZXR1cm4gclxyXG4gIH1cclxuXHJcbiAgb25Tb2NrZXRDbG9zZWQgKGU6IEV2ZW50KTogYW55IHtcclxuICAgIC8vIGNvbnNvbGUubG9nKGUpXHJcbiAgICBpZiAoaXNUcnV0aHkodGhpcy51cmx2YXJzKSAmJiBpc1RydXRoeSh0aGlzLnVybHZhcnMucmVkaXJ0cmFjZSkpIHsgY29uc29sZS5sb2coJ1JFRElSLUNMT1NFRCcpIH1cclxuICAgIHRoaXMubG9nZ2VyLndhcm4oJ1JlZGlyIFNvY2tldCBDbG9zZWQnKVxyXG4gICAgdGhpcy5zdG9wKClcclxuICB9XHJcblxyXG4gIG9uU3RhdGVDaGFuZ2UgKG5ld3N0YXRlOiBudW1iZXIpOiBhbnkge1xyXG4gICAgY29uc29sZS5pbmZvKCdvbnN0YXRlY2hhbmdlJywgbmV3c3RhdGUpXHJcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gbmV3c3RhdGUpIHJldHVyblxyXG4gICAgdGhpcy5zdGF0ZSA9IG5ld3N0YXRlXHJcbiAgICB0aGlzLm9uTmV3U3RhdGUodGhpcy5zdGF0ZSlcclxuICAgIGlmICh0aGlzLm9uU3RhdGVDaGFuZ2VkICE9IG51bGwpIHRoaXMub25TdGF0ZUNoYW5nZWQodGhpcywgdGhpcy5zdGF0ZSlcclxuICB9XHJcblxyXG4gIHN0b3AgKCk6IHZvaWQge1xyXG4gICAgdGhpcy5sb2dnZXIud2FybignU3RvcCBjYWxsZWQgb24gUmVkaXJlY3Rvci4gQ2hhbmdlIHN0YXRlIHRvIDAgYW5kIGNsb3NlIFNvY2tldC4nKVxyXG4gICAgdGhpcy5vblN0YXRlQ2hhbmdlKDApXHJcbiAgICB0aGlzLmNvbm5lY3RTdGF0ZSA9IC0xXHJcbiAgICB0aGlzLmFtdEFjY3VtdWxhdG9yID0gJydcclxuICAgIGlmICh0aGlzLnNvY2tldCAhPSBudWxsKSB7IHRoaXMuc29ja2V0LmNsb3NlKCk7IHRoaXMuc29ja2V0ID0gbnVsbCB9XHJcbiAgICBpZiAodGhpcy5hbXRLZWVwQWxpdmVUaW1lciAhPSBudWxsKSB7IGNsZWFySW50ZXJ2YWwodGhpcy5hbXRLZWVwQWxpdmVUaW1lcik7IHRoaXMuYW10S2VlcEFsaXZlVGltZXIgPSBudWxsIH1cclxuICB9XHJcbn1cclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4qIENvcHlyaWdodCAoYykgSW50ZWwgQ29ycG9yYXRpb24gMjAxOVxyXG4qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgeyBpc0ZhbHN5LCBwcmVwYXJlSGVhZGVycyB9IGZyb20gJy4uL3NoYXJlZC9VdGlsaXRpZXMnXHJcblxyXG5leHBvcnQgY2xhc3MgSHR0cENsaWVudCB7XHJcbiAgc3RhdGljIGFzeW5jIGdldCAodXJsLCBhcGlLZXksIG9wdGlvbnMgPSB7fSk6IFByb21pc2U8YW55PiB7XHJcbiAgICBjb25zdCBqc29uSGVhZGVycyA9IHByZXBhcmVIZWFkZXJzKGFwaUtleSlcclxuICAgIHJldHVybiBhd2FpdCBIdHRwQ2xpZW50LmZldGNoKHVybCwge1xyXG4gICAgICAuLi5vcHRpb25zLFxyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiBqc29uSGVhZGVyc1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhc3luYyBwb3N0ICh1cmwsIGJvZHkgPSB7fSwgYXBpS2V5PywgaXNNcHM/LCBvcHRpb25zID0ge30pOiBQcm9taXNlPGFueT4ge1xyXG4gICAgY29uc3QganNvbkhlYWRlcnMgPSBwcmVwYXJlSGVhZGVycyhhcGlLZXksIGlzTXBzKVxyXG4gICAgaWYgKGlzRmFsc3koaXNNcHMpKSB7XHJcbiAgICAgIHJldHVybiBhd2FpdCBIdHRwQ2xpZW50LmZldGNoKHVybCwge1xyXG4gICAgICAgIC4uLm9wdGlvbnMsXHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgYm9keTogYm9keSxcclxuICAgICAgICBoZWFkZXJzOiBqc29uSGVhZGVyc1xyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGF3YWl0IEh0dHBDbGllbnQuZmV0Y2hSUFModXJsLCB7XHJcbiAgICAgICAgLi4ub3B0aW9ucyxcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBib2R5OiBib2R5LFxyXG4gICAgICAgIGhlYWRlcnM6IGpzb25IZWFkZXJzXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYXN5bmMgZGVsZXRlICh1cmwsIGFwaUtleT8sIG9wdGlvbnMgPSB7fSk6IFByb21pc2U8YW55PiB7XHJcbiAgICBjb25zdCBqc29uSGVhZGVycyA9IHByZXBhcmVIZWFkZXJzKGFwaUtleSlcclxuICAgIHJldHVybiBhd2FpdCBIdHRwQ2xpZW50LmZldGNoUlBTKHVybCwge1xyXG4gICAgICAuLi5vcHRpb25zLFxyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiBqc29uSGVhZGVyc1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHN0YXRpYyBhc3luYyBwYXRjaCAodXJsLCBib2R5ID0ge30sIGFwaUtleT8sIG9wdGlvbnMgPSB7fSk6IFByb21pc2U8YW55PiB7XHJcbiAgICBjb25zdCBqc29uSGVhZGVycyA9IHByZXBhcmVIZWFkZXJzKGFwaUtleSlcclxuICAgIHJldHVybiBhd2FpdCBIdHRwQ2xpZW50LmZldGNoUlBTKHVybCwge1xyXG4gICAgICAuLi5vcHRpb25zLFxyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGJvZHk6IGJvZHksXHJcbiAgICAgIGhlYWRlcnM6IGpzb25IZWFkZXJzXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgc3RhdGljIGFzeW5jIGZldGNoICh1cmwsIG9wdGlvbnMgPSB7fSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAob3B0aW9ucyBhcyBhbnkpLm1vZGUgPSAnY29ycyc7XHJcbiAgICAob3B0aW9ucyBhcyBhbnkpLmNyZWRlbnRpYWxzID0gJ2luY2x1ZGUnO1xyXG4gICAgKG9wdGlvbnMgYXMgYW55KS53aXRoQ3JlZGVudGlhbHMgPSB0cnVlXHJcbiAgICByZXR1cm4gYXdhaXQgZmV0Y2godXJsLCBvcHRpb25zKS50aGVuKGFzeW5jIHJlc3VsdCA9PiBhd2FpdCByZXN1bHQuanNvbigpKVxyXG4gIH1cclxuXHJcbiAgLy8gSGFuZGxlcyB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyIGFzIHRleHRcclxuICBzdGF0aWMgYXN5bmMgZmV0Y2hSUFMgKHVybCwgb3B0aW9ucyA9IHt9KTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHJldHVybiBhd2FpdCBmZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN0YXR1czogcmVzdWx0LnN0YXR1cyxcclxuICAgICAgICBkYXRhOiByZXN1bHQuc3RhdHVzID09PSAyMDQgPyBudWxsIDogYXdhaXQgcmVzdWx0Lmpzb24oKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJpMThuZXh0XCIpOyIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuKiBDb3B5cmlnaHQgKGMpIEludGVsIENvcnBvcmF0aW9uIDIwMTlcclxuKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5pbXBvcnQgeyBpc0ZhbHN5IH0gZnJvbSAnLi4vc2hhcmVkL1V0aWxpdGllcydcclxuaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJy4vSHR0cENsaWVudCdcclxuXHJcbmV4cG9ydCBjb25zdCBwb3dlckFjdGlvbnMgPSBhc3luYyAoZ3VpZCwgYWN0aW9uLCBtcHNTZXJ2ZXI6IHN0cmluZyB8IG51bGwsIGFwaUtleSwgdXNlU09MPzogYm9vbGVhbik6IFByb21pc2U8YW55PiA9PiB7XHJcbiAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcclxuICAgIGFwaWtleTogJ3h4eHh4JyxcclxuICAgIG1ldGhvZDogJ1Bvd2VyQWN0aW9uJyxcclxuICAgIHBheWxvYWQ6IGlzRmFsc3kodXNlU09MKSA/IHsgZ3VpZCwgYWN0aW9uLCB1c2VTT0wgfSA6IHsgZ3VpZCwgYWN0aW9uIH1cclxuICB9KVxyXG4gIGNvbnN0IHNlcnZlcjogc3RyaW5nID0gbXBzU2VydmVyICE9IG51bGwgPyBtcHNTZXJ2ZXIgOiAnJ1xyXG4gIHJldHVybiBhd2FpdCBIdHRwQ2xpZW50LnBvc3QoYGh0dHBzOi8vJHtzZXJ2ZXJ9L2FtdGAsIGJvZHksIGFwaUtleSwgdHJ1ZSlcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFBvd2VyU3RhdGUgPSBhc3luYyAoZ3VpZCwgbXBzU2VydmVyOiBzdHJpbmcgfCBudWxsLCBhcGlLZXkpOiBQcm9taXNlPGFueT4gPT4ge1xyXG4gIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICBhcGlrZXk6ICd4eHh4eCcsXHJcbiAgICBtZXRob2Q6ICdQb3dlclN0YXRlJyxcclxuICAgIHBheWxvYWQ6IHsgZ3VpZCB9XHJcbiAgfSlcclxuICBjb25zdCBzZXJ2ZXI6IHN0cmluZyA9IG1wc1NlcnZlciAhPSBudWxsID8gbXBzU2VydmVyIDogJydcclxuICByZXR1cm4gYXdhaXQgSHR0cENsaWVudC5wb3N0KGBodHRwczovLyR7c2VydmVyfS9hbXRgLCBib2R5LCBhcGlLZXksIHRydWUpXHJcbn1cclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4qIENvcHlyaWdodCAoYykgSW50ZWwgQ29ycG9yYXRpb24gMjAxOVxyXG4qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbmV4cG9ydCBjb25zdCBhdmFpbGFibGVQb3dlckFjdGlvbnMgPSBbXHJcbiAgeyB2YWx1ZTogJzInLCBsYWJlbDogJ1Bvd2VyIFVwJyB9LFxyXG4gIHsgdmFsdWU6ICcxMDEnLCBsYWJlbDogJ1Jlc2V0IFRvIEJJT1MnIH0sXHJcbiAgeyB2YWx1ZTogJzQnLCBsYWJlbDogJ1NsZWVwJyB9LFxyXG4gIHsgdmFsdWU6ICc1JywgbGFiZWw6ICdQb3dlciBDeWNsZScgfSxcclxuICB7IHZhbHVlOiAnNycsIGxhYmVsOiAnSGliZXJuYXRlJyB9LFxyXG4gIHsgdmFsdWU6ICc4JywgbGFiZWw6ICdQb3dlciBEb3duJyB9LFxyXG4gIHsgdmFsdWU6ICcxMCcsIGxhYmVsOiAnUmVzZXQnIH0sXHJcbiAgeyB2YWx1ZTogJzEyJywgbGFiZWw6ICdTb2Z0LU9mZicgfSxcclxuICB7IHZhbHVlOiAnMTQnLCBsYWJlbDogJ1NvZnQgUmVzZXQnIH0sXHJcbiAgeyB2YWx1ZTogJzEwMCcsIGxhYmVsOiAnUG93ZXIgVXAgVG8gQklPUycgfSxcclxuICB7IHZhbHVlOiAnNDAwJywgbGFiZWw6ICdSZXNldCBUbyBQWEUnIH0sXHJcbiAgeyB2YWx1ZTogJzQwMScsIGxhYmVsOiAnUG93ZXIgVXAgVG8gUFhFJyB9XHJcbl1cclxuXHJcbmV4cG9ydCBjb25zdCBnZXRBY3Rpb25CeUlkID0gKGFjdGlvbik6IGFueSA9PiBhY3Rpb24gPT09IDIgPyAnUG93ZXIgVXAnIDogYWN0aW9uID09PSA4ID8gJ1Bvd2VyIE9mZicgOiBhY3Rpb24gPT09IDUgPyAnUG93ZXIgQ3ljbGUnIDogYWN0aW9uID09PSAxMCA/ICdSZXNldCcgOiBhY3Rpb24gPT09IDEyID8gJ1NvZnQgT2ZmJyA6IGFjdGlvbiA9PT0gMTQgPyAnU29mdCBSZXNldCcgOiBhY3Rpb24gPT09IDQgPyAnU2xlZXAnIDogYWN0aW9uID09PSA3ID8gJ0hpYmVybmF0ZScgOiBhY3Rpb24gPT09IDEwMCA/ICdQb3dlciBVcCBUbyBCSU9TJyA6IGFjdGlvbiA9PT0gMTAxID8gJ1Jlc2V0IFRvIEJJT1MnIDogbnVsbFxyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIENvcHlyaWdodCAoYykgSW50ZWwgQ29ycG9yYXRpb24gMjAxOVxyXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxyXG4gKiBBdXRob3IgOiBSYW11IEJhY2hhbGFcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbmltcG9ydCB7IElMb2dnZXIsIExvZ0xldmVsIH0gZnJvbSAnLi9JTG9nZ2VyJ1xyXG5cclxuLyoqXHJcbiAqIENvbnNvbGVMb2dnZXIgaW1wbGVtZW50cyBJTG9nZ2VyIHRvIHByb3ZpZGUgYmFzaWMgY29uc29sZSBsb2dnaW5nIGZ1bmN0aW9uYWxpdHkuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29uc29sZUxvZ2dlciBpbXBsZW1lbnRzIElMb2dnZXIge1xyXG4gIG1pbkxldmVsOiBMb2dMZXZlbFxyXG4gIGNvbnN0cnVjdG9yIChsZXZlbDogTG9nTGV2ZWwpIHtcclxuICAgIHRoaXMubWluTGV2ZWwgPSBsZXZlbFxyXG4gIH1cclxuXHJcbiAgbG9nIChsZXZlbDogTG9nTGV2ZWwsIGRhdGE6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgc3dpdGNoIChsZXZlbCkge1xyXG4gICAgICBjYXNlIExvZ0xldmVsLlZFUkJPU0U6XHJcbiAgICAgICAgdGhpcy52ZXJib3NlKGRhdGEpXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSBMb2dMZXZlbC5JTkZPOlxyXG4gICAgICAgIHRoaXMuaW5mbyhkYXRhKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgTG9nTGV2ZWwuREVCVUc6XHJcbiAgICAgICAgdGhpcy5kZWJ1ZyhkYXRhKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgTG9nTGV2ZWwuV0FSTklORzpcclxuICAgICAgICB0aGlzLndhcm4oZGF0YSlcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIExvZ0xldmVsLkVSUk9SOlxyXG4gICAgICAgIHRoaXMuZXJyb3IoZGF0YSlcclxuICAgICAgICBicmVha1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBkZWJ1ZyAobG9nOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLm1pbkxldmVsID49IExvZ0xldmVsLkRFQlVHKSBjb25zb2xlLmRlYnVnKGxvZylcclxuICB9XHJcblxyXG4gIGluZm8gKGxvZzogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5taW5MZXZlbCA+PSBMb2dMZXZlbC5JTkZPKSBjb25zb2xlLmluZm8obG9nKVxyXG4gIH1cclxuXHJcbiAgZXJyb3IgKGxvZzogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5taW5MZXZlbCA+PSBMb2dMZXZlbC5FUlJPUikgY29uc29sZS5lcnJvcihsb2cpXHJcbiAgfVxyXG5cclxuICB3YXJuIChsb2c6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMubWluTGV2ZWwgPj0gTG9nTGV2ZWwuV0FSTklORykgY29uc29sZS53YXJuKGxvZylcclxuICB9XHJcblxyXG4gIHZlcmJvc2UgKGxvZzogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5taW5MZXZlbCA+PSBMb2dMZXZlbC5WRVJCT1NFKSBjb25zb2xlLmxvZyhsb2cpXHJcbiAgfVxyXG59XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1kNVwiKTsiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi5sYWJlbC10ZXh0e21hcmdpbi1sZWZ0OjhweH0uZ3JleS1sYWJlbHtvcGFjaXR5Oi41fVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9yZWFjdGpzL2NvbXBvbmVudHMvc2hhcmVkL2FtdGZlYXR1cmVzLnNjc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBTUMsWUFDSSxlQUhTLENBTWIsWUFDSSxVQU5NXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcXHJcXG4gKiBDb3B5cmlnaHQgKGMpIEludGVsIENvcnBvcmF0aW9uIDIwMjBcXHJcXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxcclxcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xcclxcbiAkbWFyZ2luTGVmdDogOHB4O1xcclxcbiAkb3BhY2l0eTogMC41O1xcclxcbiAubGFiZWwtdGV4dCB7XFxyXFxuICAgICBtYXJnaW4tbGVmdDogJG1hcmdpbkxlZnQ7XFxyXFxuIH1cXHJcXG5cXHJcXG4gLmdyZXktbGFiZWwge1xcclxcbiAgICAgb3BhY2l0eTogJG9wYWNpdHk7XFxyXFxuIH1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4qIENvcHlyaWdodCAoYykgSW50ZWwgQ29ycG9yYXRpb24gMjAxOVxyXG4qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFBvd2VyT3B0aW9uUHJvcHMge1xyXG4gIGF2YWlsYWJsZU9wdGlvbnM6IGFueVxyXG4gIG9uQ2hhbmdlOiBhbnlcclxuICBpc1NlbGVjdGVkOiBib29sZWFuXHJcbiAgb25CbHVyPzogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgUG93ZXJPcHRpb25zOiBSZWFjdC5TRkM8UG93ZXJPcHRpb25Qcm9wcz4gPSBwcm9wcyA9PiA8c2VsZWN0IG9uQ2xpY2s9e3Byb3BzLm9uQ2hhbmdlfSBuYW1lPSdQb3dlck9wdGlvbnMnPlxyXG4gIDxvcHRpb24gdmFsdWU9Jycgc2VsZWN0ZWQ9eyFwcm9wcy5pc1NlbGVjdGVkfT5DaG9vc2U8L29wdGlvbj5cclxuICB7cHJvcHMuYXZhaWxhYmxlT3B0aW9ucy5tYXAoKHsgdmFsdWUsIGxhYmVsIH0pID0+IChcclxuICAgIDxvcHRpb24ga2V5PXt2YWx1ZX0gdmFsdWU9e3ZhbHVlfT5cclxuICAgICAge2xhYmVsfVxyXG4gICAgPC9vcHRpb24+XHJcbiAgKSl9XHJcbjwvc2VsZWN0PlxyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIENvcHlyaWdodCAoYykgSW50ZWwgQ29ycG9yYXRpb24gMjAyMFxyXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHsgZ2V0UG93ZXJTdGF0ZSB9IGZyb20gJy4uL3NlcnZpY2VzL1Bvd2VyQWN0aW9uU2VydmljZXMnXHJcbmltcG9ydCB7IERvbWFpbkNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQvQmFzaWNDb250ZXh0UHJvdmlkZXInXHJcbmltcG9ydCB7IGlzRmFsc3kgfSBmcm9tICcuL1V0aWxpdGllcydcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUG93ZXJTdGF0ZVByb3BzIHtcclxuICBkZXZpY2VJZDogc3RyaW5nIHwgbnVsbFxyXG4gIHNlcnZlcjogc3RyaW5nIHwgbnVsbFxyXG4gIGhhbmRsZVBvd2VyU3RhdHVzOiAodmFsdWU6IHN0cmluZykgPT4gdm9pZFxyXG4gIHVwZGF0ZVBhcmVudDogKCkgPT4gdm9pZFxyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJpYyBjbGFzcyB0byBmZXRjaCB0aGUgQU1UIERldmljZSBQb3dlciBzdGF0ZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIFBvd2VyU3RhdGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8UG93ZXJTdGF0ZVByb3BzLCB7IHBvd2VyU3RhdGU6IG51bWJlciB9PiB7XHJcbiAgdGltZUludGVydmFsOiBhbnlcclxuICBjb25zdHJ1Y3RvciAocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKVxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgcG93ZXJTdGF0ZTogMFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCk6IHZvaWQge1xyXG4gICAgdGhpcy5nZXRBbXRQb3dlclN0YXRlKClcclxuICAgIHRoaXMudGltZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5nZXRBbXRQb3dlclN0YXRlKCksIDE1MDAwKVxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCk6IHZvaWQge1xyXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVJbnRlcnZhbClcclxuICB9XHJcblxyXG4gIC8qKiBGZXRjaCB0aGUgUG93ZXIgc3RhdGUgZnJvbSBBTVQgRGV2aWNlICovXHJcbiAgZ2V0QW10UG93ZXJTdGF0ZSA9ICgpOiBhbnkgPT4ge1xyXG4gICAgZ2V0UG93ZXJTdGF0ZSh0aGlzLnByb3BzLmRldmljZUlkLCB0aGlzLnByb3BzLnNlcnZlciwgdGhpcy5jb250ZXh0LmRhdGEubXBzS2V5KVxyXG4gICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICB0aGlzLnByb3BzLnVwZGF0ZVBhcmVudCgpXHJcbiAgICAgICAgaWYgKGlzRmFsc3koZGF0YS5wb3dlcnN0YXRlKSkge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHBvd2VyU3RhdGU6IGRhdGEucG93ZXJzdGF0ZVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHBvd2VyU3RhdGU6IDEwMFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZGF0YS5wb3dlcnN0YXRlID09PSAyID8gdGhpcy5wcm9wcy5oYW5kbGVQb3dlclN0YXR1cygncG93ZXJvbicpIDogdGhpcy5zdGF0ZS5wb3dlclN0YXRlICE9PSAxMDAgPyB0aGlzLnByb3BzLmhhbmRsZVBvd2VyU3RhdHVzKCdzbGVlcCcpIDogdGhpcy5wcm9wcy5oYW5kbGVQb3dlclN0YXR1cygnZmFpbGVkJylcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICBjb25zb2xlLmluZm8oJ2Vycm9yJywgZXJyb3IpXHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICByZW5kZXJQb3dlclN0YXRlID0gKHBhcmFtKTogYW55ID0+IHtcclxuICAgIHN3aXRjaCAocGFyYW0pIHtcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICBjYXNlIDEwOlxyXG4gICAgICBjYXNlIDExOlxyXG4gICAgICBjYXNlIDE0OlxyXG4gICAgICBjYXNlIDE3OlxyXG4gICAgICAgIHJldHVybiA8c3BhbiBzdHlsZT17eyBjb2xvcjogJ3JlZCcgfX0+T3RoZXI8L3NwYW4+XHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICByZXR1cm4gPHNwYW4gc3R5bGU9e3sgY29sb3I6ICdncmVlbicgfX0+UG93ZXIgb248L3NwYW4+XHJcbiAgICAgIGNhc2UgMzpcclxuICAgICAgY2FzZSA0OlxyXG4gICAgICAgIHJldHVybiA8c3BhbiBzdHlsZT17eyBjb2xvcjogJ3JlZCcgfX0+ZGVlcCBzbGVlcDwvc3Bhbj5cclxuICAgICAgY2FzZSA1OlxyXG4gICAgICBjYXNlIDY6XHJcbiAgICAgIGNhc2UgODpcclxuICAgICAgY2FzZSA5OlxyXG4gICAgICBjYXNlIDEyOlxyXG4gICAgICBjYXNlIDEzOlxyXG4gICAgICBjYXNlIDE1OlxyXG4gICAgICBjYXNlIDE2OlxyXG4gICAgICAgIHJldHVybiA8c3BhbiBzdHlsZT17eyBjb2xvcjogJ3JlZCcgfX0+UG93ZXIgT2ZmPC9zcGFuPlxyXG4gICAgICBjYXNlIDc6XHJcbiAgICAgICAgcmV0dXJuIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiAncmVkJyB9fT5IaWJlcm5hdGU8L3NwYW4+XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiAncmVkJyB9fT5Vbmtub3duPC9zcGFuPlxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpOiBSZWFjdC5SZWFjdE5vZGUge1xyXG4gICAgY29uc3QgeyBwb3dlclN0YXRlIH0gPSB0aGlzLnN0YXRlXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICB0aGlzLnJlbmRlclBvd2VyU3RhdGUocG93ZXJTdGF0ZSlcclxuICAgIC8vIHBvd2VyU3RhdGUgPT09IDQgPyAoPHNwYW4gc3R5bGU9e3sgY29sb3I6IFwicmVkXCIgfX0+ZGVlcCBzbGVlcCA8L3NwYW4+KSA6IHBvd2VyU3RhdGUgPT09IDIgPyAoPHNwYW4gc3R5bGU9e3sgY29sb3I6IFwiZ3JlZW5cIiB9fT5Qb3dlciBvbiA8L3NwYW4+KSA6ICg8c3Bhbj51bmtub3duPC9zcGFuPilcclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcblBvd2VyU3RhdGUuY29udGV4dFR5cGUgPSBEb21haW5Db250ZXh0XHJcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuKiBDb3B5cmlnaHQgKGMpIEludGVsIENvcnBvcmF0aW9uIDIwMjBcclxuKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgU3R5bGUgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnXHJcbmltcG9ydCB7IGlzRmFsc3kgfSBmcm9tICcuL1V0aWxpdGllcydcclxuXHJcbmNvbnN0IENoZWNrYm94Q29udGFpbmVyID0gU3R5bGUuZGl2YFxyXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG5gXHJcblxyXG5jb25zdCBJY29uID0gU3R5bGUuc3ZnYFxyXG4gIGZpbGw6IG5vbmU7XHJcbiAgc3Ryb2tlOiBncmVlbjtcclxuICBzdHJva2Utd2lkdGg6IDJweDtcclxuYFxyXG5cclxuY29uc3QgSGlkZGVuQ2hlY2tib3ggPSBTdHlsZS5pbnB1dC5hdHRycyh7IHR5cGU6ICdjaGVja2JveCcgfSlgXHJcbiAgYm9yZGVyOiAwO1xyXG4gIGNsaXA6IHJlY3QoMCAwIDAgMCk7XHJcbiAgY2xpcHBhdGg6IGluc2V0KDUwJSk7XHJcbiAgaGVpZ2h0OiAxcHg7XHJcbiAgbWFyZ2luOiAtMXB4O1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgcGFkZGluZzogMDtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxuICB3aWR0aDogMXB4O1xyXG5gXHJcblxyXG5jb25zdCBTdHlsZWRDaGVja2JveCA9IFN0eWxlLmRpdmBcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgd2lkdGg6IDE2cHg7XHJcbiAgaGVpZ2h0OiAxNnB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICR7KHsgZGlzYWJsZUNoZWNrYm94IH0pID0+IGdldENvbG9yKGRpc2FibGVDaGVja2JveCl9O1xyXG4gIGJvcmRlci1yYWRpdXM6IDFweCBzb2xpZCBibGFjaztcclxuICB0cmFuc2l0aW9uOiBhbGwgMTUwbXM7XHJcblxyXG4gICR7SGlkZGVuQ2hlY2tib3h9OmZvY3VzICsgJiB7XHJcbiAgICBib3gtc2hhZG93OiAwIDAgMCAxcHggd2hpdGU7XHJcbiAgfVxyXG5cclxuICAke0ljb259IHtcclxuICAgIHZpc2liaWxpdHk6ICR7cHJvcHMgPT4gKGlzRmFsc3kocHJvcHMuY2hlY2tlZCkgPyAndmlzaWJsZScgOiAnaGlkZGVuJyl9XHJcbiAgfVxyXG5gXHJcblxyXG5jb25zdCBnZXRDb2xvciA9IChkaXNhYmxlQ2hlY2tib3gpOiBzdHJpbmcgPT4gZGlzYWJsZUNoZWNrYm94ID09PSB0cnVlID8gJyNjY2MnIDogJ3doaXRlJ1xyXG4vKiogR2VuZXJpYyBwcmVzZW50YXRpb25hbCBmdW5jdGlvbiBmb3IgQ2hlY2tib3ggKi9cclxuZXhwb3J0IGNvbnN0IENoZWNrYm94ID0gKHsgY2xhc3NOYW1lLCBjaGVja2VkLCBkaXNhYmxlQ2hlY2tib3gsIC4uLnByb3BzIH0pOiBKU1guRWxlbWVudCA9PiAoXHJcbiAgPENoZWNrYm94Q29udGFpbmVyIGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cclxuICAgIDxIaWRkZW5DaGVja2JveCBjaGVja2VkPXtjaGVja2VkfSB7Li4ucHJvcHN9IGRpc2FibGVkPXtkaXNhYmxlQ2hlY2tib3h9Lz5cclxuICAgIDxTdHlsZWRDaGVja2JveCBjaGVja2VkPXtjaGVja2VkfSBkaXNhYmxlQ2hlY2tib3g9e2Rpc2FibGVDaGVja2JveH0+XHJcbiAgICAgIDxJY29uIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cclxuICAgICAgICA8cG9seWxpbmUgcG9pbnRzPVwiMjAgNiA5IDE3IDQgMTJcIiAvPlxyXG4gICAgICA8L0ljb24+XHJcbiAgICA8L1N0eWxlZENoZWNrYm94PlxyXG4gIDwvQ2hlY2tib3hDb250YWluZXI+XHJcbilcclxuIiwiaW1wb3J0IGFwaSBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgICAgICAgaW1wb3J0IGNvbnRlbnQgZnJvbSBcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYW10ZmVhdHVyZXMuc2Nzc1wiO1xuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCBkZWZhdWx0IGNvbnRlbnQubG9jYWxzIHx8IHt9OyIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICogQ29weXJpZ2h0IChjKSBJbnRlbCBDb3Jwb3JhdGlvbiAyMDIwXHJcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXHJcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IGdldEFtdEZlYXR1cmVzLCBzZXRBbXRGZWF0dXJlcyB9IGZyb20gJy4uL3NlcnZpY2VzL0FtdEZlYXR1cmVzU2VydmljZXMnXHJcbmltcG9ydCB7IENoZWNrYm94IH0gZnJvbSAnLi4vc2hhcmVkL0NoZWNrYm94J1xyXG5pbXBvcnQgU25hY2tCYXIgZnJvbSAnLi4vc2hhcmVkL1NuYWNrQmFyJ1xyXG5pbXBvcnQgeyB0cmFuc2xhdGVUZXh0LCB0cmFuc2xhdGVEeW5hbWljVGV4dCB9IGZyb20gJy4vTWV0aG9kcydcclxuXHJcbmltcG9ydCAnLi9hbXRmZWF0dXJlcy5zY3NzJ1xyXG5pbXBvcnQgeyBEb21haW5Db250ZXh0IH0gZnJvbSAnLi9jb250ZXh0L0Jhc2ljQ29udGV4dFByb3ZpZGVyJ1xyXG5cclxuLyoqXHJcbiAqIGludGVyZmFjZSBmb3IgaW5wdXQgcHJvcHMgdG8gQU1URmVhdHVyZXMgY2xhc3NcclxuICogZGV2aWNlSWQgLS0gZ3VpZCBvZiB0aGUgQU1UIGRldmljZVxyXG4gKiBzZXJ2ZXIgLS0gTVBTIHNlcnZlciBhZGRyZXNzKElQOnBvcnQpXHJcbiAqIGZlYXR1cmUgLS0gSW5kaWNhdGVzIHdoaWNoIGNvbnRyb2wgaXMgYmVpbmcgYWNjZXNzZWQoS1ZNLCBTT0wpXHJcbiAqIGhhbmRsZUZlYXR1cmVTdGF0dXMgLS0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBTbmFja0JhciBtZXNzYWdlc1xyXG4gKiBnZXRDb25uZWN0U3RhdGUgLS0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gZ2V0IHRoZSBLVk0gb3IgU09MIGNvbm5lY3Rpb24gc3RhdGVcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQW10RmVhdHVyZVByb3BzIHtcclxuICBkZXZpY2VJZDogc3RyaW5nIHwgbnVsbFxyXG4gIHNlcnZlcjogc3RyaW5nIHwgbnVsbFxyXG4gIGZlYXR1cmU6IHN0cmluZ1xyXG4gIGhhbmRsZUZlYXR1cmVTdGF0dXM6ICh2YWx1ZTogc3RyaW5nKSA9PiB2b2lkXHJcbiAgZ2V0Q29ubmVjdFN0YXRlOiAoKSA9PiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBbXRGZWF0dXJlU3RhdGUge1xyXG4gIGNoZWNrZWQ6IGJvb2xlYW5cclxuICB1c2VyQ29uc2VudDogc3RyaW5nXHJcbiAgdXNlS1ZNOiBib29sZWFuXHJcbiAgdXNlU09MOiBib29sZWFuXHJcbiAgdXNlSURFUjogYm9vbGVhblxyXG4gIHJlZGlyZWN0aW9uOiBib29sZWFuXHJcbiAgc2hvd01lc3NhZ2U6IGJvb2xlYW5cclxuICBtZXNzYWdlOiBzdHJpbmdcclxuICB0eXBlOiBzdHJpbmdcclxufVxyXG5cclxuLyoqIEdlbmVyaWMgY2xhc3MgdG8gZ2V0IGFuZCBzZXQgdGhlIEFNVCBmZWF0dXJlcyBsaWtlIEtWTSwgU09MXHJcbiAqIGZlYXR1cmUgcHJvcCBmb3IgdGhpcyBjbGFzcyBkZXRlcm1pbmVzIHdoZXRoZXIgd2UgYXJlIG9uIEtWTSBvciBTT0wgcGFnZVxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEFtdEZlYXR1cmVzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PEFtdEZlYXR1cmVQcm9wcywgQW10RmVhdHVyZVN0YXRlPiB7XHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGNoZWNrZWQ6IGZhbHNlLFxyXG4gICAgICB1c2VyQ29uc2VudDogJycsXHJcbiAgICAgIHVzZUtWTTogZmFsc2UsXHJcbiAgICAgIHVzZVNPTDogZmFsc2UsXHJcbiAgICAgIHVzZUlERVI6IGZhbHNlLFxyXG4gICAgICByZWRpcmVjdGlvbjogZmFsc2UsXHJcbiAgICAgIHNob3dNZXNzYWdlOiBmYWxzZSxcclxuICAgICAgbWVzc2FnZTogJycsXHJcbiAgICAgIHR5cGU6ICcnXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb21wb25lbnREaWRNb3VudCAoKTogdm9pZCB7XHJcbiAgICB0aGlzLmZldGNoQW10RmVhdHVyZXMoKVxyXG4gIH1cclxuXHJcbiAgLyoqIEdldCB0aGUgQU1UIERldmljZSBmZWF0dXJlcyAgKi9cclxuICBmZXRjaEFtdEZlYXR1cmVzID0gKCk6IGFueSA9PiB7XHJcbiAgICBjb25zdCBtcHNTZXJ2ZXI6IHN0cmluZyA9IHRoaXMucHJvcHMuc2VydmVyICE9IG51bGwgPyB0aGlzLnByb3BzLnNlcnZlciA6ICcnXHJcbiAgICBnZXRBbXRGZWF0dXJlcyh0aGlzLnByb3BzLmRldmljZUlkLCBtcHNTZXJ2ZXIsIHRoaXMuY29udGV4dC5kYXRhLm1wc0tleSlcclxuICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgaWYgKGRhdGEuc3RhdHVzY29kZSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgdXNlckNvbnNlbnQ6IGRhdGEucGF5bG9hZC51c2VyQ29uc2VudCxcclxuICAgICAgICAgICAgdXNlS1ZNOiBkYXRhLnBheWxvYWQuS1ZNLFxyXG4gICAgICAgICAgICB1c2VTT0w6IGRhdGEucGF5bG9hZC5TT0wsXHJcbiAgICAgICAgICAgIHVzZUlERVI6IGRhdGEucGF5bG9hZC5JREVSLFxyXG4gICAgICAgICAgICByZWRpcmVjdGlvbjogZGF0YS5wYXlsb2FkLnJlZGlyZWN0aW9uXHJcbiAgICAgICAgICB9LCAoKSA9PiB0aGlzLnVwZGF0ZUNoZWNrYm94U3RhdHVzKCkpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMucHJvcHMuaGFuZGxlRmVhdHVyZVN0YXR1cygnZmFpbGVkJylcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAuY2F0Y2goKCkgPT4gY29uc29sZS5pbmZvKCdlcnJvcicpKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICAgKiBCaW5kIHRoZSBjaGVja2JveCBzdGF0dXMgYmFzZWQgb24gdGhlIGZlYXR1cmUgYW5kIHRoZSBmZWF0dXJlIHJlc3BvbnNlIGZyb20gdGhlIEFNVCBkZXZpY2VcclxuICAgICAqL1xyXG4gIHVwZGF0ZUNoZWNrYm94U3RhdHVzID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgY29uc3QgeyBmZWF0dXJlIH0gPSB0aGlzLnByb3BzXHJcbiAgICBjb25zdCB7IHVzZUtWTSwgdXNlU09MLCB1c2VJREVSLCByZWRpcmVjdGlvbiB9ID0gdGhpcy5zdGF0ZVxyXG4gICAgaWYgKHJlZGlyZWN0aW9uICYmICgoZmVhdHVyZSA9PT0gdHJhbnNsYXRlVGV4dCgnYW10RmVhdHVyZXMuZmVhdHVyZXMua3ZtJykgJiYgdXNlS1ZNKSB8fCAoZmVhdHVyZSA9PT0gdHJhbnNsYXRlVGV4dCgnYW10RmVhdHVyZXMuZmVhdHVyZXMuc29sJykgJiYgdXNlU09MKSB8fCAoZmVhdHVyZSA9PT0gJ0lERVInICYmIHVzZUlERVIpKSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBjaGVja2VkOiB0cnVlXHJcbiAgICAgIH0pXHJcbiAgICAgIHRoaXMucHJvcHMuaGFuZGxlRmVhdHVyZVN0YXR1cygnZW5hYmxlZCcpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnByb3BzLmhhbmRsZUZlYXR1cmVTdGF0dXMoJ25vdEVuYWJsZWQnKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqIFNldCBBTVQgZmVhdHVyZXMgb24gY2xpY2sgb2YgY2hlY2tib3ggKi9cclxuICBzZXRBbXRGZWF0dXJlID0gKCk6IGFueSA9PiB7XHJcbiAgICBjb25zdCB7IGRldmljZUlkLCBmZWF0dXJlLCBzZXJ2ZXIsIGhhbmRsZUZlYXR1cmVTdGF0dXMgfSA9IHRoaXMucHJvcHNcclxuICAgIGNvbnN0IHsgdXNlS1ZNLCB1c2VJREVSLCB1c2VTT0wsIGNoZWNrZWQgfSA9IHRoaXMuc3RhdGVcclxuICAgIGNvbnN0IGZlYXR1cmVTdGF0dXNUZXh0ID0gY2hlY2tlZCA/IHRyYW5zbGF0ZVRleHQoJ2FtdEZlYXR1cmVzLmVuYWJsZWQnKSA6IHRyYW5zbGF0ZVRleHQoJ2FtdEZlYXR1cmVzLmRpc2FibGVkJylcclxuICAgIGNvbnN0IG1wc1NlcnZlcjogc3RyaW5nID0gc2VydmVyICE9IG51bGwgPyBzZXJ2ZXIgOiAnJ1xyXG4gICAgaGFuZGxlRmVhdHVyZVN0YXR1cygnZW5hYmxlZCcpXHJcbiAgICBjb25zdCB0cmFuc2xhdGUgPSB7XHJcbiAgICAgIGZlYXR1cmU6IGZlYXR1cmUsXHJcbiAgICAgIGZlYXR1cmVUZXh0OiBmZWF0dXJlU3RhdHVzVGV4dFxyXG4gICAgfVxyXG4gICAgc2V0QW10RmVhdHVyZXMoZGV2aWNlSWQsICdub25lJywgdXNlS1ZNLCB1c2VTT0wsIHVzZUlERVIsIG1wc1NlcnZlciwgdGhpcy5jb250ZXh0LmRhdGEubXBzS2V5KVxyXG4gICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICBpZiAoZGF0YS5zdGF0dXNjb2RlID09PSAyMDApIHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBzaG93TWVzc2FnZTogdHJ1ZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogdHJhbnNsYXRlRHluYW1pY1RleHQoJ2FtdEZlYXR1cmVzLm1lc3NhZ2VzLmZlYXR1cmVTdWNjZXNzJywgdHJhbnNsYXRlKSxcclxuICAgICAgICAgICAgdHlwZTogdHJhbnNsYXRlVGV4dCgnYW10RmVhdHVyZXMubWVzc2FnZVR5cGVzLnN1Y2Nlc3MnKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHNob3dNZXNzYWdlOiB0cnVlLFxyXG4gICAgICAgICAgICBjaGVja2VkOiAhY2hlY2tlZCxcclxuICAgICAgICAgICAgbWVzc2FnZTogdHJhbnNsYXRlRHluYW1pY1RleHQoJ2FtdEZlYXR1cmVzLm1lc3NhZ2VzLnVwZGF0ZUZhaWxlZCcsIHRyYW5zbGF0ZSksXHJcbiAgICAgICAgICAgIHR5cGU6IHRyYW5zbGF0ZVRleHQoJ2FtdEZlYXR1cmVzLm1lc3NhZ2VUeXBlcy5lcnJvcicpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRUaW1lb3V0KFxyXG4gICAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICBzaG93TWVzc2FnZTogZmFsc2VcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gc2hvd3MgZmVhdHVyZSBub3QgZW5hYmxlZCBtZXNzYWdlIGlmIGNoZWNrYm94IHZhbHVlIGlzIG5vdCB0cnVlXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS5jaGVja2VkKSB0aGlzLnByb3BzLmhhbmRsZUZlYXR1cmVTdGF0dXMoJ25vdEVuYWJsZWQnKVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIDQwMDBcclxuICAgICAgICApXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmluZm8oJ2Vycm9yJywgZXJyb3IpKVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICAgKiBVcGRhdGUgdGhlIGNoZWNrYm94IHN0YXR1cyBhbmQgdGhlIGZlYXR1cmUoS1ZNLCBTT0wpIG9uIGNsaWNrIG9mIGNoZWNrYm94IGJlZm9yZSBtYWtpbmcgdGhlIFJlc3QgQVBJXHJcbiAgICAgKiByZXF1ZXN0IHRvIFNldCB0aGUgQU1UIGZlYXR1cmVzXHJcbiAgICAgKi9cclxuICBoYW5kbGVDaGVja2JveENoYW5nZSA9IChldmVudCk6IHZvaWQgPT4ge1xyXG4gICAgc3dpdGNoICh0aGlzLnByb3BzLmZlYXR1cmUpIHtcclxuICAgICAgY2FzZSAnS1ZNJzpcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGNoZWNrZWQ6IGV2ZW50LnRhcmdldC5jaGVja2VkLFxyXG4gICAgICAgICAgdXNlS1ZNOiBldmVudC50YXJnZXQuY2hlY2tlZFxyXG4gICAgICAgIH0sICgpID0+IHRoaXMuc2V0QW10RmVhdHVyZSgpKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgJ1NPTCc6XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBjaGVja2VkOiBldmVudC50YXJnZXQuY2hlY2tlZCxcclxuICAgICAgICAgIHVzZVNPTDogZXZlbnQudGFyZ2V0LmNoZWNrZWRcclxuICAgICAgICB9LCAoKSA9PiB0aGlzLnNldEFtdEZlYXR1cmUoKSlcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlICdJREVSJzpcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGNoZWNrZWQ6IGV2ZW50LnRhcmdldC5jaGVja2VkLFxyXG4gICAgICAgICAgdXNlSURFUjogZXZlbnQudGFyZ2V0LmNoZWNrZWRcclxuICAgICAgICB9LCAoKSA9PiB0aGlzLnNldEFtdEZlYXR1cmUoKSlcclxuICAgICAgICBicmVha1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgY2hlY2tlZDogZXZlbnQudGFyZ2V0LmNoZWNrZWRcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyICgpOiBSZWFjdC5SZWFjdE5vZGUge1xyXG4gICAgY29uc3QgeyBmZWF0dXJlIH0gPSB0aGlzLnByb3BzXHJcbiAgICBjb25zdCB7IHNob3dNZXNzYWdlLCBtZXNzYWdlLCB0eXBlIH0gPSB0aGlzLnN0YXRlXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxyXG4gICAgICAgIHtzaG93TWVzc2FnZSAmJiA8U25hY2tCYXJcclxuICAgICAgICAgIG1lc3NhZ2U9e21lc3NhZ2V9XHJcbiAgICAgICAgICB0eXBlPXt0eXBlfVxyXG4gICAgICAgIC8+fVxyXG4gICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgIDxDaGVja2JveFxyXG4gICAgICAgICAgICBjaGVja2VkPXt0aGlzLnN0YXRlLmNoZWNrZWR9XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUNoZWNrYm94Q2hhbmdlfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9J2NoZWNrYm94LWNsYXNzJ1xyXG4gICAgICAgICAgICBkaXNhYmxlQ2hlY2tib3g9e3RoaXMucHJvcHMuZ2V0Q29ubmVjdFN0YXRlKCkgPT09IDJ9XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgbGFiZWwtdGV4dCAke3RoaXMucHJvcHMuZ2V0Q29ubmVjdFN0YXRlKCkgPT09IDIgPyAnZ3JleS1sYWJlbCcgOiAnJ31gfT57ZmVhdHVyZX0ge3RyYW5zbGF0ZVRleHQoJ2FtdEZlYXR1cmVzLmVuYWJsZWQnKX08L3NwYW4+XHJcbiAgICAgICAgPC9sYWJlbD5cclxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cclxuICAgIClcclxuICB9XHJcbn1cclxuXHJcbkFtdEZlYXR1cmVzLmNvbnRleHRUeXBlID0gRG9tYWluQ29udGV4dFxyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiogQ29weXJpZ2h0IChjKSBJbnRlbCBDb3Jwb3JhdGlvbiAyMDIwXHJcbiogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICcuL0h0dHBDbGllbnQnXHJcblxyXG5leHBvcnQgY29uc3QgZ2V0QW10RmVhdHVyZXMgPSBhc3luYyAoZ3VpZCwgbXBzU2VydmVyOiBzdHJpbmcsIGFwaUtleSk6IFByb21pc2U8YW55PiA9PiB7XHJcbiAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KHtcclxuICAgIGFwaWtleTogJ3h4eHh4JyxcclxuICAgIG1ldGhvZDogJ0dldEFNVEZlYXR1cmVzJyxcclxuICAgIHBheWxvYWQ6IHsgZ3VpZCB9XHJcbiAgfSlcclxuXHJcbiAgcmV0dXJuIGF3YWl0IEh0dHBDbGllbnQucG9zdChgaHR0cHM6Ly8ke21wc1NlcnZlcn0vYW10YCwgYm9keSwgYXBpS2V5LCB0cnVlKVxyXG59XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0QW10RmVhdHVyZXMgPSBhc3luYyAoZ3VpZCwgdXNlckNvbnNlbnQsIGVuYWJsZUtWTSwgZW5hYmxlU09MLCBlbmFibGVJREVSLCBtcHNTZXJ2ZXI6IHN0cmluZywgYXBpS2V5KTogUHJvbWlzZTxhbnk+ID0+IHtcclxuICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgYXBpa2V5OiAneHh4eHgnLFxyXG4gICAgbWV0aG9kOiAnU2V0QU1URmVhdHVyZXMnLFxyXG4gICAgcGF5bG9hZDoge1xyXG4gICAgICBndWlkLCB1c2VyQ29uc2VudCwgZW5hYmxlS1ZNLCBlbmFibGVTT0wsIGVuYWJsZUlERVJcclxuICAgIH1cclxuICB9KVxyXG5cclxuICByZXR1cm4gYXdhaXQgSHR0cENsaWVudC5wb3N0KGBodHRwczovLyR7bXBzU2VydmVyfS9hbXRgLCBib2R5LCBhcGlLZXksIHRydWUpXHJcbn1cclxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gKiBDb3B5cmlnaHQgKGMpIEludGVsIENvcnBvcmF0aW9uIDIwMTlcclxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcclxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5leHBvcnQgY2xhc3MgQW10VGVybWluYWwge1xyXG4gIHRlcm1pbmFsRW11bGF0aW9uID0gMVxyXG4gIGZ4RW11bGF0aW9uID0gMFxyXG4gIGZ4TGluZUJyZWFrID0gMCAvLyAwID0gQ1IrTEYsIDEgPSBMRlxyXG5cclxuICAvKiogdXNlZCB0byBtYXAgQXNjaWkgdmFsdWVzIHJlY2VpdmVkIGZyb20gc2VyaWFsIHBvcnQgdG8gdW5pY29kZSBjaGFyYWN0ZXJzICovXHJcbiAgQXNjaWlUb1VuaWNvZGUgPSBbXHJcbiAgICAweDAwYzcsXHJcbiAgICAweDAwZmMsXHJcbiAgICAweDAwZTksXHJcbiAgICAweDAwZTIsXHJcbiAgICAweDAwZTQsXHJcbiAgICAweDAwZTAsXHJcbiAgICAweDAwZTUsXHJcbiAgICAweDAwZTcsXHJcbiAgICAweDAwZWEsXHJcbiAgICAweDAwZWIsXHJcbiAgICAweDAwZTgsXHJcbiAgICAweDAwZWYsXHJcbiAgICAweDAwZWUsXHJcbiAgICAweDAwZWMsXHJcbiAgICAweDAwYzQsXHJcbiAgICAweDAwYzUsXHJcbiAgICAweDAwYzksXHJcbiAgICAweDAwZTYsXHJcbiAgICAweDAwYzYsXHJcbiAgICAweDAwZjQsXHJcbiAgICAweDAwZjYsXHJcbiAgICAweDAwZjIsXHJcbiAgICAweDAwZmIsXHJcbiAgICAweDAwZjksXHJcbiAgICAweDAwZmYsXHJcbiAgICAweDAwZDYsXHJcbiAgICAweDAwZGMsXHJcbiAgICAweDAwYTIsXHJcbiAgICAweDAwYTMsXHJcbiAgICAweDAwYTUsXHJcbiAgICAweDIwYTcsXHJcbiAgICAweDAxOTIsXHJcbiAgICAweDAwZTEsXHJcbiAgICAweDAwZWQsXHJcbiAgICAweDAwZjMsXHJcbiAgICAweDAwZmEsXHJcbiAgICAweDAwZjEsXHJcbiAgICAweDAwZDEsXHJcbiAgICAweDAwYWEsXHJcbiAgICAweDAwZGEsXHJcbiAgICAweDAwYmYsXHJcbiAgICAweDIzMTAsXHJcbiAgICAweDAwYWMsXHJcbiAgICAweDAwYmQsXHJcbiAgICAweDAwYmMsXHJcbiAgICAweDAwYTEsXHJcbiAgICAweDAwYWIsXHJcbiAgICAweDAwYmIsXHJcbiAgICAweDI1OTMsXHJcbiAgICAweDI1OTIsXHJcbiAgICAweDI1OTEsXHJcbiAgICAweDI1MDIsXHJcbiAgICAweDI1MjQsXHJcbiAgICAweDI1NjEsXHJcbiAgICAweDI1NjIsXHJcbiAgICAweDI1NTYsXHJcbiAgICAweDI1NTUsXHJcbiAgICAweDI1NjMsXHJcbiAgICAweDI1NTEsXHJcbiAgICAweDI1NTcsXHJcbiAgICAweDI1NWQsXHJcbiAgICAweDI1NWMsXHJcbiAgICAweDI1NWIsXHJcbiAgICAweDI1MTAsXHJcbiAgICAweDI1MTQsXHJcbiAgICAweDI1MzQsXHJcbiAgICAweDI1MmMsXHJcbiAgICAweDI1MWMsXHJcbiAgICAweDI1MDAsXHJcbiAgICAweDI1M2MsXHJcbiAgICAweDI1NWUsXHJcbiAgICAweDI1NWYsXHJcbiAgICAweDI1NWEsXHJcbiAgICAweDI1NTQsXHJcbiAgICAweDI1NjksXHJcbiAgICAweDI1NjYsXHJcbiAgICAweDI1NjAsXHJcbiAgICAweDI1NTAsXHJcbiAgICAweDI1NmMsXHJcbiAgICAweDI1NjcsXHJcbiAgICAweDI1NjgsXHJcbiAgICAweDI1NjQsXHJcbiAgICAweDI1NjUsXHJcbiAgICAweDI1NjgsXHJcbiAgICAweDI1NTgsXHJcbiAgICAweDI1NTIsXHJcbiAgICAweDI1NTMsXHJcbiAgICAweDI1NmIsXHJcbiAgICAweDI1NmEsXHJcbiAgICAweDI1MTgsXHJcbiAgICAweDI1MGMsXHJcbiAgICAweDI1ODgsXHJcbiAgICAweDI1ODQsXHJcbiAgICAweDI1OGIsXHJcbiAgICAweDI1OTAsXHJcbiAgICAweDI1ODAsXHJcbiAgICAweDAzYjEsXHJcbiAgICAweDAwZGYsXHJcbiAgICAweDAzOTMsXHJcbiAgICAweDAzYzAsXHJcbiAgICAweDAzYTMsXHJcbiAgICAweDAzYzMsXHJcbiAgICAweDAwYjUsXHJcbiAgICAweDAzYzQsXHJcbiAgICAweDAzYzYsXHJcbiAgICAweDAzYjgsXHJcbiAgICAweDIxMjYsXHJcbiAgICAweDAzYjQsXHJcbiAgICAweDIyMWUsXHJcbiAgICAweDAwZjgsXHJcbiAgICAweDAzYjUsXHJcbiAgICAweDIyMGYsXHJcbiAgICAweDIyNjEsXHJcbiAgICAweDAwYjEsXHJcbiAgICAweDIyNjUsXHJcbiAgICAweDIyNjYsXHJcbiAgICAweDIzMjAsXHJcbiAgICAweDIzMjEsXHJcbiAgICAweDAwZjcsXHJcbiAgICAweDIyNDgsXHJcbiAgICAweDAwYjAsXHJcbiAgICAweDIwMjIsXHJcbiAgICAweDAwYjcsXHJcbiAgICAweDIyMWEsXHJcbiAgICAweDIwN2YsXHJcbiAgICAweDAwYjIsXHJcbiAgICAweDIyMGUsXHJcbiAgICAweDAwYTBcclxuICBdXHJcblxyXG4gIEFzY2lpVG9Vbmljb2RlSW50ZWwgPSBbXHJcbiAgICAweDAwYzcsXHJcbiAgICAweDAwZmMsXHJcbiAgICAweDAwZTksXHJcbiAgICAweDAwZTIsXHJcbiAgICAweDAwZTQsXHJcbiAgICAweDAwZTAsXHJcbiAgICAweDAwZTUsXHJcbiAgICAweDAwZTcsXHJcbiAgICAweDAwZWEsXHJcbiAgICAweDAwZWIsXHJcbiAgICAweDAwZTgsXHJcbiAgICAweDAwZWYsXHJcbiAgICAweDAwZWUsXHJcbiAgICAweDAwZWMsXHJcbiAgICAweDAwYzQsXHJcbiAgICAweDAwYzUsXHJcbiAgICAweDAwYzksXHJcbiAgICAweDAwZTYsXHJcbiAgICAweDAwYzYsXHJcbiAgICAweDAwZjQsXHJcbiAgICAweDAwZjYsXHJcbiAgICAweDAwZjIsXHJcbiAgICAweDAwZmIsXHJcbiAgICAweDAwZjksXHJcbiAgICAweDAwZmYsXHJcbiAgICAweDAwZDYsXHJcbiAgICAweDAwZGMsXHJcbiAgICAweDAwYTIsXHJcbiAgICAweDAwYTMsXHJcbiAgICAweDAwYTUsXHJcbiAgICAweDIwYTcsXHJcbiAgICAweDAxOTIsXHJcbiAgICAweDAwZTEsXHJcbiAgICAweDAwZWQsXHJcbiAgICAweDAwZjMsXHJcbiAgICAweDAwZmEsXHJcbiAgICAweDAwZjEsXHJcbiAgICAweDAwZDEsXHJcbiAgICAweDAwYWEsXHJcbiAgICAweDAwZGEsXHJcbiAgICAweDAwYmYsXHJcbiAgICAweDIzMTAsXHJcbiAgICAweDAwYWMsXHJcbiAgICAweDAwYmQsXHJcbiAgICAweDAwYmMsXHJcbiAgICAweDAwYTEsXHJcbiAgICAweDAwYWUsXHJcbiAgICAweDAwYmIsXHJcbiAgICAweDI1OTMsXHJcbiAgICAweDI1OTIsXHJcbiAgICAweDI1OTEsXHJcbiAgICAweDI1MDIsXHJcbiAgICAweDI1MjQsXHJcbiAgICAweDI1NjEsXHJcbiAgICAweDI1NjIsXHJcbiAgICAweDI1NTYsXHJcbiAgICAweDI1NTUsXHJcbiAgICAweDI1NjMsXHJcbiAgICAweDI1NTEsXHJcbiAgICAweDI1NTcsXHJcbiAgICAweDI1NWQsXHJcbiAgICAweDI1NWMsXHJcbiAgICAweDI1NWIsXHJcbiAgICAweDI1MTAsXHJcbiAgICAweDI1MTQsXHJcbiAgICAweDI1MzQsXHJcbiAgICAweDI1MmMsXHJcbiAgICAweDI1MWMsXHJcbiAgICAweDI1MDAsXHJcbiAgICAweDI1M2MsXHJcbiAgICAweDI1NWUsXHJcbiAgICAweDI1NWYsXHJcbiAgICAweDI1NWEsXHJcbiAgICAweDI1NTQsXHJcbiAgICAweDI1NjksXHJcbiAgICAweDI1NjYsXHJcbiAgICAweDI1NjAsXHJcbiAgICAweDI1NTAsXHJcbiAgICAweDI1NmMsXHJcbiAgICAweDI1NjcsXHJcbiAgICAweDI1NjgsXHJcbiAgICAweDI1NjQsXHJcbiAgICAweDI1NjUsXHJcbiAgICAweDI1NjgsXHJcbiAgICAweDI1NTgsXHJcbiAgICAweDI1NTIsXHJcbiAgICAweDI1NTMsXHJcbiAgICAweDI1NmIsXHJcbiAgICAweDI1NmEsXHJcbiAgICAweDI1MTgsXHJcbiAgICAweDI1MGMsXHJcbiAgICAweDI1ODgsXHJcbiAgICAweDI1ODQsXHJcbiAgICAweDI1OGIsXHJcbiAgICAweDI1OTAsXHJcbiAgICAweDI1ODAsXHJcbiAgICAweDAzYjEsXHJcbiAgICAweDAwZGYsXHJcbiAgICAweDAzOTMsXHJcbiAgICAweDAzYzAsXHJcbiAgICAweDAzYTMsXHJcbiAgICAweDAzYzMsXHJcbiAgICAweDAwYjUsXHJcbiAgICAweDAzYzQsXHJcbiAgICAweDAzYzYsXHJcbiAgICAweDAzYjgsXHJcbiAgICAweDIxMjYsXHJcbiAgICAweDAzYjQsXHJcbiAgICAweDIyMWUsXHJcbiAgICAweDAwZjgsXHJcbiAgICAweDAzYjUsXHJcbiAgICAweDIyMGYsXHJcbiAgICAweDIyNjEsXHJcbiAgICAweDAwYjEsXHJcbiAgICAweDIyNjUsXHJcbiAgICAweDIyNjYsXHJcbiAgICAweDIzMjAsXHJcbiAgICAweDIzMjEsXHJcbiAgICAweDAwZjcsXHJcbiAgICAweDIyNDgsXHJcbiAgICAweDAwYjAsXHJcbiAgICAweDIwMjIsXHJcbiAgICAweDAwYjcsXHJcbiAgICAweDIyMWEsXHJcbiAgICAweDIwN2YsXHJcbiAgICAweDAwYjIsXHJcbiAgICAweDIyMGUsXHJcbiAgICAweDAwYTBcclxuICBdXHJcblxyXG4gIFN0YXRlQ2hhbmdlID0gKG5ld1N0YXRlKTogYW55ID0+IHsgfVxyXG5cclxuICAvKiogc2VuZGluZyAgbXVsdGlwbGUgdW5pY29kZSB2YWx1ZXMgdG8gc29ja2V0ICovXHJcbiAgVGVybVNlbmRLZXlzID0gKGtleXMpOiBhbnkgPT4gdGhpcy5vblNlbmQoa2V5cylcclxuXHJcbiAgb25TZW5kOiAoZGF0YTogYW55KSA9PiB2b2lkXHJcblxyXG4gIFByb2Nlc3NEYXRhOiAoc3RyOiBzdHJpbmcpID0+IHZvaWRcclxufVxyXG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAqIENvcHlyaWdodCAoYykgSW50ZWwgQ29ycG9yYXRpb24gMjAxOVxyXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxyXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCB7IElEYXRhUHJvY2Vzc29yIH0gZnJvbSAnLi9JRGF0YVByb2Nlc3NvcidcclxuXHJcbi8qKiBjbGFzcyB0byBwcm9jZXNzIHNlcmlhbCBvdmVyIGxhbiBkYXRhICoqL1xyXG5leHBvcnQgY2xhc3MgVGVybWluYWxEYXRhUHJvY2Vzc29yIGltcGxlbWVudHMgSURhdGFQcm9jZXNzb3Ige1xyXG4gIHRlcm1pbmFsOiBhbnlcclxuICBjb25zdHJ1Y3RvciAodGVybWluYWwpIHtcclxuICAgIHRoaXMudGVybWluYWwgPSB0ZXJtaW5hbFxyXG4gIH1cclxuXHJcbiAgcHJvY2Vzc0RhdGFUb1h0ZXJtOiAoc3RyOiBhbnkpID0+IHZvaWRcclxuICBjbGVhclRlcm1pbmFsOiAoKSA9PiB2b2lkXHJcblxyXG4gIC8qKiBwcm9jZXNzaW5nIGRhdGEgcmVjZWl2ZWQgZnJvbSBzZXJpYWwgcG9ydCoqL1xyXG4gIHByb2Nlc3NEYXRhID0gKHN0cjogc3RyaW5nKTogYW55ID0+IHtcclxuICAgIGlmICh0aGlzLnRlcm1pbmFsLmNhcHR1cmUgIT0gbnVsbCkgdGhpcy50ZXJtaW5hbC5jYXB0dXJlICs9IHN0clxyXG4gICAgbGV0IGM6IHN0cmluZyA9ICcnXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICBjb25zdCBjaCA9IHN0ci5jaGFyQ29kZUF0KGkpXHJcbiAgICAgIGlmIChzdHJbaV0gPT09ICdKJykge1xyXG4gICAgICAgIHRoaXMuY2xlYXJUZXJtaW5hbCgpXHJcbiAgICAgIH0gZWxzZSBpZiAoKGNoICYgMHg4MCkgIT09IDApIHtcclxuICAgICAgICBjICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodGhpcy50ZXJtaW5hbC5Bc2NpaVRvVW5pY29kZVtjaCAmIDB4N2ZdKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGMgKz0gYCR7c3RyW2ldfWBcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5wcm9jZXNzRGF0YVRvWHRlcm0oYylcclxuICB9XHJcbn1cclxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZG90LW9iamVjdFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjYW1lbGNhc2VcIik7IiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIuc29sLWhlYWRlcntkaXNwbGF5OmZsZXh9LnBvd2VyLW9wdGlvbnN7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxJX1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvcmVhY3Rqcy9jb21wb25lbnRzL1NlcmlhbE92ZXJMQU4vc29sLnNjc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBSUEsWUFDSSxZQUFBLENBRUosZUFDQyxhQUFBLENBQ0EsaUJBQUEsQ0FDQSxRQUFBXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcXHJcXG4qIENvcHlyaWdodCAoYykgSW50ZWwgQ29ycG9yYXRpb24gMjAxOVxcclxcbiogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcXHJcXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xcclxcbi5zb2wtaGVhZGVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG59XFxyXFxuLnBvd2VyLW9wdGlvbnMge1xcclxcblxcdGRpc3BsYXk6IGJsb2NrO1xcclxcblxcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG5cXHRyaWdodDogMSU7XFxyXFxufVxcclxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ4dGVybVwiKTsiLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiogQ29weXJpZ2h0IChjKSBJbnRlbCBDb3Jwb3JhdGlvbiAyMDE5XHJcbiogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuaW1wb3J0IFN0eWxlIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xyXG5pbXBvcnQgeyBpc0ZhbHN5IH0gZnJvbSAnLi4vc2hhcmVkL1V0aWxpdGllcydcclxuXHJcbmNvbnN0IFRlcm1pbmFsQ29udGFpbmVyID0gU3R5bGUuZGl2YFxyXG4gICBkaXNwbGF5OmJsb2NrO1xyXG4gICB0ZXh0LWFsaWduOmNlbnRlcjtcclxuYFxyXG5jb25zdCBYVGVybSA9IFN0eWxlLmRpdmBcclxuICAgZGlzcGxheTppbmxpbmUtYmxvY2s7XHJcbmBcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVByb3BUZXJtaW5hbCB7XHJcbiAgaGFuZGxlS2V5UHJlc3M6IGFueVxyXG4gIHh0ZXJtOiBhbnlcclxuICBoYW5kbGVLZXlEb3duUHJlc3M6IGFueVxyXG59XHJcblxyXG5jbGFzcyBUZXJtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElQcm9wVGVybWluYWw+IHtcclxuICBjb21wb25lbnREaWRNb3VudCAoKTogdm9pZCB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3h0ZXJtJykgPz8gJydcclxuICAgIGNvbnN0IHsgeHRlcm0sIGhhbmRsZUtleVByZXNzIH0gPSB0aGlzLnByb3BzXHJcbiAgICBpZiAoaXNGYWxzeShlbGVtZW50KSkge1xyXG4gICAgICB4dGVybS5vcGVuKGVsZW1lbnQpXHJcbiAgICAgIHh0ZXJtLm9uRGF0YShkYXRhID0+IGhhbmRsZUtleVByZXNzKGRhdGEpKVxyXG4gICAgICB4dGVybS5hdHRhY2hDdXN0b21LZXlFdmVudEhhbmRsZXIoZSA9PiB7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIGlmIChpc0ZhbHN5KGUuY3RybEtleSkgJiYgaXNGYWxzeShlLnNoaWZ0S2V5KSAmJiAoZS5rZXlDb2RlID09PSA2NykpIHtcclxuICAgICAgICAgIHJldHVybiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh4dGVybS5nZXRTZWxlY3Rpb24oKSlcclxuICAgICAgICB9IGVsc2UgaWYgKGlzRmFsc3koZS5jdHJsS2V5KSAmJiBpc0ZhbHN5KGUuc2hpZnRLZXkpICYmIChlLmtleUNvZGUgPT09IDg2KSkge1xyXG4gICAgICAgICAgcmV0dXJuIG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKVxyXG4gICAgICAgICAgICAudGhlbih0ZXh0ID0+IGhhbmRsZUtleVByZXNzKHRleHQpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9IGVsc2UgaWYgKGUuY29kZSA9PT0gJ1NwYWNlJykge1xyXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUtleVByZXNzKGUua2V5KVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJlbmRlciAoKTogUmVhY3QuUmVhY3ROb2RlIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxUZXJtaW5hbENvbnRhaW5lcj5cclxuICAgICAgICA8WFRlcm0gaWQ9XCJ4dGVybVwiIC8+XHJcbiAgICAgIDwvVGVybWluYWxDb250YWluZXI+XHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUZXJtXHJcbiIsImltcG9ydCBhcGkgZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3NvbC5zY3NzXCI7XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY29udGVudC5sb2NhbHMgfHwge307IiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4qIENvcHlyaWdodCAoYykgSW50ZWwgQ29ycG9yYXRpb24gMjAxOVxyXG4qIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXHJcbmltcG9ydCB7IEFtdFRlcm1pbmFsIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9BTVRUZXJtaW5hbCdcclxuaW1wb3J0IFN0eWxlIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xyXG5pbXBvcnQgeyBBTVRSZWRpcmVjdG9yLCBQcm90b2NvbCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvQU1UUmVkaXJlY3RvcidcclxuaW1wb3J0IHsgQ29uc29sZUxvZ2dlciB9IGZyb20gJy4uLy4uLy4uL2NvcmUvQ29uc29sZUxvZ2dlcidcclxuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tICcuLi8uLi8uLi9jb3JlL0lMb2dnZXInXHJcbmltcG9ydCB7IFRlcm1pbmFsRGF0YVByb2Nlc3NvciB9IGZyb20gJy4uLy4uLy4uL2NvcmUvVGVybWluYWxEYXRhUHJvY2Vzc29yJ1xyXG5pbXBvcnQgeyBQb3dlck9wdGlvbnMgfSBmcm9tICcuLi9zaGFyZWQvUG93ZXJPcHRpb25zJ1xyXG5pbXBvcnQgeyBUZXJtaW5hbCB9IGZyb20gJ3h0ZXJtJ1xyXG5pbXBvcnQgVGVybSBmcm9tICcuL1Rlcm1pbmFsJ1xyXG5pbXBvcnQgeyBhdmFpbGFibGVQb3dlckFjdGlvbnMsIGdldEFjdGlvbkJ5SWQgfSBmcm9tICcuLi9zaGFyZWQvUG93ZXJBY3Rpb25zJ1xyXG5pbXBvcnQgJ3h0ZXJtL2Nzcy94dGVybS5jc3MnXHJcbmltcG9ydCAnLi9zb2wuc2NzcydcclxuaW1wb3J0IHsgcG93ZXJBY3Rpb25zIH0gZnJvbSAnLi4vc2VydmljZXMvUG93ZXJBY3Rpb25TZXJ2aWNlcydcclxuaW1wb3J0IFNuYWNrQmFyIGZyb20gJy4uL3NoYXJlZC9TbmFja0JhcidcclxuaW1wb3J0IHsgQW10RmVhdHVyZXMgfSBmcm9tICcuLi9zaGFyZWQvQW10RmVhdHVyZXMnXHJcbmltcG9ydCB7IFBvd2VyU3RhdGUgfSBmcm9tICcuLi9zaGFyZWQvUG93ZXJTdGF0ZSdcclxuaW1wb3J0IHsgdHJhbnNsYXRlVGV4dCB9IGZyb20gJy4uL3NoYXJlZC9NZXRob2RzJ1xyXG5pbXBvcnQgeyBEb21haW5Db250ZXh0IH0gZnJvbSAnLi4vc2hhcmVkL2NvbnRleHQvQmFzaWNDb250ZXh0UHJvdmlkZXInXHJcbmltcG9ydCB7IGlzRmFsc3kgfSBmcm9tICcuLi9zaGFyZWQvVXRpbGl0aWVzJ1xyXG5cclxuY29uc3QgU3R5bGVkRGl2ID0gU3R5bGUuZGl2YFxyXG5kaXNwbGF5IDogaW5saW5lLWJsb2NrO1xyXG5wYWRkaW5nIDogMHB4IDVweDtcclxuYFxyXG5cclxuY29uc3QgSGVhZGVyU3RyaXAgPSBTdHlsZS5kaXZgXHJcbmJhY2tncm91bmQtY29sb3I6IGRhcmtncmF5O1xyXG5wYWRkaW5nOiA1cHg7XHJcbmZvbnQtc2l6ZTogMTNweDtcclxudGV4dC1hbGlnbjogY2VudGVyO1xyXG5gXHJcblxyXG5jb25zdCBTdHlsZWRMYWJlbCA9IFN0eWxlLmxhYmVsYFxyXG5mb250LXNpemUgOiAxNXB4O1xyXG5tYXJnaW4tbGVmdDogMzBweDtcclxuYFxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTT0xQcm9wcyB7XHJcbiAgZGV2aWNlSWQ6IHN0cmluZyB8IG51bGxcclxuICBtcHNTZXJ2ZXI6IHN0cmluZyB8IG51bGxcclxuICBhdXRvQ29ubmVjdD86IGJvb2xlYW5cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTT0xTdGF0ZXMge1xyXG4gIGlzQ29ubmVjdGVkOiBib29sZWFuXHJcbiAgU09Mc3RhdGU6IG51bWJlclxyXG4gIHBvd2VyU3RhdGU6IG51bWJlclxyXG4gIHNob3dTdWNjZXNzOiBib29sZWFuXHJcbiAgbWVzc2FnZTogc3RyaW5nXHJcbiAgaXNTZWxlY3RlZDogYm9vbGVhblxyXG4gIHR5cGU6IHN0cmluZ1xyXG4gIHNvbE5vdEVuYWJsZWQ6IHN0cmluZ1xyXG4gIGRldmljZU9uU2xlZXA6IHN0cmluZ1xyXG4gIGlzUG93ZXJTdGF0ZUxvYWRlZDogYm9vbGVhblxyXG59XHJcblxyXG4vKiogY29udGFpbmVyIGNsYXNzIGZvciBTT0wgKi9cclxuZXhwb3J0IGNsYXNzIFNvbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxTT0xQcm9wcywgU09MU3RhdGVzPiB7XHJcbiAgcmVkaXJlY3RvcjogYW55XHJcbiAgdGVybWluYWw6IGFueVxyXG4gIGxvZ2dlcjogYW55XHJcbiAgZGF0YVByb2Nlc3NvcjogYW55XHJcbiAgY2FsbGJhY2s6IGFueVxyXG4gIHRlcm06IGFueVxyXG4gIGZyOiBGaWxlUmVhZGVyXHJcbiAgY29uc3RydWN0b3IgKHByb3BzOiBTT0xQcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpXHJcbiAgICB0aGlzLmxvZ2dlciA9IG5ldyBDb25zb2xlTG9nZ2VyKExvZ0xldmVsLkVSUk9SKVxyXG4gICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxyXG4gICAgICBTT0xzdGF0ZTogMCxcclxuICAgICAgcG93ZXJTdGF0ZTogMCxcclxuICAgICAgc2hvd1N1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiAnJyxcclxuICAgICAgaXNTZWxlY3RlZDogdHJ1ZSxcclxuICAgICAgdHlwZTogJycsXHJcbiAgICAgIHNvbE5vdEVuYWJsZWQ6ICcnLFxyXG4gICAgICBkZXZpY2VPblNsZWVwOiAnJyxcclxuICAgICAgaXNQb3dlclN0YXRlTG9hZGVkOiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdCA9ICgpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHNlcnZlcjogc3RyaW5nID0gdGhpcy5wcm9wcy5tcHNTZXJ2ZXIgIT0gbnVsbCA/IHRoaXMucHJvcHMubXBzU2VydmVyIDogJydcclxuICAgIGNvbnN0IGRldmljZVV1aWQ6IHN0cmluZyA9IHRoaXMucHJvcHMuZGV2aWNlSWQgIT0gbnVsbCA/IHRoaXMucHJvcHMuZGV2aWNlSWQgOiAnJ1xyXG4gICAgdGhpcy50ZXJtaW5hbCA9IG5ldyBBbXRUZXJtaW5hbCgpXHJcbiAgICB0aGlzLnJlZGlyZWN0b3IgPSBuZXcgQU1UUmVkaXJlY3RvcihcclxuICAgICAgdGhpcy5sb2dnZXIsXHJcbiAgICAgIFByb3RvY29sLlNPTCxcclxuICAgICAgbmV3IEZpbGVSZWFkZXIoKSxcclxuICAgICAgZGV2aWNlVXVpZCxcclxuICAgICAgMTY5OTQsXHJcbiAgICAgICcnLFxyXG4gICAgICAnJyxcclxuICAgICAgMCxcclxuICAgICAgMCxcclxuICAgICAgYCR7c2VydmVyfS9yZWxheWBcclxuICAgIClcclxuICAgIHRoaXMuZGF0YVByb2Nlc3NvciA9IG5ldyBUZXJtaW5hbERhdGFQcm9jZXNzb3IodGhpcy50ZXJtaW5hbClcclxuICAgIHRoaXMudGVybWluYWwub25TZW5kID0gdGhpcy5yZWRpcmVjdG9yLnNlbmQuYmluZCh0aGlzLnJlZGlyZWN0b3IpXHJcbiAgICB0aGlzLnJlZGlyZWN0b3Iub25OZXdTdGF0ZSA9IHRoaXMudGVybWluYWwuU3RhdGVDaGFuZ2UuYmluZCh0aGlzLnRlcm1pbmFsKVxyXG4gICAgdGhpcy5yZWRpcmVjdG9yLm9uU3RhdGVDaGFuZ2VkID0gdGhpcy5vblRlcm1pbmFsU3RhdGVDaGFuZ2UuYmluZCh0aGlzKVxyXG4gICAgdGhpcy5yZWRpcmVjdG9yLm9uUHJvY2Vzc0RhdGEgPSB0aGlzLmRhdGFQcm9jZXNzb3IucHJvY2Vzc0RhdGEuYmluZCh0aGlzLmRhdGFQcm9jZXNzb3IpXHJcbiAgICB0aGlzLmRhdGFQcm9jZXNzb3IucHJvY2Vzc0RhdGFUb1h0ZXJtID0gdGhpcy5oYW5kbGVXcml0ZVRvWHRlcm0uYmluZCh0aGlzKVxyXG4gICAgdGhpcy5kYXRhUHJvY2Vzc29yLmNsZWFyVGVybWluYWwgPSB0aGlzLmhhbmRsZUNsZWFyVGVybWluYWwuYmluZCh0aGlzKVxyXG4gICAgdGhpcy50ZXJtID0gbmV3IFRlcm1pbmFsKHtcclxuICAgICAgY3Vyc29yU3R5bGU6ICdibG9jaycsXHJcbiAgICAgIGZvbnRXZWlnaHQ6ICdib2xkJyxcclxuICAgICAgcm93czogMzAsXHJcbiAgICAgIGNvbHM6IDEwMFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGNsZWFuVXAgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnRlcm1pbmFsID0gbnVsbFxyXG4gICAgdGhpcy5yZWRpcmVjdG9yID0gbnVsbFxyXG4gICAgdGhpcy5kYXRhUHJvY2Vzc29yID0gbnVsbFxyXG4gICAgdGhpcy50ZXJtID0gbnVsbFxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCk6IHZvaWQge1xyXG4gICAgdGhpcy5pbml0KClcclxuICB9XHJcblxyXG4gIC8qKiB3cml0ZSB0aGUgcHJvY2Vzc2VkIGRhdGEgZnJvbSB3ZWJzY29rZXQgaW4gdG8geHRlcm0gKi9cclxuXHJcbiAgaGFuZGxlV3JpdGVUb1h0ZXJtID0gKHN0cik6IGFueSA9PiB0aGlzLnRlcm0ud3JpdGUoc3RyKVxyXG5cclxuICBoYW5kbGVDbGVhclRlcm1pbmFsID0gKCk6IGFueSA9PiB0aGlzLnRlcm0ucmVzZXQoKVxyXG5cclxuICAvKiogY2FwdHVyZSB0aGUgZGF0YSBvbiB4dGVybSBrZXkgcHJlc3MgKi9cclxuICBoYW5kbGVLZXlQcmVzcyA9IChkb21FdmVudCk6IGFueSA9PiB0aGlzLnRlcm1pbmFsLlRlcm1TZW5kS2V5cyhkb21FdmVudClcclxuXHJcbiAgaGFuZGxlS2V5RG93blByZXNzID0gKGRvbUV2ZW50KTogYW55ID0+IHRoaXMudGVybWluYWwuaGFuZGxlS2V5RG93bkV2ZW50cyhkb21FdmVudClcclxuXHJcbiAgc3RhcnRTT0wgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHRoaXMucmVkaXJlY3RvciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgdGhpcy5yZWRpcmVjdG9yLnN0YXJ0KFdlYlNvY2tldClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHN0b3BTT0wgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHRoaXMucmVkaXJlY3RvciAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgdGhpcy5yZWRpcmVjdG9yLnN0b3AoKVxyXG4gICAgfVxyXG4gICAgdGhpcy5oYW5kbGVDbGVhclRlcm1pbmFsKClcclxuICAgIHRoaXMuY2xlYW5VcCgpXHJcbiAgICB0aGlzLmluaXQoKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlU09MQ29ubmVjdCA9IChlKTogdm9pZCA9PiB7XHJcbiAgICBlLnBlcnNpc3QoKVxyXG4gICAgaWYgKHRoaXMuc3RhdGUuU09Mc3RhdGUgPT09IDApIHtcclxuICAgICAgdGhpcy5zdGFydFNPTCgpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnN0b3BTT0woKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25UZXJtaW5hbFN0YXRlQ2hhbmdlID0gKHJlZGlyZWN0b3IsIHN0YXRlOiBudW1iZXIpOiB2b2lkID0+IHRoaXMuc2V0U3RhdGUoeyBTT0xzdGF0ZTogc3RhdGUgfSlcclxuXHJcbiAgLyoqIHNlbmQgcG93ZXIgYWN0aW9ucyB0byBBTVQgZGV2aWNlICovXHJcbiAgaGFuZGxlUG93ZXJPcHRpb25zID0gYXN5bmMgKGUpOiBQcm9taXNlPGFueT4gPT4ge1xyXG4gICAgaWYgKGUuZGV0YWlsID09PSAwKSB7XHJcbiAgICAgIGNvbnN0IHsgbXBzS2V5IH0gPSB0aGlzLmNvbnRleHQuZGF0YVxyXG4gICAgICBjb25zdCBwb3dlckFjdGlvbjogc3RyaW5nID0gZ2V0QWN0aW9uQnlJZChwYXJzZUludChlLnRhcmdldC52YWx1ZSkpXHJcbiAgICAgIGlmICh0aGlzLnN0YXRlLlNPTHN0YXRlID09PSAzICYmIChlLnRhcmdldC52YWx1ZSA9PT0gJzgnIHx8IGUudGFyZ2V0LnZhbHVlID09PSAnNScpKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBzaG93U3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcclxuICAgICAgICAgIG1lc3NhZ2U6IGAke3Bvd2VyQWN0aW9ufSBub3QgYWxsb3dlZCB3aGlsZSB0ZXJtaW5hMSBpcyBjb25uZWN0ZWRgLFxyXG4gICAgICAgICAgaXNTZWxlY3RlZDogIXRoaXMuc3RhdGUuaXNTZWxlY3RlZFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcG93ZXJBY3Rpb25zKHRoaXMucHJvcHMuZGV2aWNlSWQsIGUudGFyZ2V0LnZhbHVlLCB0aGlzLnByb3BzLm1wc1NlcnZlciwgbXBzS2V5LCB0cnVlKS50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgIGNvbnN0IHJlc0JvZHkgPSByZXNwb25zZS5Cb2R5XHJcbiAgICAgICAgICBpZiAocmVzQm9keSAhPT0gdW5kZWZpbmVkICYmIHJlc0JvZHkuUmV0dXJuVmFsdWVTdHIgPT09ICdTVUNDRVNTJykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICBzaG93U3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsXHJcbiAgICAgICAgICAgICAgbWVzc2FnZTogYCR7cG93ZXJBY3Rpb259IHN1Y2Nlc3NgLFxyXG4gICAgICAgICAgICAgIGlzU2VsZWN0ZWQ6ICF0aGlzLnN0YXRlLmlzU2VsZWN0ZWRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgIHNob3dTdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXHJcbiAgICAgICAgICAgICAgbWVzc2FnZTogKHJlc0JvZHkgIT09IHVuZGVmaW5lZCAmJiByZXNCb2R5LlJldHVyblZhbHVlICE9PSAwKSA/IGAke3Bvd2VyQWN0aW9ufSAke1N0cmluZyhyZXNCb2R5LlJldHVyblZhbHVlU3RyKX1gIDogcmVzcG9uc2UuZXJyb3JEZXNjcmlwdGlvbiB8fCAnU29ycnkhIHRoZXJlIHdhcyBzb21lIHRlY2huaWNhbCBkaWZmaWN1bHRpZXMnLFxyXG4gICAgICAgICAgICAgIGlzU2VsZWN0ZWQ6ICF0aGlzLnN0YXRlLmlzU2VsZWN0ZWRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHNob3dTdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNTZWxlY3RlZDogIXRoaXMuc3RhdGUuaXNTZWxlY3RlZFxyXG4gICAgICAgICAgfSksIDQwMDApXHJcbiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgc2hvd1N1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IChpc0ZhbHN5KGVycm9yLmFqYXhFcnJvci5yZXNwb25zZSkgJiYgU3RyaW5nKGVycm9yLmFqYXhFcnJvci5yZXNwb25zZS5lcnJvcikpIHx8ICdQb3dlciBBY3Rpb24gRmFpbGVkJyxcclxuICAgICAgICAgICAgaXNTZWxlY3RlZDogIXRoaXMuc3RhdGUuaXNTZWxlY3RlZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIHNob3dTdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNTZWxlY3RlZDogIXRoaXMuc3RhdGUuaXNTZWxlY3RlZFxyXG4gICAgICAgICAgfSksIDQwMDApXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqIGNhbGxiYWNrIGZ1bmN0aW9ucyBmcm9tIGNoaWxkIGNvbXBvbmVudHMgdG8gdXBkYXRlIHRoZSBzdGF0ZSB2YWx1ZXMgKi9cclxuICBoYW5kbGVGZWF0dXJlU3RhdHVzID0gKHZhbHVlKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgc29sTm90RW5hYmxlZDogdmFsdWVcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVQb3dlclN0YXR1cyA9ICh2YWx1ZSk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGRldmljZU9uU2xlZXA6IHZhbHVlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlUG93ZXJTdGF0dXMgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgaXNQb3dlclN0YXRlTG9hZGVkOiB0cnVlXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0U09MU3RhdGUgPSAoKTogYW55ID0+IHRoaXMuc3RhdGUuU09Mc3RhdGUgPT09IDMgPyAyIDogMFxyXG5cclxuICByZW5kZXIgKCk6IFJlYWN0LlJlYWN0Tm9kZSB7XHJcbiAgICBjb25zdCB7IFNPTHN0YXRlLCBzaG93U3VjY2VzcywgbWVzc2FnZSwgdHlwZSwgZGV2aWNlT25TbGVlcCwgc29sTm90RW5hYmxlZCwgaXNQb3dlclN0YXRlTG9hZGVkIH0gPSB0aGlzLnN0YXRlXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XHJcbiAgICAgICAge3NvbE5vdEVuYWJsZWQgPT09ICdmYWlsZWQnICYmIGRldmljZU9uU2xlZXAgPT09ICdwb3dlcm9uJyA/IDxTbmFja0JhciBtZXNzYWdlPXt0cmFuc2xhdGVUZXh0KCdhbXRGZWF0dXJlcy5tZXNzYWdlcy5mYWlsZWRTb2xGZXRjaCcpfSB0eXBlPSdlcnJvcicgLz4gOiAnJ31cclxuICAgICAgICB7c29sTm90RW5hYmxlZCA9PT0gJ2ZhaWxlZCcgJiYgZGV2aWNlT25TbGVlcCA9PT0gJ3NsZWVwJyA/IDxTbmFja0JhciBtZXNzYWdlPXt0cmFuc2xhdGVUZXh0KCdhbXRGZWF0dXJlcy5tZXNzYWdlcy5mYWlsZWRTb2xGZXRjaEFuZE5vdFBvd2VyZWRVcCcpfSB0eXBlPSd3YXJuaW5nJyAvPiA6ICcnfVxyXG4gICAgICAgIHtzb2xOb3RFbmFibGVkID09PSAnZmFpbGVkJyAmJiBkZXZpY2VPblNsZWVwID09PSAnZmFpbGVkJyA/IDxTbmFja0JhciBtZXNzYWdlPXt0cmFuc2xhdGVUZXh0KCdhbXRGZWF0dXJlcy5tZXNzYWdlcy5mYWlsZWRTb2xGZXRjaEFuZEZhaWxlZFBvd2VyRmV0Y2gnKX0gdHlwZT0nZXJyb3InIC8+IDogJyd9XHJcbiAgICAgICAge3NvbE5vdEVuYWJsZWQgPT09ICdub3RFbmFibGVkJyAmJiBkZXZpY2VPblNsZWVwID09PSAnc2xlZXAnID8gPFNuYWNrQmFyIG1lc3NhZ2U9e3RyYW5zbGF0ZVRleHQoJ2FtdEZlYXR1cmVzLm1lc3NhZ2VzLnNvbE5vdEVuYWJsZWRBbmROb3RQb3dlcmVkVXAnKX0gdHlwZT17J3dhcm5pbmcnfSAvPiA6ICcnfVxyXG4gICAgICAgIHtzb2xOb3RFbmFibGVkID09PSAnbm90RW5hYmxlZCcgJiYgZGV2aWNlT25TbGVlcCA9PT0gJ2ZhaWxlZCcgPyA8U25hY2tCYXIgbWVzc2FnZT17dHJhbnNsYXRlVGV4dCgnYW10RmVhdHVyZXMubWVzc2FnZXMuc29sTm90RW5hYmxlZEFuZEZhaWxlZFBvd2VyRmV0Y2gnKX0gdHlwZT17J3dhcm5pbmcnfSAvPiA6ICcnfVxyXG4gICAgICAgIHtzb2xOb3RFbmFibGVkID09PSAnZW5hYmxlZCcgJiYgZGV2aWNlT25TbGVlcCA9PT0gJ3NsZWVwJyA/IDxTbmFja0JhciBtZXNzYWdlPXt0cmFuc2xhdGVUZXh0KCdhbXRGZWF0dXJlcy5tZXNzYWdlcy5ub3RQb3dlcmVkVXAnKX0gdHlwZT17J3dhcm5pbmcnfSAvPiA6ICcnfVxyXG4gICAgICAgIHtzb2xOb3RFbmFibGVkID09PSAnZW5hYmxlZCcgJiYgZGV2aWNlT25TbGVlcCA9PT0gJ2ZhaWxlZCcgPyA8U25hY2tCYXIgbWVzc2FnZT17dHJhbnNsYXRlVGV4dCgnYW10RmVhdHVyZXMubWVzc2FnZXMuZmFpbGVkUG93ZXJGZXRjaCcpfSB0eXBlPXsnZXJyb3InfSAvPiA6ICcnfVxyXG4gICAgICAgIHtzb2xOb3RFbmFibGVkID09PSAnbm90RW5hYmxlZCcgJiYgZGV2aWNlT25TbGVlcCA9PT0gJ3Bvd2Vyb24nID8gPFNuYWNrQmFyIG1lc3NhZ2U9e3RyYW5zbGF0ZVRleHQoJ2FtdEZlYXR1cmVzLm1lc3NhZ2VzLnNvbE5vdEVuYWJsZWQnKX0gdHlwZT17J3dhcm5pbmcnfSAvPiA6ICcnfVxyXG4gICAgICAgIHtzaG93U3VjY2VzcyAmJiA8U25hY2tCYXIgbWVzc2FnZT17bWVzc2FnZX0gdHlwZT17dHlwZX0gLz59XHJcbiAgICAgICAgPEhlYWRlclN0cmlwPlxyXG4gICAgICAgICAgPFN0eWxlZERpdj5cclxuICAgICAgICAgICAgPFN0eWxlZExhYmVsPlxyXG4gICAgICAgICAgICAgIHtpc1Bvd2VyU3RhdGVMb2FkZWQgJiYgPEFtdEZlYXR1cmVzXHJcbiAgICAgICAgICAgICAgICBkZXZpY2VJZD17dGhpcy5wcm9wcy5kZXZpY2VJZH1cclxuICAgICAgICAgICAgICAgIHNlcnZlcj17dGhpcy5wcm9wcy5tcHNTZXJ2ZXJ9XHJcbiAgICAgICAgICAgICAgICBmZWF0dXJlPXsnU09MJ31cclxuICAgICAgICAgICAgICAgIGhhbmRsZUZlYXR1cmVTdGF0dXM9e3RoaXMuaGFuZGxlRmVhdHVyZVN0YXR1c31cclxuICAgICAgICAgICAgICAgIGdldENvbm5lY3RTdGF0ZT17dGhpcy5nZXRTT0xTdGF0ZX1cclxuICAgICAgICAgICAgICAvPn1cclxuICAgICAgICAgICAgPC9TdHlsZWRMYWJlbD5cclxuICAgICAgICAgIDwvU3R5bGVkRGl2PlxyXG4gICAgICAgICAgPFN0eWxlZERpdj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXt0aGlzLmhhbmRsZVNPTENvbm5lY3R9PntTT0xzdGF0ZSA9PT0gMyA/ICdEaXNjb25uZWN0JyA6ICdDb25uZWN0J308L2J1dHRvbj5cclxuICAgICAgICAgIDwvU3R5bGVkRGl2PlxyXG4gICAgICAgICAgPFN0eWxlZERpdj5cclxuICAgICAgICAgICAgPFN0eWxlZExhYmVsPlBvd2VyIFN0YXR1cyA6PC9TdHlsZWRMYWJlbD5cclxuICAgICAgICAgICAgPFBvd2VyU3RhdGVcclxuICAgICAgICAgICAgICBkZXZpY2VJZD17dGhpcy5wcm9wcy5kZXZpY2VJZH1cclxuICAgICAgICAgICAgICBzZXJ2ZXI9e3RoaXMucHJvcHMubXBzU2VydmVyfVxyXG4gICAgICAgICAgICAgIGhhbmRsZVBvd2VyU3RhdHVzPXt0aGlzLmhhbmRsZVBvd2VyU3RhdHVzfVxyXG4gICAgICAgICAgICAgIHVwZGF0ZVBhcmVudD17dGhpcy51cGRhdGVQb3dlclN0YXR1c31cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvU3R5bGVkRGl2PlxyXG4gICAgICAgICAgPFN0eWxlZERpdj5cclxuICAgICAgICAgICAgPFN0eWxlZExhYmVsPlBvd2VyIEFjdGlvbnM6eycgJ308L1N0eWxlZExhYmVsPlxyXG4gICAgICAgICAgICA8UG93ZXJPcHRpb25zIGF2YWlsYWJsZU9wdGlvbnM9e2F2YWlsYWJsZVBvd2VyQWN0aW9uc30gb25DaGFuZ2U9e3RoaXMuaGFuZGxlUG93ZXJPcHRpb25zfSBpc1NlbGVjdGVkPXt0aGlzLnN0YXRlLmlzU2VsZWN0ZWR9IC8+XHJcbiAgICAgICAgICA8L1N0eWxlZERpdj5cclxuICAgICAgICA8L0hlYWRlclN0cmlwPlxyXG4gICAgICAgIHtTT0xzdGF0ZSA9PT0gMyAmJiB0aGlzLnRlcm0gJiYgPFRlcm0gaGFuZGxlS2V5UHJlc3M9e3RoaXMuaGFuZGxlS2V5UHJlc3N9IGhhbmRsZUtleURvd25QcmVzcz17dGhpcy5oYW5kbGVLZXlEb3duUHJlc3N9IHh0ZXJtPXt0aGlzLnRlcm19IC8+fVxyXG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuU29sLmNvbnRleHRUeXBlID0gRG9tYWluQ29udGV4dFxyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ4dGVybS9jc3MveHRlcm0uY3NzXCIpOyJdLCJzb3VyY2VSb290IjoiIn0=